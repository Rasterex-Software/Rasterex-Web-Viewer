!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("PDFViewCtrl")):"function"==typeof define&&define.amd?define(["PDFViewCtrl"],t):"object"==typeof exports?exports.HContinuousViewMode=t(require("PDFViewCtrl")):e.HContinuousViewMode=t(e.PDFViewCtrl)}(self,(e=>(()=>{"use strict";var t={778:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):t(e,n)}function n(e,n){if(!t(e,n))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},l(e,t,n||e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(t,n){return!n||"object"!=((r=n)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof n?e(t):n;var r}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}r.d(o,{default:()=>m});var f=r(778),h=function(e){s(r,e);var t=d(r);function r(){return n(this,r),t.apply(this,arguments)}return r}(f.viewMode.UsualViewModeShortcutHandler),g=f.ViewerEvents,p=f.vendors.jQuery,v=f.commons.debounce,m=function(t){s(f,t);var r,o,c,u=d(f);function f(t){var r;return n(this,f),(r=u.call(this,t)).diffHCache=null,r.pdfViewer=t.pdfViewer,r._rotateCallback=r._rotateCallback.bind(e(r)),r.scrollCurrentPageIntoView_debounced=v((function(){r.scrollCurrentPageIntoView()}),20),r}return r=f,c=[{key:"getName",value:function(){return"h-continuous-view-mode"}}],(o=[{key:"getJQItems",value:function(){return p(l(a(f.prototype),"getItems",this).call(this))}},{key:"into",value:function(e,t){var n=this;l(a(f.prototype),"into",this).call(this,e,t),this.pdfViewer.element.classList.add("fv__h-continuous-view-mode-layout");var r=this.constructor.getName(),o=["<style>","."+r+"{","white-space:nowrap;","height:100%;","display: flex;","align-items: center","}","."+r+":before{",'content:"";',"display:inline-block;","height:100%;","vertical-align: middle;","}","."+r+" .fv__pdf-view-mode-item{","margin-left:10px;","display:inline-block;","vertical-align: middle;","align-self: stretch;","display: flex;","align-items: center;","}","."+r+" .fv__pdf-view-mode-item .fv__pdf-page-not-rendered{","width: 50vw;","}","."+r+" .fv__pdf-page-layout.fv__rendering{","min-width:128px;","}","."+r+" .fv__pdf-view-mode-item:first-child{","margin-left:10px;","}","</style>"].join("");this.$style=p(o),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName()),this.docRender.$ui.parents(".fv__ui-pdfviewer").css({"overflow-y":"unset","overflow-x":"scroll"}),this.pdfViewer.eventEmitter.on(g.pageRotationChange,this.rotateCallback=function(e,t,r){var o=n.pdfViewer.getPDFPageRender(e.getIndex());n._rotateCallback(o,t)}),this.pdfViewer.eventEmitter.on(g.pagesRotated,this.rotatePagesCallback=function(e,t,r){e.forEach((function(e,t){n.rotateCallback(e,newRotation,oldRotations[t])}))});var i=this.docRender.viewerRender.scrollWrap;this._unwatchScrollEvent=i.addScrollEventListener((function(){clearTimeout(n.scrollEventTimer);var e=n.getCurrentPageIndex();n.scrollEventTimer=setTimeout((function(){var t=n.docRender.pagesRender;t&&t.renderVisiblePages().then((function(){var t=n.getCurrentPageIndex();t!==e&&n.docRender.setCurrentPageIndex(t)}),(function(){}))}),30)})),this.onPageNumberChange=function(){n.scrollCurrentPageIntoView_debounced()},this.unobservePageNumberChangeEvent=this.pdfViewer.addEventListener(g.pageNumberChange,this.onPageNumberChange)}},{key:"renderViewMode",value:function(e,t,n,r,o){}},{key:"jumpToPage",value:function(e,t){var n=t.x,r=void 0===n?0:n,o=t.y,i=void 0===o?0:o,a=this.getJQItems();e>=a.length?e=a.length-1:e<0&&(e=0);var l=a[e],c=l.offsetLeft+r,s=l.firstElementChild.offsetTop+i;this.docRender.viewerRender.scrollWrap.scrollTo(c,s),this.docRender.viewerRender.scrollWrap.disabled||this.scrollCurrentPageIntoView_debounced()}},{key:"_rotateCallback",value:function(e,t){var n=e.getShowWidth(),r=e.getShowHeight();if(this.getJQItems().eq(e.index),t%2!=0){var o=n;n=r,r=o}this.docRender.pagesRender.$ui.height()}},{key:"getCurrentPageIndex",value:function(){var e,t=this.getJQItems(),n=this.docRender.viewerRender.scrollWrap.getScrollHost();e=n===window?{x:0,y:0,right:window.innerWidth,height:window.innerHeight}:n.getBoundingClientRect();for(var r=0,o=0,i=0,a=0;a<t.length;a++){var l=t[a].getBoundingClientRect(),c=w(e,l);if(c&&0==i&&(i=1),c>r&&(r=c,o=a),!c&&1==i){i=2;break}}return o}},{key:"getFitHeight",value:function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()}},{key:"getFitWidth",value:function(e){return this.docRender.viewerRender.scrollWrap.getScrollHost().clientWidth}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();return t<e-1&&t++,t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();return e>0&&e--,e}},{key:"out",value:function(){this.pdfViewer.element.classList.remove("fv__h-continuous-view-mode-layout"),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.$ui.parents(".fv__ui-pdfviewer").css({"overflow-x":"","overflow-y":""}),this.pdfViewer.eventEmitter.off(g.pageRotationChange,this.rotateCallback),this.pdfViewer.eventEmitter.off(g.pagesRotated,this.rotatePagesCallback),this.docRender.pagesRender.$ui.css({paddingTop:"",paddingBottom:""}),this.unobservePageNumberChangeEvent(),this.$style&&this.$style.remove();for(var e=this.getJQItems(),t=0;t<e.length;t++)e.eq(t).css({paddingTop:"",paddingBottom:"",marginTop:"",marginBottom:"",paddingLeft:"",paddingRight:"",marginLeft:"",marginRight:""})}},{key:"generateShortcutEventHandler",value:function(){return new h(this)}},{key:"scrollCurrentPageIntoView",value:function(){if(this.docRender){var e=this.docRender.getCurrentPageIndex(),t=this.docRender.getPDFPageRender(e);t&&!t.pageAreaIsVisible&&t.$ui.get(0).scrollIntoViewIfNeeded(!0)}}}])&&i(r.prototype,o),c&&i(r,c),f}(f.IViewMode),w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.max(e.left,t.left),o=Math[n?"min":"max"](e.top,t.top),i=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(r<=a)if(n){if(o>=i)return(a-r)*(o-i)}else if(o<=i)return(a-r)*(i-o);return 0}})(),o=o.default})()));