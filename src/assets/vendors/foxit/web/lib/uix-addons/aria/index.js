!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.ARIAUIXAddon=t(require("UIExtension")):e.ARIAUIXAddon=t(e.UIExtension)}(self,(e=>(()=>{var t={511:e=>{e.exports=null},616:t=>{"use strict";t.exports=e}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a={};return(()=>{"use strict";function e(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):e(t,n)}function t(t,n){if(!e(t,n))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}i.d(a,{default:()=>eo});var d=i(616),f=i(511),h=i.n(f);function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n||e):a.value}},v(e,t,n||e)}var m=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"init",value:function(e){v(c(i.prototype),"init",this).call(this,e),this.attrValue&&e.setAttribute("role",this.attrValue)}}],[{key:"getName",value:function(){return"role"}}]),i}(d.Directive),p=d.PDFViewCtrl,b=p.PDF,g=(b.form.constant.Field_Type,p.shared.browser.eventPath),y=b.constant,_=(y.Action_Trigger,y.Graphics_ObjectType,p.keyboard),E=(_.BuiltinShortcutCommand,_.BuiltinShortcutContext,_.KeyboardUtils),w=p.ViewerEvents,k=d.UIConsts.COMPONENT_EVENTS,x=(d.Directive,p.shared.debounce),A=p.constants.PagePointType,S=p._internal.shared,C=(S.Lazy,S.attachKeypressEvent),D=(S.preventFastClickByKeydown,S.createClickEvent),L=(d.PDFUI,p.shared.ThrottleAsyncTaskExecutor),q=p.constants.STATE_HANDLER_NAMES.STATE_HANDLER_HAND,$=p.commons.isEditable,T=p.vendors.jQuery;function P(e,t){if(e)for(var n in t)I(e,n,t[n])}function I(e,t,n){null!=n&&e&&e.getAttribute(t)!==n+""&&e.setAttribute(t,n)}function N(e,t){e&&t&&e.removeAttribute(t)}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e&&n.forEach((function(t){t&&e.removeAttribute(t)}))}var F=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=this.subName;if("tablist"===n)I(t.element,"role","tablist");else if("tab"===n){var i=t.element.getAttribute("body");t.getRoot().getMountedComponentByName(i).then((function(n){e.isDestroyed||P(t.element,{role:"tab","aria-selected":"false","aria-controls":n.element.id})}))}else if("tabpanel"===n){var a=t.getRoot().getComponentByName("toolbar-tabs").element.querySelector("[body=".concat(t.name,"]"));if(!a)return;P(t.element,{role:"tabpanel",tabindex:"0","aria-labelledby":a.id})}}}],[{key:"getName",value:function(){return"toolbar"}}]),i}(d.Directive);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function M(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B="__aria_addon_override_methods__";function U(e,t){z(e.prototype,t,!0)}function z(e,t){var n=function(n){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this;return r.call(this,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return o.apply(i,e)}),t)},r=t[n];if(r[B])throw new Error("The method '".concat(n,"' of ").concat(clazz," has been overwrited more then once! Please confirm whether the'aria' addon has been loaded."));var o=e[n];a.$origin=o,e[n]=a,a[B]=!0,i||"function"!=typeof e.addDestroyHook||e.addDestroyHook((function(){a[B]=!1,e[n]=o}))},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in t)n(a)}var V="unique_"+Date.now().toString(36),j=0;function G(e){return[e||"",V,j++].join("_")}var K=d.PDFViewCtrl.shared.isEditableElement,W=E.match,X=E.matchers,Q=E.isMatch,Y=X.or,J=X.ArrowUp,Z=X.ArrowDown,ee=X.ArrowLeft,te=X.ArrowRight,ne=X.Enter,ie=X.Space,ae=X.Home,re=X.End,oe=X.Tab;function le(e,t,n,i,a,r,o){try{var l=e[r](o),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function o(e){le(r,i,a,o,l,"next",e)}function l(e){le(r,i,a,o,l,"throw",e)}o(void 0)}))}}function se(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,l[0]&&(o=0)),o;)try{if(n=1,i&&(a=2&l[0]?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,i=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],i=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var ue=E.match,de=E.matchers,fe=de.Enter,he=de.ArrowUp,ve=de.ArrowDown,me=de.Escape;function pe(){return pe=ce((function(e,t){var n,i,a,r,o,l,c,s,u,d,f,h,v,m,p,b,g;function y(e,t){var n=r.querySelector("#"+e),i=n.querySelector("label"),a=n.querySelector("input"),o=G(t);P(i,{id:o}),P(a,{"aria-labelledby":o})}return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("create-stamp-dialog")];case 1:return n=e.sent(),i=n.element.querySelector(".fv__ui-layer-inner"),a=n.querySelector("@stamp:stamp-create"),r=a.element,o=r.querySelector(".fv__ui-stamp-dropdown"),l=r.querySelector(".fv__ui-stamp-source"),c=G("stamp-dropdown"),P(i,{role:"application"}),P(o,{tabindex:"0",role:"button","aria-haspopup":"listbox",id:c}),P(l,{role:"listbox","aria-labelledby":c,tabindex:"-1"}),l.querySelectorAll("li").forEach((function(e,t){P(e,{"aria-posinset":t,tabindex:0,role:"option"})})),l.querySelector("#stamp-local-path"),s=r.querySelector("#stampCategory"),u=s.querySelector("label"),d=G("stamp-category"),f=s.querySelector("input"),h=s.querySelector("select"),P(u,{id:d}),P(f,{"aria-labelledby":d}),P(h,{"aria-labelledby":d}),v=r.querySelector("#stampType"),m=v.querySelector("label"),p=v.querySelector("select"),b=G("stamp-type"),P(m,{id:b}),P(p,{"aria-labelledby":b}),y("stampName","stamp-name"),y("stampWidth","stamp-width"),y("stampHeight","stamp-height"),g=n.querySelectorAll("@xbutton[data-action=OK]"),o.addEventListener("keyup",(function(e){ue(e).when(fe,(function(){var t=l.style;t.display="block"===t.display?"none":"block",l.firstElementChild.focus(),e.stopPropagation()})).when(me,(function(){l.style.display="none",o.focus(),e.stopPropagation()}))})),l.addEventListener("keyup",(function(e){ue(e).switchers(!1).when(fe,(function(){var t=e.target;"LI"===t.tagName&&(t.querySelector("#stamp-local-path")?t.querySelector("span").click():t.querySelector(".fv__ui-stamp-source-lable").click());e.stopPropagation()})).when(he,(function(){var e=document.activeElement;if("LI"===e.tagName){var t,n=M(e.parentElement.children),i=n.indexOf(e);n[--i]?(t=n[i]).focus():(t=e.parentElement.lastElementChild).focus(),e.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true")}})).when(ve,(function(){var e=document.activeElement;if("LI"===e.tagName){var t,n=M(e.parentElement.children),i=n.indexOf(e);n[++i]?(t=n[i]).focus():(t=e.parentElement.firstElementChild).focus(),e.removeAttribute("aria-selected"),t.setAttribute("aria-selected","true")}})).when(me,(function(){l.style.display="none",o.focus(),e.stopPropagation()}))})),n.element.addEventListener("keydown",(function(e){ue(e).switchers(!1).when(fe,(function(){var e=document.activeElement;e.classList&&e.classList.contains("fv__ui-stamp-dialog")?g[0].element.click():"Close"===e.getAttribute("data-action")&&e.children[0].click()})),e.stopPropagation()})),l.querySelector("#stamp-local-path").addEventListener("click",(function(e){o.focus()})),[2]}}))})),pe.apply(this,arguments)}function be(){return(be=ce((function(e,t){return se(this,(function(e){switch(e.label){case 0:return[4,t.getAllMountedComponentsByName("fv--addon-textobject-font-family-size-dropdown")];case 1:return e.sent().forEach((function(e){e.querySelectorAll("@dropdown-button").forEach((function(e){e.setAttribute("role","option")}));var n=e.childAt(1),i="aria:labels.set-font-size";n.on("select",(function(){n._unwatchAriaLabel&&n._unwatchAriaLabel(),n._unwatchThisLabel&&n._unwatchThisLabel();var e=t.localizer.translateSync(i);n.togglerElement.setAttribute("aria-label",e)})),t.localizer.watch(i,{},"",(function(e){n.togglerElement.setAttribute("aria-label",e)}))})),[2]}}))}))).apply(this,arguments)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return r}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ye=E.match,_e=E.matchers,Ee=(_e.ArrowUp,_e.ArrowDown,_e.Home,_e.End,_e.Enter),we=null;function ke(){return ke=ce((function(e,t){var n,i,a,r,o,l,c,s,u;return se(this,(function(d){switch(d.label){case 0:return[4,t.waitForComponentLifecycle("page-template-dialog","mounted")];case 1:return n=ge.apply(void 0,[d.sent(),1]),(i=n[0])?(we=i.element,P(a=i.getComponentByName("nameTree"),{role:"group","aria-live":"assertive"}),r=t.localizer,o="aria:labels.visibleBox",l=i.controller.resetNameTreeUI,i.controller.resetNameTreeUI=function(){return l.apply(this,arguments).then((function(){var t;Array.from(a.element.children).forEach((function(n,i){n.classList.add("fv__addon-aria-page-template-name-tree-item");var l=n.classList.contains("selected");P(n.lastElementChild,{"aria-posinset":i,tabindex:"0",role:"listitem","aria-selected":l});var c=n.querySelector("[name=visibleBox]");P(c,{role:"checkbox","aria-checked":!0,tabindex:0,"aria-label":r.translateSync(o)}),l&&(t=n.lastElementChild),n.addEventListener("click",(function(){t!==n&&(t&&I(t,"aria-selected","false"),I(n.lastElementChild,"aria-selected","true"),t=n.lastElementChild)})),a.element.addEventListener("keyup",(function(e){var t=e.target;ye(e).when(Ee,(function(){t.click(),xe()})),e.stopPropagation()})),c.addEventListener("click",(function(t){var n=t.target.querySelector(".eye");I(t.target,"aria-checked",Boolean(n)),e.eventEmitter.once("completed-render-visible-pages",(function(){t.target.focus()}))})),c.addEventListener("keyup",(function(e){var t=e.target;ye(e).when(Ee,(function(){t.click()})),e.stopPropagation()}))}))}))},c=i.controller.resetPageThumb,i.controller.resetPageThumb=function(){var e=this;return function(t){c.apply(e,t),Array.from(a.element.children).forEach((function(e,t){e.classList.add("fv__addon-aria-page-template-name-tree-item");var n=e.classList.contains("selected");P(e.lastElementChild,{"aria-posinset":t,tabindex:"0",role:"listitem","aria-selected":n});var i=e.querySelector("[name=visibleBox]"),a=Boolean(i.querySelector(".eye"));P(i,{role:"checkbox","aria-checked":a,tabindex:0,"aria-label":r.translateSync(o)})}))}(arguments)},s=i.controller.resetButtonUI,i.controller.resetButtonUI=function(){var e=this;return function(t){s.apply(e,t),xe()}(arguments)},u=i.controller.resetUI,i.controller.resetUI=function(){var e=this,t=arguments;return u.apply(e,t),void xe()},i.controller.$name.on("keyup",xe),[2]):[2]}}))})),ke.apply(this,arguments)}function xe(){we.querySelectorAll(".fv__ui-dialog-button").forEach((function(e){e.classList.contains("disabled")?(e===document.activeElement&&we.querySelector("[name=name]").focus(),P(e,{tabindex:-1,disabled:!0})):(I(e,"tabindex",0),N(e,"disabled"))}))}var Ae=E.isMatch,Se=(E.match,E.matchers),Ce=Se.or,De=Se.Space,Le=Se.Enter;var qe=E.match,$e=E.matchers,Te=$e.Enter,Pe=$e.Space,Ie=$e.or;function Ne(){return(Ne=ce((function(e,t){var n,i,a,r,o,l;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("print-dialog")];case 1:return(n=e.sent())?(i=n.querySelector("fv--print-page-size-container>@div"),a=n.getComponentByName("print-dropdown-quality"),r=n.querySelector("fv--print-page-size-container::nextSiblings()"),a&&i&&P(a.cursorElement,{"aria-labelledby":i.id}),r&&P(r,{role:"alert","aria-live":"assetive","aria-atomic":"true"}),(o=n.getComponentByName("print-dialog-ok-btn"))&&(l=function(e){qe(e).when(Ie(Te,Pe),(function(){o.element.click()}))},o.element.addEventListener("keyup",l),n.addDestroyHook((function(){o.element.removeEventListener("keyup",l)}))),U(n.controller.constructor,{showError:function(e,t){var n=ge(t,1)[0];e(n),n.attr("aria-invalid","true"),n.focus(),n[0].onblur=function(){n.removeAttr("aria-invalid")}}}),[2]):[2]}}))}))).apply(this,arguments)}var He=E.match,Fe=E.matchers,Re=E.isMatch,Oe=Fe.ArrowUp,Me=Fe.ArrowDown,Be=Fe.ArrowLeft,Ue=Fe.ArrowRight,ze=Fe.or,Ve=Fe.Enter,je=Fe.Space,Ge=Fe.Escape,Ke=15;function We(e){if(e.isActive)if(e.selectable&&e.selectedItem&&!e.selectedItem.disabled)e.selectedItem.focus();else if(!e.selectable){var t=e.childAt(0);if(!t)return;for(var n=t,i=1;n&&n.disabled;)n=e.childAt(i),i++;if(!n)return;if(n.focus(),!n.hasFocus()){var a=n.childAt&&n.childAt(0);a&&a.focus()}}}var Xe=E.isMatch,Qe=E.matchers,Ye=Qe.or,Je=Qe.Enter,Ze=Qe.Space,et=0;function tt(e){return e+(et++).toString(36)}function nt(e){return e.separate?e.caretElement:e.togglerElement}var it=E.match,at=E.matchers.Enter;E.match;var rt=E.matchers;rt.Space,rt.Enter,rt.ArrowLeft,rt.ArrowRight,rt.Home,rt.End,rt.Tab,rt.or;var ot=d.PDFViewCtrl.shared.createFocusEvent,lt=E.match,ct=E.matchers;function st(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n&&i}var ut=E.match,dt=E.matchers.Enter;var ft=["Static","SignHere","Dynamic","Favorite"];var ht=E.match,vt=E.matchers,mt=vt.Enter,pt=vt.Space,bt=vt.Home,gt=vt.End,yt=vt.ArrowLeft,_t=vt.ArrowRight,Et=vt.or;var wt=E.match,kt=E.matchers,xt=E.isMatch,At=kt.Tab,St=kt.Enter,Ct=kt.Escape,Dt=kt.Home,Lt=kt.End,qt=kt.ArrowUp,$t=kt.ArrowDown,Tt=kt.or;var Pt=function(e,t,n){if(t.lable){var i=t.lable;n.addDestroyHook(n.localizer.watch(i,{},i,(function(t){e.setAttribute("aria-label",t)})))}else e.setAttribute("aria-label",t.value)},It=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"init",value:function(e){v(c(i.prototype),"init",this).call(this,e);var t=this.subName,n=this.attrValue;this.addDestroyHook(e.controller.watch(n,(function(n){e.setAttribute("aria-"+t,n)})))}}],[{key:"getName",value:function(){return"attr"}}]),i}(d.Directive),Nt=function(n){l(a,n);var i=u(a);function a(e){var n;return t(this,a),(n=i.call(this,e)).order=1/0,n}return r(a,[{key:"componentMounted",value:function(){var t=this,n=this.component,i=e(n,d.components.widgets.DropdownComponent),a=e(n,d.components.widgets.RibbonButtonComponent),r=!i&&e(n,d.components.widgets.SelectComponent),o=function(){if(i){switch(t.subName){case"caret":return n.caretElement;case"icon":return n.iconElement;case"editor":return n.editElement;case"list":return n.listElement}return n.togglerElement}if(a){if("list"===t.subName){var e=n.getDropdown();return e&&e.listElement}}else if(r)return n.element.querySelector(".fv__ui-select");return n.element}(),l=this.attrValue;l||(l=n.text),l||(l=n.getAttribute("tooltip-title"));var c=n.localizer.watch(l,{},l,(function(e){o.getAttribute("aria-labelledby")&&o.removeAttribute("aria-labelledby"),o.setAttribute("aria-label",e)}));this.addDestroyHook(c)}}],[{key:"getName",value:function(){return"label"}}]),a}(d.Directive),Ht=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=x((function(){if(!t.isDestroyed){var n=t.querySelectorAll(e.attrValue);if(n.length>0){var i=n.map((function(e){return e.id}));t.setAttribute("aria-describedby",i.join(" "))}else t.removeAttribute("aria-describedby")}}),100),i=t.context;this.addDestroyHook(i.onModifyTree(n),i.onStatusChange(n))}}],[{key:"getName",value:function(){return"describedby"}}]),i}(d.Directive),Ft=function(n){l(a,n);var i=u(a);function a(){return t(this,a),i.apply(this,arguments)}return r(a,[{key:"componentMounted",value:function(){var t=this,n=this.component,i=e(n,d.components.widgets.DropdownComponent),a=!i&&e(n,d.components.widgets.SelectComponent),r=x((function(){if(!n.isDestroyed){var e=n.querySelectorAll(t.attrValue),r=function(){if(i){switch(t.subName){case"caret":return n.caretElement;case"icon":return n.iconElement;case"editor":return n.editElement}return n.togglerElement}return a?n.element.querySelector(".fv__ui-select"):n.element}();if(r)if(e.length>0){var o=e.map((function(e){return e.id}));r.setAttribute("aria-labelledby",o.join(" "))}else r.removeAttribute("aria-labelledby")}}),100),o=n.context;this.addDestroyHook(o.onModifyTree(r),o.onStatusChange(r))}}],[{key:"getName",value:function(){return"labelledby"}}]),a}(d.Directive),Rt=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"componentMounted",value:function(){var e=this,t=this.component,n=x((function(){if(!t.isDestroyed){var n=t.querySelectorAll(e.attrValue),i=e.subName;switch(i){case"activedescendant":case"describedby":case"labelledby":case"flowto":case"owns":case"controls":break;default:throw new Error("[ARIA]".concat(e.attrName,": Unidentified relative aria property: ").concat(i))}var a="aria-"+i;if(n.length>0){var r=n.map((function(e){return e.id}));t.setAttribute(a,r.join(" "))}else t.removeAttribute(a)}}),100),i=t.context;this.addDestroyHook(i.onModifyTree(n),i.onStatusChange(n))}}],[{key:"getName",value:function(){return"rel"}}]),i}(d.Directive),Ot=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"init",value:function(e){v(c(i.prototype),"init",this).call(this,e),this.addDestroyHook(e.localizer.watch(this.attrValue,{},this.attrValue,(function(t){e.setAttribute("alt",t)})))}}],[{key:"getName",value:function(){return"alt"}}]),i}(d.Directive);var Mt=E.match,Bt=E.matchers;var Ut=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"componentMounted",value:function(){var e=this,t=this.component;P(t,{role:"button",tabindex:0});var n=setInterval((function(){if(!e.isDestroyed){var n=t.element;P(n,{"aria-disabled":n.classList.contains("disabled"),tabindex:n.classList.contains("disabled")?"-1":"0"})}}),500);this.addDestroyHook((function(){clearInterval(n)}))}}],[{key:"getName",value:function(){return"button"}}]),i}(d.Directive);var zt=["$"," DM","€","fl"," F"," kr","Lit. "," Pts","£","$A. ","$NZ. ","Руб ","ESC. ","HK$ ","P. ","RMB¥","NT$ ","S.$ ","W","¥","zł","SEK ","kr ","C$ "],Vt=function(){function e(){t(this,e)}return r(e,null,[{key:"GetSeperatorString",value:function(e,t){var n=""+e,i=n.length;return i>3?0==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+"."+n.substr(i-3):1==t?this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+","+n.substr(i-3):this.GetSeperatorString(parseInt(n.substr(0,i-3)),t)+" "+n.substr(i-3):n}},{key:"GetSampNumberFormat",value:function(e,t,n,i,a,r){var o="",l="",c=[];if(t>=0&&n>=0&&i>=0&&r>=0){var s="",u="",d=(l=""+e.toFixed(parseInt(t))).indexOf(".");d>0?(u=l.substr(0,d),s=l.substr(d)):(u=l,s="");var f="";for(0==n&&(f=this.GetSeperatorString(parseInt(u),1)+s),1==n&&(f=l),2==n&&(s=s.replace(".",","),f=this.GetSeperatorString(parseInt(u),0)+s),3==n&&(f=(f=l).replace(".",",")),4==n&&(s=s.replace(".",","),f=this.GetSeperatorString(parseInt(u),2)+s);;){if(0==a){o="$";break}if(1==a){o="DM";break}if(2==a){o="€";break}if(3==a){o="f";break}if(4==a){o="F";break}if(5==a){o="kr";break}if(6==a){o="Lit.";break}if(7==a){o="Pts";break}if(8==a){c[0]=163,o=String.fromCharCode.apply(String,c);break}if(9==a){o="$A.";break}if(10==a){o="$NZ.";break}if(11==a){c[0]=1056,c[1]=1091,c[2]=1073,o=String.fromCharCode.apply(String,c);break}if(12==a){o="ESC.";break}if(13==a){o="HK$";break}if(14==a){o="P.";break}if(15==a){c[0]=65509,o=String.fromCharCode.apply(String,c);break}if(16==a){o="NT$";break}if(17==a){o="S.$";break}if(18==a){c[0]=8361,o=String.fromCharCode.apply(String,c);break}if(19==a){c[0]=165,o=String.fromCharCode.apply(String,c);break}if(20==a){c[0]=122,c[1]=322,o=String.fromCharCode.apply(String,c);break}if(21==a){o="SEK";break}if(22==a){o="kr";break}if(23==a){c[0]=67,c[1]=36,o=String.fromCharCode.apply(String,c);break}if(a>23||a<0)break}if(2&i){0==r?l="("+f+" "+o+")":("(%s",l="("+o+f+")")}else if(0==r)l=f+o;else{l=o+f}}return l}},{key:"GetSampPercentFormat",value:function(e,t,n){var i="";if(t>=0&&n>=0){i=""+(100*e).toFixed(parseInt(t));var a="",r="",o=(i+="%").indexOf(".");o>0?(r=i.substr(0,o),a=i.substr(o)):(r=i,a="");var l="";0==n&&(l=this.GetSeperatorString(parseInt(r),1)+a),1==n&&(l=i),2==n&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(r),0)+a),3==n&&(l=(l=i).replace(".",",")),4==n&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(r),2)+a),i=l}return i}},{key:"GetFormatStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0}},{key:"GetKeystrokeStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0}},{key:"GetPercentageValues",value:function(e){var t,n=-1,i=e.length,a=e.indexOf("("),r=i-a-3,o=e.substr(a+1,r).split(","),l=o[0];t=Number(l);for(var c=0;c<o.length&&!(++c>=2)&&""!=(l=o[c]);)1==c&&(n=Number(l));return{iDec:t,iSep:n}}},{key:"StringFromUnicode",value:function(e){for(var t=!1,n="0x",i="",a=0;a<e.length;a++){var r=e[a];"\\"==e[a]&&a+1<e.length&&("u"==e[a+1]||"U"==e[a+1])?(a+=1,t&&(i+=String.fromCharCode(n),n="0x"),t=!0):t?n+=r:(i+=r,t=!1)}return t&&(i+=String.fromCharCode(n)),i}},{key:"GetNumberValues",value:function(e){var t,n=1,i=-1,a=-1,r=-1,o=-1,l=e.length,c=e.indexOf("("),s=l-c-3,u=e.substr(c+1,s).split(",");t=Number(u[0]);for(var d=0;d<u.length&&!(++d>=6);){var f=u[d];if(""==f)break;if(1!=d)if(2!=d)if(3!=d)if(4!=d){if(5==d)o=f.indexOf("false")>=0?0:1}else{var h=f;if(""==h){r=-1;continue}h=(h=(h=(h=h.replace(/"/g,"")).replace(/'/g,"")).replace("\\u0020"," ")).trim(),h=this.StringFromUnicode(h);for(var v=0;v<24;v++){var m=zt[v];if(h==(m=(m=m.replace(" "," ")).trim())){r=v;break}}v>23&&(r=-1)}else a=0;else{var p=Number(f);0!=p&&1!=p&&2!=p&&3!=p||(i=p)}else n=Number(f)}return{iDec:t,iSep:n,iNeg:i,iDef:a,iMoney:r,iPre:o}}},{key:"GetRangeValues",value:function(e){for(var t,n=!1,i=!1,a="",r="",o=e.indexOf("("),l=e.indexOf(")"),c=e.substr(o+1,l-o-1).split(","),s=0;s<c.length;){t=(t=c[s]).trim(),0==s||2==s?"true"==t.toLowerCase()?0==s?n=!0:i=!0:0==s?n=!1:i=!1:1!=s&&3!=s||(1==s?a=t:r=t),s++}return{bFrom:n,bTo:i,csiFrom:a,csiTo:r}}}]),e}(),jt=E.match,Gt=E.matchers,Kt=Gt.ArrowUp,Wt=Gt.ArrowDown;var Xt=E.match,Qt=E.matchers,Yt=Qt.Enter,Jt=Qt.Space,Zt=Qt.ArrowUp,en=Qt.ArrowDown,tn=Qt.ArrowLeft,nn=Qt.ArrowRight,an=Qt.or;function rn(e){e&&U(e.addon.constructor,{getDialog:function(e){var t=e();return function(e){var t=e.$element;if(!t)return;if("field-pick-dialog"===e.dialog.attrs.name){on(t);var n=t.find('input[type="radio"]');n.off("focus"),n.on("focus",(function(e){on(t),function(e,t){var n=e.target.parentElement.querySelectorAll(".fv__pick-left input[type=radio] + label + .fv__submit-datas input");n.length>0&&n.forEach((function(e){e.removeAttribute("disabled")}))}(e)})),n.off("change"),n.on("change",(function(e){var n=t.find(".fv__fiels-bottom .fv__field-buttons #selectAll"),i=t.find(".fv__fiels-bottom .fv__field-buttons #deselectAll");"selectedFieldsButton"===e.target.id?(n.attr("tabindex","0"),i.attr("tabindex","0")):(n.attr("tabindex","-1"),i.attr("tabindex","-1"))}))}else if("multiple-copy-dialog"===e.dialog.attrs.name){var i=t.find(".fv__multiple-copy-position .bg-wrap");i.off("keydown"),i.on("keydown",ln)}var a=t.find("[role=button]");a.off("keyup",cn),a.on("keyup",cn)}(t),t}})}function on(e){e.find(".fv__pick-left input[type=radio] + label + .fv__submit-datas input").attr("disabled","true")}function ln(e){var t=this;Xt(e).when(tn,(function(){t.querySelector(".left").focus()})).when(nn,(function(){t.querySelector(".right").focus()})).when(en,(function(){t.querySelector(".down").focus()})).when(Zt,(function(){t.querySelector(".up").focus()}))}function cn(e){var t=this;Xt(e.originalEvent).when(an(Yt,Jt),(function(){t.click(e)}))}var sn=b.form.constant.Field_Type,un=b.constant.Action_Trigger,dn=E.match,fn=E.matchers,hn=fn.ArrowRight,vn=fn.ArrowLeft,mn=fn.Home,pn=fn.End,bn=fn.Enter;function gn(){return gn=ce((function(e,t){var n;function i(){n.dialog.localizer.watch("aria:labels.close-layer-btn",{},"aria:labels.close-layer-btn",(function(e){n.$dialog.find("[name=closeDialog]").attr("aria-label",e)})),n.$tabNav.attr("role","tab"),n.$tabNav.attr("tabindex","-1"),n.$tabNav.filter(".active").attr("tabindex","0"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.each((function(e,t){var i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.attr("role","tabpanel"),i.eq(e).attr("aria-labelledby",t.id),t.setAttribute("aria-controls",i.eq(e).attr("id"))})),function(){n.$tabNav.on("keydown",v),n.$tabNav.on("focus",(function(e){n.$tabNav.attr("tabindex","-1"),n.$tabNav.attr("aria-selected","false"),e.target.setAttribute("tabindex","0"),e.target.setAttribute("aria-selected","true")})),n.$dialog.find("[role='button']").on("keydown",v),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").on("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").on("click",s),n.$dialog.find("select[name=layout]").on("change",a),n.$dialog.find("#chooseIconFile").on("change",c);var e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").on("click",l),e.on("keyup",r),n.$dialog.find("[name=validateRadio]").on("change",(function(e){return u("validateRadio")})),n.$dialog.find("[name=calculateRadio]").on("change",(function(e){return u("calculateRadio")})),n.$dialog.find("[name=selectAction]").on("change",f),n.$dialog.find("[name=signAction]").on("change",h)}(),U(n.constructor,{updateContent:function(e){e();var t=n.annot,i=(Object.keys(sn).find((function(e){return sn[e]===t.getField().getType()}))||"").toLowerCase(),a=n.dialog.element.querySelector(".fv__ui-form-tab-nav");if(a){a.setAttribute("role","tablist");var r=n.$dialog.find('.fv_ui_dialog_title > div[show-in-types="'.concat(i,'"]')).attr("id");a.setAttribute("aria-labelledby",r)}!function(){n.$dialog.find(".inputContainer .inlineItem").each((function(e,t){var n=t.querySelector("div").getAttribute("id"),i=t.querySelector("input").getAttribute("id"),a=t.querySelector("span").getAttribute("id");t.querySelector("input").setAttribute("aria-labelledby","".concat(n," ").concat(i," ").concat(a))}));var e=n.$dialog.find(".bg-wrap .fv__ui-dropdown-editor"),t=n.$dialog.find(".bg-wrap .fv__ui-dropdown-caret"),i=e.parent().parent().prev();e.attr("aria-labelledby",i.attr("id")),t.attr("aria-labelledby",i.attr("id")),e[0].parentElement.hasAttribute("disabled")?e.attr("disabled",!0):e.removeAttr("disabled")}()},lockedHandler:function(e){if(e(),n.dialog.element){if(n.$locked.prop("checked")){var t=n.$dialog.find(".fv__ui-form-tab-body");t.find("input,select,textarea,button").not((function(e,t){return t.hasAttribute("data-forbid")})).attr("disabled",!0),t.find(".fv__action_list").addClass("disabled"),t.find('.fv__ui-dialog-button[tabindex="0"],.fv__action_list div[tabindex="0"],.color-picker div[tabindex="0"],.fv__action_add[tabindex="0"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",-1),t.find(".fv__ui-dialog-button").addClass("disabled"),d(),f(),h()}else{var i=n.$dialog.find(".fv__ui-form-tab-body");i.find("input,select,textarea,button").not((function(e,t){return t.hasAttribute("data-forbid")})).removeAttr("disabled"),i.find(".fv__action_list").removeClass("disabled"),i.find('.fv__ui-dialog-button[tabindex="-1"],.fv__action_list div[tabindex="-1"],.color-picker div[tabindex="-1"],.fv__action_add[tabindex="-1"],select,input[type="radio"],input[type="checkbox"]').attr("tabindex",0),function(){var e=n.$dialog.find(".fv__ui-form-tab-body");if(n.annot&&n.annot.getField){var t=n.annot.getField(),i=e.find("[name=textSize]");!t||t.getType()!==sn.Sign&&t.getType()!==sn.CheckBox&&t.getType()!==sn.RadioButton?i.find("input,button").removeAttr("disabled").removeClass("disabled"):i.find("input,button").attr("disabled",!0).addClass("disabled")}}(),d(),f(),h(),u("calculateRadio"),function(){var e,t;if(n.annot&&n.annot.getField){if(!(e=n.annot.getField()))return;var i=e.getAction(un.format);i&&"TypeJavaScript"==i.info.type&&(t=i.info.javascript);var a=t?Vt.GetFormatStringType(t):0,r=n.$dialog.find('[name="validateRadio"]');1==a||2==a?r.filter("[value=1]").removeAttr("disabled"):r.filter("[value=1]").attr("disabled","disabled"),u("validateRadio")}}()}UIExtension.vendors.jQuery;var a=n.annot;if(!a||a.isEmpty()||!a.getField())return}},destroy:function(e){!function(){if(n.isDestroyed)return;n.$tabNav.off("keydown"),n.$tabNav.off("focus"),n.$dialog.find("[role='button']").off("keydown"),n.$dialog.find(".fv__ui-dialog-button[name=advanced]").off("click",o),n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").off("click",s),n.$dialog.find("select[name=layout]").off("change",a),n.$dialog.find("#chooseIconFile").off("change",c);var e=n.$dialog.find(".fv__advanced-dialog");e.find(".fv__icon-layer-close,.confirm-button,.cancel-button").off("click",l),e.off("keyup",r),n.$dialog.find("[name=validateRadio]").off("change",(function(e){return u("validateRadio")})),n.$dialog.find("[name=calculateRadio]").off("change",(function(e){return u("calculateRadio")})),n.$dialog.find("[name=selectAction]").off("change",f),n.$dialog.find("[name=signAction]").off("change",h)}(),e()}})}function a(e){var t=e.target.value,i=n.$dialog.find(".fv__ui-dialog-button[name=advanced]"),a=n.$dialog.find(".fv__ui-dialog-button[name=chooseIcon]");"e_MKRelationNoIcon"===t?(i.attr("tabindex",-1),a.attr("tabindex",-1)):"e_MKRelationNoIcon"!==t&&(i.attr("tabindex",0),a.attr("tabindex",0))}function r(e){e=e.originalEvent||e,dn(e).switchers(!1).when(fn.Escape,(function(){e.stopPropagation(),n.$dialog.find(".fv__advanced-dialog .cancel-button").trigger("click"),l()}))}function o(e){setTimeout((function(){n.$dialog.find(".fv__advanced-dialog").focus()}))}function l(e){n.$dialog.find(".fv__ui-dialog-button[name='advanced']").focus()}function c(e){n.$dialog.find(".fv__ui-dialog-button[name=clearIcon]").attr("tabindex",0)}function s(e){e.target.setAttribute("tabindex","-1")}function u(e){n.$dialog.find('[name="'.concat(e,'"]')).each((function(t,i){var a=i.parentElement;if("calculateRadio"===e){var r=a.querySelector("select");r&&i.checked?(r.removeAttribute("disabled"),r.classList.remove("disabled")):r&&!i.checked&&(r.setAttribute("disabled","disabled"),r.classList.add("disabled"))}if(0!=t){var o=a.nextElementSibling;if(o){var l=o.querySelectorAll('input:not([type="radio"]),textarea'),c=o.querySelectorAll("div.fv__ui-dialog-button");l.length>0&&M(l).forEach((function(t){i.checked?"validateRadio"===e&&"textScript"===t.getAttribute("name")||t.removeAttribute("disabled"):t.setAttribute("disabled",!0)})),c.length>0&&M(c).forEach((function(t){i.checked?(t.setAttribute("tabindex",0),t.classList.contains("disabled")&&t.classList.remove("disabled")):(t.setAttribute("tabindex",-1),t.classList.contains("disabled")||(t.classList.add("disabled"),n.$dialog.find('[name="'.concat(e,'"]:checked')).focus()))}))}}}))}function d(){var e=n.$dialog.find(".fv__ui-form-tab-body"),t=e.find(".fv__action_list");if(t.hasClass("disabled"))t.find("[tabindex]").attr("tabindex","-1"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","-1");else{var i=t.find(".active");0===i.length?t.find("[role=treeitem]").attr("tabindex","0"):i.parent().attr("tabindex","0"),e.find(".fv__ui-dialog-ok-button:not(.disabled)").attr("tabindex","0")}}function f(){n.$dialog.find('[name="selectAction"]').each((function(e,t){var i=n.$dialog.find("#keyStrokeJS"),a=n.$dialog.find(".btn-edit");"1"===t.getAttribute("data-id")&&(t.checked?(i.removeAttr("disabled"),a.attr("tabindex","0"),a.removeClass("disabled")):(i.attr("disabled",!0),a.addClass("disabled"),a.attr("tabindex","-1")))}))}function h(){n.$dialog.find('[name="signAction"]').each((function(e,t){if("fieldsFlag"===t.id){var i=n.$dialog.find(".fv_sign-fields-category"),a=n.$dialog.find(".fv_-fields-list"),r=n.$dialog.find("#pickField");t.checked?(i.removeAttr("disabled"),a.removeAttr("disabled"),r.hasClass("interactive")?(r.removeAttr("disabled"),r.attr("tabindex","0")):(r.attr("disabled",!0),r.attr("tabindex","-1"))):(i.attr("disabled",!0),a.attr("disabled",!0),r.attr("disabled",!0),r.attr("tabindex","-1"))}else if("customScript"===t.id){var o=n.$dialog.find("#editScript"),l=n.$dialog.find(".fv_sign-script-input");t.checked?(o.attr("tabindex","0"),l.removeAttr("disabled")):(o.attr("tabindex","-1"),l.attr("disabled",!0))}}))}function v(e){e=e.originalEvent||e,dn(e).switchers(!1).when(hn,(function(){!function(){var e=-1,t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=t.length===i+1?0:i+1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),p(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(vn,(function(){!function(){var e=-1,t=n.$tabNav.filter(":visible"),i=t.index(n.$tabNav.filter(".active"));n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e=0===i?t.length-1:i-1;t[e].classList.add("active"),t[e].setAttribute("aria-selected","true"),t[e].setAttribute("tabindex","0"),t[e].focus(),p(t[e])}(),e.preventDefault(),e.stopPropagation()})).when(mn,(function(){var t;t=n.$tabNav.filter(":visible"),n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),t[0].classList.add("active"),t[0].setAttribute("aria-selected","true"),t[0].setAttribute("tabindex","0"),t[0].focus(),p(t[0]),e.preventDefault(),e.stopPropagation()})).when(pn,(function(){!function(){var e=n.$tabNav.filter(":visible"),t=e.length-1;n.$tabNav.removeClass("active"),n.$tabNav.attr("aria-selected","false"),n.$tabNav.attr("tabindex","-1"),e[t].classList.add("active"),e[t].setAttribute("aria-selected","true"),e[t].setAttribute("tabindex","0"),e[t].focus(),p(e[t])}(),e.preventDefault(),e.stopPropagation()})).when(bn,(function(e){e.target.classList.contains("disabled")||e.target.addEventListener("keyup",m)}))}function m(e){e=e.originalEvent||e,dn(e).when(bn,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",m)}))}function p(e){var t=n.$tabNav.index(e),i=n.$dialog.find(".fv__ui-form-tab-body > div:not(.lock-mask)");i.hide(),i.eq(t).show(),n.tabs.forEach((function(e){return e.active&&e.annot&&e.annot.getField()&&e.active()}));var a=n.PDFUI.colorSpectrum;a&&a.isActive&&a.hide()}return se(this,(function(a){switch(a.label){case 0:return[4,t.getMountedComponentByName("form-properties-dialog")];case 1:return a.sent(),(n=e.formDesignDialog)?(i(),function(e){if(e){var t=e.$dialog.find(".fv__comboListOptions_tab");r();var n=t.find("[name=itemLabel]");n.on("keyup",(function(e){r()}));var i=t.find("[name=items]");i.on("keydown",(function(e){var t,n=e.target,i=n.children[n.selectedIndex];jt(e).when(Kt,(function(){t=i&&i.previousSibling})).when(Wt,(function(){t=i&&i.nextSibling})),t&&(t.click(),r()),e.stopPropagation()}));var a=t.find(".fv__ui-dialog-button");a.on("click",r),e.dialog.addDestroyHook((function(){n.off("keyup"),a.off("click"),i.off("keyup")}))}function r(){setTimeout((function(){a.each((function(e,t){I(t,"tabindex",t.classList.contains("disabled")?-1:0)}))}),10)}}(n),rn(n),[2]):[2]}}))})),gn.apply(this,arguments)}function yn(e){var t=document.activeElement,n=g(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_tab")}))[0];if("DIV"===t.tagName)n.querySelectorAll(".fv__action-delete,.fv__action-edit").forEach((function(e){I(e,"tabindex",0)}));else if("LI"===t.tagName){var i=n.querySelector(".fv__action-edit"),a=n.querySelector(".fv__action-delete");I(i,"tabindex","-1"),I(a,"tabindex","0")}}function _n(e){e();var t=this.$element.find(".fv__action_list"),n=this.$element.find(".fv_action-info-toggler");t.find("[tabindex]").off("keydown",En),n.off("click",Sn),t.find("[tabindex]").off("click",Cn)}function En(e){var t=function(e){var t=null,n={};if(void 0!==e.key)t="key",n={Enter:"Enter"," ":" ",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowUp:"ArrowUp","*":"*"};else{if(void 0===e.keyCode)return"";t="keyCode",n={13:"Enter",32:" ",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",56:"*"}}return n[e[t]]}(e);if("Enter"===t)this.querySelector(":nth-child(2)").click(),this.focus();else if(" "===t)this.querySelector(":nth-child(2)").click(),this.focus();else if("End"===t){this.setAttribute("tabindex","-1"),An(wn(e,this))}else if("Home"===t){this.setAttribute("tabindex","-1"),An(wn(e,this,0))}else if("ArrowLeft"===t)if("div"===this.tagName.toLowerCase())xn(this),e.stopPropagation();else{if("li"!==this.tagName.toLowerCase())return;if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__minusonly_pc"))xn(this),e.stopPropagation();else{var n=function(t){var i=wn(e,t,-1);return"div"===i.tagName.toLowerCase()?i:n(i)};An(n(this))}}else if("ArrowRight"===t)if("div"===this.tagName.toLowerCase())if(this.querySelector(".fv_action-info-toggler").classList.contains("fv__plugonly_pc"))kn(this),e.stopPropagation();else{var i=wn(e,this,1);i&&An(i)}else{if("li"!==this.tagName.toLowerCase())return;kn(this),e.stopPropagation()}else if("ArrowDown"===t){this.setAttribute("tabindex","-1");var a=wn(e,this,1);a&&An(a)}else if("ArrowUp"===t){this.setAttribute("tabindex","-1");var r=wn(e,this,-1);r&&An(r)}else{if("*"!==t)return;M(this.parentElement.children).forEach((function(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc")}))}e.stopPropagation(),e.preventDefault()}function wn(e,t,n){var i=g(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_tab")}))[0];if(i){var a=i.querySelectorAll("[role='treeitem']"),r=(a=M(a).filter((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return 0!==n||0!==i}))).indexOf(t),o=a.length;return 0===n?a[0]:"number"==typeof n?a[(r+n+o)%o]:a[o-1]}}function kn(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__plugonly_pc","fv__minusonly_pc"),e.setAttribute("aria-expanded","true")}function xn(e){e.querySelector(".fv_action-info-toggler").classList.replace("fv__minusonly_pc","fv__plugonly_pc"),e.setAttribute("aria-expanded","false")}function An(e){e.setAttribute("tabindex","0"),setTimeout((function(){e.focus()}))}function Sn(e){var t=g(e).filter((function(e){return!!(e.classList&&e.classList.length>0)&&e.classList.contains("fv_action-info-toggler")}));t&&0!==t.length&&(t[0].classList.contains("fv__minusonly_pc")?t[0].parentElement.setAttribute("aria-expanded","false"):t[0].classList.contains("fv__plugonly_pc")&&t[0].parentElement.setAttribute("aria-expanded","true"),An(t[0].parentElement))}function Cn(e){var t=g(e.originalEvent).filter((function(e){return e.classList&&e.classList.contains("fv__action_list")}))[0];t&&M(t.querySelectorAll("[role='treeitem'],[tabindex='0']")).filter((function(e){return e!==document.activeElement})).forEach((function(e){I(e,"tabindex","-1")}))}var Dn=E.match,Ln=E.matchers.Enter,qn="openSignAPDialog";var $n=E.match,Tn=E.matchers,Pn=Tn.ArrowUp,In=Tn.ArrowDown;var Nn=E.isMatch,Hn=E.match,Fn=E.matchers,Rn=Fn.ArrowUp,On=Fn.ArrowDown,Mn=Fn.ArrowLeft,Bn=Fn.ArrowRight,Un=Fn.Home,zn=Fn.End,Vn=Fn.or,jn=Fn.Enter;function Gn(){return Gn=ce((function(e,t){var n,i,a,r,o,l,c,s,u,d,f,h,v,m,p,b,g,y,_,E,w,k;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("create-signature")];case 1:return n=e.sent(),i=n.element.querySelector(".fv__ui-layer-header-title"),a=n.getComponentByName("sign-dialog-tab-panel").element,r=a.querySelector(".fv__ui-sign-dialog-tabs"),o=a.querySelectorAll(".fv__ui-sign-dialog-tab"),l=a.querySelectorAll(".fv__ui-sign-dialog-panel"),c=a.querySelector(".preview-file-error-message"),P(r,{role:"tablist","aria-label":i.innerText}),s=function(e){e.target.textContext?P(e.target,{role:"alert"}):N(e.target,"role")},window.MutationObserver?((u=new MutationObserver((function(e){e.forEach((function(e){e&&e.addedNodes&&e.addedNodes.length>0&&e.addedNodes[0]?P(e.target,{role:"alert"}):N(e.target,"role")}))}))).observe(c,{childList:!0}),n.addDestroyHook((function(){u.disconnect()}))):(d="DOMSubtreeModified",c.addEventListener(d,s),this.addDestroyHook((function(){element.removeEventListener(d,s)}))),f=function(e){o.forEach((function(e){var t=e.classList.contains("active");P(e,{"aria-selected":t,tabindex:t?"0":"-1"})}))},h=function(e){var t,n,i=e.target;Hn(e).when(Vn(Rn,Mn),(function(){t=i.previousSibling?i.previousSibling:o[o.length-1]})).when(Vn(On,Bn),(function(){t=i.nextSibling?i.nextSibling:o[0]})).when(Un,(function(){t=o[0]})).when(zn,(function(){t=o[o.length-1]})),t&&(n=t,o.forEach((function(e,t){var i=e.id==n.id;e.classList[i?"add":"remove"]("active"),P(e,{"aria-selected":i,tabindex:i?"0":"-1"}),l[t].style.display=i?"block":"none"})),t.focus(),e.preventDefault(),e.stopPropagation())},o.forEach((function(e,t){P(e,{role:"tab",tabindex:e.classList.contains("active")?"0":"-1","aria-selected":"false","aria-labelledby":o[t].id,"aria-controls":l[t].id}),e.addEventListener("keydown",h),e.addEventListener("click",f),n.addDestroyHook((function(){e.removeEventListener("keydown",h),e.addEventListener("click",f)}))})),l.forEach((function(e,t){P(e,{role:"tabpanel","aria-labelledby":o[t].id})})),v=a.querySelector(".fv__ui-sign-dialog-color"),m=v.querySelectorAll("span"),p=a.querySelector(".fv__ui-sign-dialog-size"),b=p.querySelectorAll("span"),g=a.querySelector(".fv__ui-sign-dialog-eraser .fv__icon-toolbar-clear"),y=a.querySelector(".image-title .fv__icon-toolbar-clear"),_=a.querySelector(".fv__ui-sign-dialog-canvas"),E=t.localizer,n.attachEventToElement(g,"keydown",(function(e){Nn(e,jn)&&(g.click(),e.preventDefault(),e.stopPropagation())})),n.attachEventToElement(y,"keydown",(function(e){Nn(e,jn)&&(y.click(),e.preventDefault(),e.stopPropagation())})),n.addDestroyHook(E.watch("",{},"",(function(){P(v,{role:"radiogroup","aria-label":E.translateSync("aria:labels.createInkSign.strokeColor")}),P(p,{role:"radiogroup","aria-label":E.translateSync("aria:labels.createInkSign.brushSize")}),P(g,{role:"button",tabindex:"0","aria-label":E.translateSync("aria:labels.createInkSign.eraser")}),P(y,{role:"button",tabindex:"0","aria-label":E.translateSync("aria:labels.createInkSign.clear")}),P(_,{"aria-label":E.translateSync("aria:labels.createInkSign.preview"),tabindex:"0"}),b.forEach((function(e){P(e,{"aria-label":E.translateSync("aria:labels.createInkSign.unit",{unit:e.getAttribute("data-size")})})}))}))),w=function(e){var t=e.target;t.classList.contains("color-wrapper")||(t=t.parentNode),t.parentElement.querySelectorAll("span").forEach((function(e){var n=e.id==t.id;P(e,{"aria-checked":n,tabindex:n?"0":"-1"})}))},k=function(e){e.parentElement.querySelectorAll("span").forEach((function(t,n){var i=t.id==e.id;t.classList[i?"add":"remove"]("circle-active"),i&&t.click()}))},m.forEach((function(e,t){var i=0==t;P(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1","aria-label":e.getAttribute("data-color")}),e.addEventListener("keydown",(function(e){return Kn(e,k)})),e.addEventListener("click",w),n.addDestroyHook((function(){e.removeEventListener("keydown",(function(e){return Kn(e,k)})),e.removeEventListener("click",w)}))})),b.forEach((function(e,t){var i=0==t;P(e,{role:"radio","aria-checked":i?"true":"false",tabindex:i?"0":"-1"}),e.addEventListener("keydown",(function(e){return Kn(e,k)})),e.addEventListener("click",w),n.addDestroyHook((function(){e.removeEventListener("keydown",(function(e){return Kn(e,k)})),e.removeEventListener("click",w)}))})),n.element.querySelectorAll(".online-checkbox-input").forEach((function(e){var t=e.parentElement;P(t,{role:"checkbox",tabindex:0,"aria-checked":e.checked}),t.addEventListener("click",(function(){I(t,"aria-checked",e.checked)})),t.addEventListener("keydown",(function(e){Hn(e).when(jn,(function(){e.target.click(),e.preventDefault(),e.stopPropagation()}))}))})),[2]}}))})),Gn.apply(this,arguments)}function Kn(e,t){var n,i=e.target,a=i.parentElement.querySelectorAll("span");Hn(e).when(Vn(Rn,Mn),(function(){n=i.previousSibling?i.previousSibling:a[a.length-1]})).when(Vn(On,Bn),(function(){n=i.nextSibling?i.nextSibling:a[0]})).when(Un,(function(){n=a[0]})).when(zn,(function(){n=a[a.length-1]})),n&&(t(n),n.focus(),e.preventDefault(),e.stopPropagation())}var Wn=E.match,Xn=E.isMatch,Qn=E.matchers,Yn=Qn.Tab,Jn=Qn.ArrowRight,Zn=Qn.ArrowLeft,ei=Qn.ArrowUp,ti=Qn.ArrowDown,ni=Qn.Escape,ii=Qn.Enter,ai=Qn.or,ri=[".flatpickr-prev-month",".flatpickr-next-month",".flatpickr-am-pm",".flatpickr-days","input","select"],oi=[':not([tabindex^="-"])',":not([disabled])",":not(.fv__ui-aria-focus-secondary-node)"];function li(e){var t=ri.map((function(e){return e+oi.join("")})).join(",");return M(e.querySelectorAll(t)).filter((function(e){var t=e.getBoundingClientRect(),n=t.x,i=t.y,a=t.width,r=t.height;return!!(n&&i&&a&&r)}))}var ci=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"componentMounted",value:function(){var e=this;this.component.once("enable",(function(){e.component.element.focus()}))}}],[{key:"getName",value:function(){return"auto-focus"}}]),i}(d.Directive),si=E.isMatch,ui=E.match,di=E.matchers,fi=di.ArrowUp,hi=di.ArrowDown,vi=di.Home,mi=di.End,pi=di.Enter,bi=null;function gi(e){var t,n=e.target,i=n.querySelector(".active");ui(e).when(fi,(function(){t=i.previousSibling?i.previousSibling:n.lastElementChild})).when(hi,(function(){t=i.nextSibling?i.nextSibling:n.firstElementChild})).when(vi,(function(){t=n.firstElementChild})).when(mi,(function(){t=n.lastElementChild})),t&&(t.focus(),t.click(),_i(),yi(),e.stopPropagation(),e.preventDefault())}function yi(){var e=bi.$element[0].querySelectorAll(".fv__ui-dialog-button"),t=bi.$element[0].querySelector("#upButton"),n=bi.$element[0].querySelector("#downButton");document.activeElement===t&&t.classList.contains("disabled")&&!n.classList.contains("disabled")?n.focus():document.activeElement===n&&n.classList.contains("disabled")&&!t.classList.contains("disabled")&&t.focus(),e.forEach((function(e){I(e,"tabindex",e.classList.contains("disabled")?-1:0)}))}function _i(){return Ei.apply(this,arguments)}function Ei(){return(Ei=ce((function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,Promise.resolve()];case 1:return t.sent(),P((e=bi.$element.find(".fv__fields-list"))[0],{"aria-activedescendant":e.find(".active").attr("id")}),bi.$element.find(".fv_CO-item").each((function(t,n){P(n,{"aria-selected":n.id==e.find(".active").attr("id")})})),[2]}}))}))).apply(this,arguments)}var wi=E.match,ki=E.matchers.Space;function xi(){return xi=ce((function(e,t){var n,i,a;return se(this,(function(e){switch(e.label){case 0:return[4,t.waitForComponentLifecycle("multi-media-popup","mounted")];case 1:return n=ge.apply(void 0,[e.sent(),1]),(i=n[0])?(a=i.element,U(i.constructor,{hideRecordError:function(e){e(),H(a.querySelector(".fv__record-error"),"role","aria-live")},showRecordError:function(e){e(),P(a.querySelector(".fv__record-error"),{role:"alert","aria-live":"assertive"})}}),Ai(a),i.on("localize",(function(){Ai(a)})),[2]):[2]}}))})),xi.apply(this,arguments)}function Ai(e){return Si.apply(this,arguments)}function Si(){return(Si=ce((function(e){var t,n,i,a,r,o;return se(this,(function(l){return I(e.querySelector(".fv__multi-file-div"),"role","radiogroup"),t=e.querySelector(".fv__record-record"),n=e.querySelectorAll(".fv__multi-file-label")[0],P(t,{tabindex:-1,"aria-label":n.innerText}),e.querySelectorAll("[type=radio]").forEach((function(e){I(e,"aria-label",e.nextElementSibling.innerText),e.addEventListener("change",(function(e){I(t,"tabindex",1==e.target.value?-1:0)}))})),i=e.querySelector(".fv__poster-file"),a=e.querySelector(".fv__poster-file-label"),r=G("poster-file"),o=G("poster-file-input"),I(a,"id",r),P(i,{id:o,"aria-labelledby":"".concat(r," ").concat(o)}),[2]}))}))).apply(this,arguments)}var Ci=E.match,Di=E.matchers;var Li=d.PDFViewCtrl.ViewerEvents;var qi=E.match,$i=E.matchers,Ti=$i.ArrowUp,Pi=$i.ArrowDown,Ii=$i.ArrowLeft,Ni=$i.ArrowRight,Hi=$i.Home,Fi=$i.End,Ri=$i.or;function Oi(){return Oi=ce((function(e,t){var n,i;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("stamp-drop-down-ui")];case 1:return(n=e.sent())?((i=n.listElement).addEventListener("keyup",(function(e){var t,n=Array.from(i.querySelectorAll("[tabindex]")),a=n.findIndex((function(t){return t.id==e.target.id}));a<0||(qi(e).when(Ri(Ti,Ii),(function(){t=0==a?n[n.length-1]:n[--a]})).when(Ri(Pi,Ni),(function(){t=a==n.length-1?n[0]:n[++a]})).when(Hi,(function(){t=n[0]})).when(Fi,(function(){t=n[n.length-1]})),t&&t.focus())})),[2]):[2]}}))})),Oi.apply(this,arguments)}var Mi=d.components.Component,Bi="a,button,input,textarea,select,details,[contenteditable],[tabindex]".split(",").map((function(e){return e+':not([tabindex^="-"]):not([disabled]):not(.fv__ui-aria-focus-secondary-node)'})).join(","),Ui={autoFocusFirst:!0},zi=function(n){l(a,n);var i=u(a);function a(){return t(this,a),i.apply(this,arguments)}return r(a,[{key:"componentMounted",value:function(){var t,n=this.component,i=n.element,a=!0,r=Vi(),o=Vi(),l=Ui;if(this.attrValue&&(l=this.controller.eval(this.attrValue)||Ui),l.selector){var c=n.querySelector(l.selector)||n;if(e(c,Mi))i=c.element;else{if(!e(c,HTMLElement))throw new Error("Incorrect selector: ".concat(l.selector));i=c}}var s=function(e){var n;n=i,t=Array.from(n.querySelectorAll(Bi)).filter((function(e){return e.getClientRects().length>0})),d()},u=function(){t||s(),!1!==l.autoFocusFirst&&i===document.activeElement&&Promise.resolve().then((function(){t[0]&&t[0].focus()}))},d=function(){i.firstElementChild!==r&&(r.parentNode!==i&&r.remove(),i.childElementCount>0?i.firstElementChild.before(r):i.appendChild(r)),i.lastElementChild!==o&&(o.parentNode!==i&&o.remove(),i.appendChild(o))},f=x(s);if(window.MutationObserver){var h=new MutationObserver(f);h.observe(i,{subtree:!0,attributeFilter:["tabindex","contenteditable","style","class"],attributes:!0}),this.addDestroyHook((function(){h.disconnect()}))}else{var v="DOMSubtreeModified";i.addEventListener(v,f),this.addDestroyHook((function(){i.removeEventListener(v,f)}))}r.onfocus=function(e){e.relatedTarget&&i.contains(e.relatedTarget)&&!a?t[t.length-1]&&t[t.length-1].focus():(a=!1,t[0]&&t[0].focus())},o.onfocus=function(){t[0]&&t[0].focus()},i.onfocus=function(){a=!0},n.isVisible&&u(),this.addDestroyHook(n.on("shown",u),n.on("hidden",(function(){r.remove(),o.remove()})))}}],[{key:"getName",value:function(){return"circular-focus"}}]),a}(d.Directive);function Vi(){var e=document.createElement("div");return P(e,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ji(e,t,n[t])}))}return e}var Ki=E.isMatch,Wi=E.matchers;function Xi(e){if(!e.isDestroyed){e.unwatchAriaI18n&&e.unwatchAriaI18n();var t=e.childAt(0),n=e.disabled,i=e.notDropdown,a=e.element,r=e.eRibbonIcon,o=e.eRibbonText,l=e.selectedItem;H(a,"tabindex","aria-label","aria-disabled"),H(r,"tabindex","role","aria-label","aria-disabled"),H(o,"tabindex","role","aria-label","aria-haspopup","aria-disabled");var c=e.localizer.translateSync(e.text||e.tooltipTitle);if(i||!t)P(a,Gi({"aria-label":c},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}));else if(t.separate){if(I(a,"tabindex",-1),l){var s=l.getText()||e.text;P(r,Gi({role:"button","aria-label":e.localizer.translateSync(s)},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}))}P(o,Gi({role:"button","aria-label":c,"aria-haspopup":"true"},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0}))}else P(a,Gi({"aria-label":c},!0===n?{tabindex:-1,"aria-disabled":!0}:{tabindex:0})),P(r,{"aria-hidden":!0}),P(o,{role:"presentation"})}}var Qi=E.match,Yi=E.matchers,Ji=Yi.Enter,Zi=Yi.ArrowLeft,ea=Yi.ArrowRight,ta=Yi.Home,na=Yi.End;function ia(e,t){var n=e.querySelector(".tabPanel").children,i=M(n).filter((function(e){return"none"!==e.style.display})),a=e.querySelector(".tabPanel > .active"),r=i.findIndex((function(e){return e.id===a.id})),o=i[r=0===t?0:"number"==typeof t?(r+t+i.length)%i.length:i.length-1],l=M(n).findIndex((function(e){return o.id===e.id})),c=M(n).findIndex((function(e){return a.id===e.id}));P(a,{tabindex:"-1","aria-selected":!1}),a.classList.remove("active"),P(o,{tabindex:"0","aria-selected":!0}),o.classList.add("active"),e.querySelector(".annot-properties-dialog-body > div:nth-child(".concat(c+1,")")).style.display="none",e.querySelector(".annot-properties-dialog-body > div:nth-child(".concat(l+1,")")).style.display="block",setTimeout((function(){o.focus()}))}function aa(e){Qi(e).when(Ji,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",aa)}))}var ra=UIExtension.vendors.jQuery,oa=E.match,la=E.matchers,ca=la.ArrowRight,sa=la.ArrowLeft,ua=la.Home,da=la.End,fa=la.Enter;function ha(){return ha=ce((function(e,t){var n;function i(){n.once(k.SHOWN,(function(){P(n.$cancel[0],{role:"button",tabindex:0,"aria-label":n.$cancel.text()}),I(n.$nav[0],"role","tabList"),n.$nav.find("a").each((function(e,t){P(t,{role:"tab",tabindex:-1,"aria-selected":t.classList.contains("active"),id:G("nav-item")})})),n.$nav.on("keydown",a),n.$cancel.on("keydown",r),document.addEventListener("keydown",(function(e){e=e.originalEvent||e,g(e).some((function(e){return e===n.element}))&&oa(e).when(la.Escape,(function(){e.stopPropagation(),g(e).some((function(e){return e===document.activeElement}))&&n.$cancel.click()}))}))})),U(n.constructor,{activeNavItem:function(e){e(),n.$nav.find("a").each((function(e,t){var n=t.classList.contains("active");P(t,{tabindex:n?0:-1,"aria-selected":n})}))},showTab:function(t){t(),function(){var t=[e.i18n.t("file-property:description.desc")],i=n.navData[t[0]];if(!i)return;var a=i.tab.element.querySelector(".file-property-custom");P(a,{role:"button",tabindex:0,"aria-label":a.innerText}),a.addEventListener("keydown",r),a.addEventListener("click",o)}()}})}function a(e){var t,i=(e=e.originalEvent||e).target.parentElement,a=i.querySelector(".active");oa(e).switchers(!1).when(sa,(function(){t=a.previousSibling?a.previousSibling:i.lastElementChild})).when(ca,(function(){t=a.nextSibling?a.nextSibling:i.firstElementChild})).when(ua,(function(){t=i.firstElementChild})).when(da,(function(){t=i.lastElementChild})),t&&(!function(e){n.$nav.find("a").each((function(t,n){var i=n.id==e.id;P(n,{tabindex:i?0:-1,"aria-selected":i})}))}(t),t.focus(),t.click()),e.stopPropagation()}function r(e){e=e.originalEvent||e,oa(e).switchers(!1).when(fa,(function(){var t=document.createEvent("MouseEvents"),n=e.target.getBoundingClientRect(),i=n.x,a=n.y;t.initMouseEvent("click",!0,!0,window,0,0,0,i,a,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}))}function o(){n.updateNavData();var t=[e.i18n.t("file-property:description.desc")],i=n.navData[t[0]];if(i){var a=i.customDialog,o=a.$add,l=a.$delete,c=a.$name,s=a.$value,u=a.$table,d=a.$dialog,f=ra(".fv__ui-layer-header",a[0]);P(u[0],{role:"group","aria-labelledby":f.attr("id")}),d.find("input").on("input",(function(e){e.preventDefault(),e.stopPropagation();var t=c.val().trim(),n=s.val().trim();t.length>0&&n.length>0?o.attr({disabled:!1,tabindex:0}):o.attr({disabled:!0,tabindex:-1})})),d.find("input").on("change",(function(e){e.preventDefault(),e.stopPropagation();var t=c.val().trim(),n=s.val().trim();t.length>0&&n.length>0&&o.focus()})),Array.from([o,l]).forEach((function(e){P(e[0],{role:"button",tabindex:-1,"aria-label":e.text()}),e.on("keydown",r),e.on("click",(function(e){0===Array.from([o,l]).map((function(e){return I(e[0],"tabindex",-1),e})).filter((function(e){return!e.attr("disabled")})).length&&c.focus(),h(u)}))})),Array.from([c,s]).forEach((function(e){e.on("keyup",(function(e){I(o[0],"tabindex",o.attr("disabled")?-1:0)}))})),c.on("keyup",(function(e){I(o[0],"aria-label",o.text())})),h(u)}function h(e){var t=e.find("tbody tr");Array.from(t).forEach((function(e,n){var i=e.classList.contains("active");P(e,{"aria-posinset":n,tabindex:"0",role:"listitem","aria-selected":i}),e.addEventListener("click",(function(e){var n=t.find(".active")[0];n&&I(n,"aria-selected","false"),I(e.target,"aria-selected","true"),I(l[0],"tabindex",0)})),e.addEventListener("keydown",r)}))}}return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("file-property-popup")];case 1:return(n=e.sent())?(i(),[2]):[2]}}))})),ha.apply(this,arguments)}var va=E.match,ma=E.matchers;function pa(e,t){var n,i=e.$html.find(".tree-item-main"),a=i.filter(".fv__active"),r=i.index(a),o=(n=1===t||-1===t?i.eq((r+t+i.length)%i.length):0===t?i.first():i.last()).attr("data-id");e.$html.children("ul.tree-list").attr({"aria-activedescendant":o}),e.activeItem(o),function(e){var t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),i=t.offset().top,a=e.offset().top;t.scrollTop(a-i+n)}(n)}var ba=E.match,ga=E.matchers;function ya(e,t){var n,i=e.$html.find(".tree-item-main"),a=i.filter(".fv__active"),r=i.index(a),o=(n=1===t||-1===t?i.eq((r+t+i.length)%i.length):0===t?i.first():i.last()).attr("data-id"),l=n.closest("ul.tree-list");l.focus(),l.attr({"aria-activedescendant":o}),e.activeItem(o),function(e){var t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),i=t.offset().top,a=e.offset().top;t.scrollTop(a-i+n)}(l)}var _a=E.match,Ea=E.matchers,wa=Ea.ArrowUp,ka=Ea.ArrowDown;Ea.Home,Ea.End;function xa(e,t){var n=e.$attachmentTable.find(".tr"),i=n.filter(".tr.selected");0===i.length&&(i=n.first());var a=n.index(i),r=n.eq((a+t+n.length)%n.length);return i.removeClass("selected"),r.addClass("selected"),r}var Aa=E.match,Sa=E.matchers.Enter;var Ca=E.match,Da=E.matchers,La=Da.ArrowUp,qa=Da.ArrowDown,$a=Da.Home,Ta=Da.End,Pa=Da.Enter;Da.Space;function Ia(e){Ca(e).when(Pa,(function(){e.target.click(),e.stopPropagation(),e.target.removeEventListener("keyup",Ia)}))}function Na(e,t){var n,i=e.originalEvent.target,a=i.querySelector(".active"),r=M(i.children).indexOf(a),o=i.children.length;return n=0===t?i.children[t]:"number"==typeof t?i.children[(r+t+o)%o]:i.children[o-1],N(a,"aria-selected"),I(n,"aria-selected","true"),function(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=a.top,o=a.height,l=n+i-r-o;l<0&&(l=0);e.scrollTo(0,l)}(i,n),n}var Ha=E.match,Fa=E.matchers.Enter;var Ra=E.isMatch,Oa=E.match,Ma=E.matchers,Ba=Ma.or,Ua=Ma.Space,za=Ma.Enter,Va=Ma.ArrowDown,ja=Ma.ArrowUp,Ga=Ma.Home,Ka=Ma.End;var Wa=E.match,Xa=E.matchers,Qa=(E.isMatch,Xa.or,Xa.Home),Ya=Xa.End,Ja=Xa.ArrowUp,Za=Xa.ArrowDown,er=Xa.Enter,tr=Xa.Space;function nr(e,t){var n=e.$thumbImageContainer.find(".fv__thumb-page"),i=e.$thumbImageContainer.find(".fv__active"),a=0;n.each((function(e){n.eq(e).attr("id")===i.attr("id")&&(a=e)}));var r=0;r=1===t||-1===t?(a+t+n.length)%n.length:"number"==typeof t?(t+n.length)%n.length:n.length-1;var o,l,c,s,u,d=n.eq(r);return i.removeClass("fv__active"),d.addClass("fv__active"),l=(o=d).closest(".fv__thumb-image-container-box"),c=l.scrollTop(),s=l.offset().top,u=o.offset().top,l.scrollTop(u-s+c),d}var ir=E.isMatch,ar=E.match,rr=E.matchers,or=rr.or,lr=rr.Home,cr=rr.End,sr=rr.ArrowLeft,ur=rr.ArrowRight,dr=rr.Escape;var fr=E.isMatch,hr=E.matchers,vr=E.match,mr=hr.or,pr=hr.Space,br=hr.Enter,gr=hr.ArrowLeft,yr=hr.ArrowRight,_r=hr.Home,Er=hr.End,wr=hr.ArrowUp,kr=hr.ArrowDown,xr=hr.PageUp,Ar=hr.PageDown;var Sr=E.isMatch,Cr=E.matchers,Dr=Cr.Enter,Lr=Cr.Space,qr=Cr.or;var $r=E.isMatch,Tr=E.match,Pr=E.matchers,Ir=Pr.Home,Nr=Pr.End,Hr=Pr.ArrowUp,Fr=Pr.ArrowDown,Rr=Pr.or;function Or(){return Or=ce((function(e,t){var n,i,a;return se(this,(function(r){switch(r.label){case 0:return[2];case 1:return n=r.sent(),i=function(){},a=function(){var e,t=n.getPDFDocRender(),a=t.$container,r=new L(100),o=function(n){var i=n.target.closest(".fv__pdf-page-layout");if(i){var a=+i.getAttribute("data-index");isFinite(a)&&r.exec(ce((function(){var i,r,o,l,c,s,u,d;return se(this,(function(f){switch(f.label){case 0:return i=t.getPDFPageRender(a),(r=i.$element.find(".fv__ui-aria-mouseover-page-text")[0])||((r=document.createElement("span")).classList.add("fv__ui-aria-sr-only","fv__ui-aria-mouseover-page-text"),r.id=Date.now().toString(16),i.$element.append(r),i.$element.attr("aria-labelledby",r.id)),r.innerHTML="",[4,i.transformPoint({point:{x:n.clientX,y:n.clientY},srcType:A.viewport,destType:A.pdf})];case 1:return o=f.sent(),e&&function(e,t){return e.x>=t.left&&e.x<=t.right&&e.y>=t.bottom&&e.y<=t.top}(o,e)?[2]:[4,i.getPDFPage()];case 2:return[4,f.sent().getTextLineUnderPoint([o.x,o.y])];case 3:return l=f.sent(),c=l.text,s=l.rect,(u=l.textGraphicsObjects)&&0!==u.length?(e=s,d=document.createTextNode(c),r.appendChild(d),[2]):[2]}}))})))}};a[0].addEventListener("mousemove",o,!0),i=function(){r.cancel(),a[0].removeEventListener("mousemove",o,!0)}},t.addDestroyHook(e.addViewerEventListener(w.switchStateHandler,(function(e){i(),e.getStateName()===q&&a()})),e.addViewerEventListener(w.openFileSuccess,(function(){i(),a()}))),[2]}}))})),Or.apply(this,arguments)}var Mr=E.matchers,Br=E.isMatch,Ur=d.PDFViewCtrl._internal.shared.Lazy,zr=Mr.or,Vr=Mr.ArrowDown,jr=Mr.ArrowUp,Gr=Mr.ArrowLeft,Kr=Mr.ArrowRight,Wr=Mr.PageDown,Xr=Mr.PageUp,Qr=Mr.Home,Yr=Mr.End;var Jr=[function(){var e=UIExtension.components.widgets;e.TreeComponent,U(e.TreeNodeComponent,{doActive:function(e){e(),P(this.element,{"aria-expanded":!0})},doDeactive:function(e){e(),P(this.element,{"aria-expanded":!1})},render:function(e){e(),this.titleElement.id=this.name+"_title",P(this.element,{"aria-labelledby":this.titleElement.id,tabindex:"0"})}})},function(){var e=d.components.widgets.DropdownComponent;d.components.widgets.DropdownItemComponent,U(e,{doDestroy:function(e){this._unwatchAriaLabel&&this._unwatchAriaLabel(),e()},render:function(e){var t=this;e();var n=tt("dropd-tglr-"),i=tt("dropd-caret-"),a=tt("dropd-icon-"),r=tt("dropd-list-");this.togglerElement.setAttribute("id",n),this.caretElement.setAttribute("id",i),this.iconElement.setAttribute("id",a);var o=nt(this);this.element.setAttribute("role","presentation"),this.separate?this.listElement.setAttribute("aria-labelledby",i):this.listElement.setAttribute("aria-labelledby",n);var l=this.selectable;o.setAttribute("aria-haspopup",l?"listBox":"true"),this.listElement.setAttribute("role",l?"listbox":"menu"),l||(this.listElement.setAttribute("id",r),o.setAttribute("aria-controls",r)),this.separate&&P(this.togglerElement,{role:"group"});this.attachEventToElement(this.togglerElement,"keyup",(function(e){Xe(e,Ye(Je,Ze))&&t.isActive&&We(t)}))},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&(this._unwatchThisLabel=this.localizer.watch(n,{},n,(function(e){t.iconElement.setAttribute("aria-label",e),t.editable&&t.editElement.setAttribute("aria-label",e),(t.separate||t.editable)&&t.caretElement.setAttribute("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel))},select:function(e,t){var n=this,i=ge(t,1)[0];if(i){var a=this.selectedItem;this.selectable&&(a&&a.element&&a.setAttribute("aria-selected","false"),i.setAttribute("aria-selected","true"));var r=i.text;return r||i.texts[0]&&(r=i.texts[0].textContent),r||(r=i.getAttribute("tooltip-title")),this._unwatchAriaLabel&&this._unwatchAriaLabel(),this._unwatchThisLabel&&this._unwatchThisLabel(),r?this._unwatchAriaLabel=this.localizer.watch(r,{},r,(function(e){n.editable&&n.caretElement.setAttribute("aria-label",e),n.separate?n.iconElement.setAttribute("aria-label",e):n.togglerElement.setAttribute("aria-label",e)})):(this.caretElement.removeAttribute("aria-label"),this.togglerElement.removeAttribute("aria-label"),this.iconElement.removeAttribute("aria-label")),e()}},doActive:function(e){e(),nt(this).setAttribute("aria-expanded","true")},doDeactive:function(e){e(),nt(this).setAttribute("aria-expanded","false")},mounted:function(e){if(e(),this.isInsideOtherDropdown()){var t=this.element.parentElement;t.getAttribute("role")||t.setAttribute("role","none"),this.setAttribute("role","menuitem")}},setEditValue:function(e,t){var n;e(),this.numberInput&&"string"==typeof this.numberInput.template?n=this.localizer.translateSync(this.numberInput.template):this.numberInput&&"function"==typeof this.numberInput.template&&(n=this.localizer.translateSync(this.numberInput.template(t))),this.editElement.setAttribute("aria-label",n)}})},function(){U(d.components.Component,{doDisable:function(e){e(),this.setAttribute("aria-disabled","true")},doEnable:function(e){e(),this.removeAttribute("aria-disabled")}})},function(){var t=d.components.widgets.ButtonComponent,n=d.components.widgets.DropdownComponent;U(t,{doActive:function(t){t(),e(this.parent,n)&&this.parent.selectable?this.setAttribute("aria-selected","true"):this.setAttribute("aria-pressed","true")},doDeactive:function(t){t(),e(this.parent,n)&&this.parent.selectable?this.setAttribute("aria-selected","false"):this.setAttribute("aria-pressed","false")},doEnable:function(e){e(),this.setAttribute("tabindex","0")},doDisable:function(e){e(),this.setAttribute("tabindex","-1")},render:function(e){e(),"button"!==this.element.nodeName.toLowerCase()&&(this.element.getAttribute("role")||(this.setAttribute("role","button"),this.setAttribute("tabindex","0"))),this.iconElement.setAttribute("aria-hidden",!0)},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&this.addDestroyHook(this.localizer.watch(n,{},n,(function(e){t.element.setAttribute("aria-label",e)})))},mounted:function(t){t(),e(this.parent,n)&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"))}})},function(){U(d.components.widgets.LoadingComponent,{postlink:function(e){e();var t=this.querySelector(">@ul");I(t,"role","status"),t.querySelectorAll(">@li").forEach((function(e){I(e,"role","presentation")})),P(this,{"aria-busy":!0,role:"alert","aria-describedby":this.querySelector(">@span").id}),this.statusComponent=t},doHidden:function(e){e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","true")}})},function(){U(d.components.widgets.ProgressComponent,{postlink:function(e){e(),P(this.circlePath,{role:"progressbar","aria-label":"Progress","aria-valuemin":"0","aria-valuemax":"100"})},doHidden:function(e){e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","false"),this.activeElement&&this.activeElement.focus()},doShown:function(e){this.activeElement=document.activeElement,e();var t=this.element.parentElement;t&&t.setAttribute("aria-busy","true"),P(this.circlePath,{"aria-valuenow":"".concat(this.textElement.innerText)})},updateProgress:function(e){e();this.element.parentElement;P(this.circlePath,{"aria-valuenow":"".concat(this.textElement.innerText)})}})},function(){U(d.components.widgets.GTabItemComponent,{init:function(e){var t=this;e(),P(this,{role:"tab",tabindex:"-1"}),this.bodyComponentPromise.then((function(e){P(e,{"aria-labelledby":t.id,role:"tabpanel"}),I(t,"aria-controls",e.id)}))},doDisable:function(e){e(),N(this.element,"tabindex")},doEnable:function(e){e(),I(this,"tabindex",this.isActive?"0":-1)},doActive:function(e){e(),I(this,"aria-selected","true"),I(this,"tabindex",0)},doDeactive:function(e){e(),I(this,"aria-selected","false"),I(this,"tabindex",-1)}})},function(){U(d.components.widgets.DropdownButtonComponent,{mounted:function(e){e();var t=this.parent.selectable,n=t?"option":"menuitem";this.setAttribute("role",n),t||this.setAttribute("tabindex","0")},postlink:function(e){var t=this;e();var n=this.text;!n&&this.texts[0]&&(n=this.texts[0].textContent),n||(n=this.getAttribute("tooltip-title")),n&&this.addDestroyHook(this.localizer.watch(n,{},n,(function(e){t.element.setAttribute("aria-label",t.textElement.innerText)})))},doDisable:function(e){e(),this.element.setAttribute("tabindex","-1")},doEnable:function(e){e(),this.element.setAttribute("tabindex","0")}})},function(){U(d.components.widgets.ContextMenuComponent,{render:function(e){e(),I(this,"role","application"),P(this.containerElement,{role:"context menu",tabindex:"-1","aria-atomic":"true"})},doShown:function(e){e(),I(this,"aria-hidden","true"),this.containerElement.focus()},doHidden:function(e){e(),I(this,"aria-hidden","false")},rerenderChildren:function(e){e();var t=this.children().filter((function(e){return"contextmenu-separator"!==e.constructor.getName()})),n=t.map((function(e){return e.id}));t.forEach((function(e,n){I(e,"aria-posinset",n+""),I(e,"aria-setsize",t.length)})),P(this.containerElement,{"aria-owns":n.join(" "),"aria-describedby":n.join(" ")})}})},function(){U(d.components.widgets.ContextMenuItemComponent,{doDestroy:function(e){e(),this.unwatchAriaLabel&&this.unwatchAriaLabel()},render:function(e){e(),this.setAttribute("role","menuitem"),this.setAttribute("tabindex","0")},setText:function(e){var t=this;e();var n=this.text;n||this.texts[0]&&(n=this.texts[0].textContent),this.unwatchAriaLabel&&this.unwatchAriaLabel(),n&&(this.unwatchAriaLabel=this.localizer.watch(n,{},"",(function(e){t.setAttribute("aria-label",e)})))}})},function(){U(d.components.widgets.ContextMenuSeparatorComponent,{render:function(e){e(),this.setAttribute("role","menuitem")}})},function(){var e=d.components.widgets.LayerComponent;z(e,{preprocess:function(e,t){var n=ge(t,1)[0];e(),n.vnode.setAttribute("@aria:circular-focus","{autoFocusFirst: false}")}}),U(e,{render:function(e){e();var t=G("layer-inner-");this.containerElement.setAttribute("id",t),P(this,{role:"dialog",tabindex:-1,"aria-modal":!!this.modal})},mounted:function(e){var t=this;e(),this.element.querySelectorAll("input[type=file]").forEach((function(e){e.removeEventListener("click",i),e.addEventListener("click",i)}));var n=!1;function i(){n=!0}function a(e){lt(e).when(ct.Escape,(function(){n&&(e.stopPropagation(),n=!1)}))}this.element.addEventListener("keyup",a),this.addDestroyHook((function(){t.element.removeEventListener("keyup",a)}))},show:function(e){this.currentFocusElement=document.activeElement,e(),this.focusOnShown&&this.element.focus({preventScroll:!0}),this.element.dispatchEvent(ot(this.element))},doHidden:function(e){if(this.currentFocusElement){var t=this.currentFocusElement;if(this.currentFocusElement=document.activeElement,e(),t.getClientRects().length>0)t.focus({preventScroll:!0});else{var n=function(e,t){for(var n=t;n;){if(n.id){var i=e.querySelector("[id=".concat(n.id,"]"));if(i)return i}n=n.parentElement}}(this.getRoot(),t);if(n)if(st(n.element))n.element.focus();else for(var i=n.parent;i;){if(st(i.element)){i.focus();break}i=i.parent}else for(var a=t.parentElement;a;){if(st(a)){a.focus();break}a=a.parentElement}}}else e()}})},function(){var e=d.components.widgets.LayerHeaderComponent,t=d.components.widgets.LayerComponent;U(e,{mounted:function(e){e();var n=this.getClosestComponentByClass(t),i=this.element.querySelector("[action=close]"),a=this.titleElement;n&&i.setAttribute("aria-controls",n.id),this.addDestroyHook(this.localizer.watch("aria:labels.close-layer-btn",{},"",(function(e){i.setAttribute("aria-label",e)})),this.localizer.watch("aria:labels.promptTitle",{},"",(function(e){if(a.innerText){var t=G("layer-title");a.setAttribute("id",t),n.setAttribute("aria-labelledby",t)}else n.setAttribute("aria-label",e)})))}})},function(){U(d.components.widgets.AlertComponent,{postlink:function(e){e(),this.setAttribute("role","alertdialog"),this.setAttribute("aria-describedby",this.body.id)}})},function(){U(d.components.widgets.SidebarComponent,{render:function(e){e(),this.togglerElement.setAttribute("aria-hidden","true"),this.navElement.setAttribute("role","tablist"),this.navElement.setAttribute("tabindex","-1")}})},function(){U(d.components.widgets.SidebarPanelComponent,{render:function(e){e(),this.ctrlElement.setAttribute("role","tab"),this.ctrlElement.setAttribute("aria-controls",this.element.id),this.ctrlElement.setAttribute("tabindex",0);var t=G("sidebar-panel-title-");this.titleElement.id=t,this.ctrlElement.setAttribute("aria-labelledby",t),this.bodyElement.setAttribute("tabindex",-1),this.bodyElement.setAttribute("aria-labelledby",t)},mounted:function(e){var t=this;e(),this.ctrlElement.addEventListener("keydown",(function(e){ut(e).when(dt,(function(){t.disabled||(t.isActive?t.parent.collapse():t.active())}))}))},doActive:function(e){e(),this.ctrlElement.setAttribute("aria-expanded","true")},doDeactive:function(e){e(),this.ctrlElement.setAttribute("aria-expanded","false")}})},function(){U(d.components.widgets.GroupComponent,{render:function(e){var t=this;e();var n=this.btnList.moreElement,i=G("aria-group-more");this.on("shrink",(function(e){var a=function(e){it(e).when(at,(function(){e.target.click(),e.stopPropagation(),e.preventDefault()})),e.currentTarget.removeEventListener("keyup",a)},r=function(e){it(e).when(at,(function(){g(e).every((function(e){return"option"!==e.getAttribute("role")||(e.addEventListener("keyup",a,!0),!1)})),e.stopPropagation(),e.preventDefault()}))};if(e){P(n,{role:"button",tabindex:0,"aria-haspopup":"listbox","aria-controls":t.btnList.id,id:i}),P(t.btnList.element,{role:"listbox",tabindex:-1,"aria-labelledby":i});var o=t.btnList.element.children,l=function(e){M(e).forEach((function(e){if(e.classList.contains("fv__ui-grp-btn-list-title"))P(e,{"aria-hidden":!0});else if("button"===e.getAttribute("role")||"BUTTON"===e.tagName||"LI"===e.tagName)P(e,{role:"option"}),t.attachEventToElement(e,"keydown",r);else if(e.classList.contains("fx-ribbon-items-sm")){var n=e.children;l(n)}}))};l(o)}else{H(n,"aria-haspopup","role","tabindex","aria-controls"),H(t.btnList.element,"role","tabindex","aria-labelledby"),M(t.btnList.element.querySelectorAll("[role=option]")).forEach((function(e){"BUTTON"!==e.tagName&&"LI"!==e.tagName&&P(e,{role:"button"}),e.removeEventListener("keydown",r)}))}})),this.btnList.on("active",(function(){P(n,{"aria-expanded":!0})})),this.btnList.on("deactive",(function(){P(n,{"aria-expanded":!1})})),this.addDestroyHook(this.localizer.watch("",{},"",(function(){P(n,{"aria-label":t.localizer.translateSync(t.shrinkTitle||"toolbar.more.document.title")})})))}})},function(){U(UIExtension.components.widgets.SliderComponent,{render:function(e){e();var t=this.$options.label||this.attrs.label,n=G("slider-label"),i=document.createElement("div");P(i,{"data-i18n":t,id:n}),i.classList.add("fv__ui-aria-sr-only"),this.element.appendChild(i),I(this.element,"tabindex","-1");var a=G("slider-unit");P(this.unitElement,{id:a});var r=G("slider-input");P(this.inputElement,{id:r}),P(this.cursorElement,{role:"slider","aria-valuemin":this.range.min,"aria-valuemax":this.range.max,tabindex:"0","aria-describedby":a,"aria-labelledby":n}),P(this.inputElement,{"aria-labelledby":"".concat(n," ").concat(r," ").concat(a)})},sync:function(e,t){var n,i,a=ge(t,2),r=a[0],o=a[1],l=e();return"label"===r?(i=o,(n=this).labelElement.setAttribute("data-i18n",i),n.localize(),!0):l},doDisable:function(e){e(),P(this.cursorElement,{"aria-disabled":!0,tabindex:-1})},doEnable:function(e){e(),P(this.cursorElement,{"aria-disabled":!1,tabindex:0})},setValue:function(e){e(),this.cursorElement&&this.cursorElement.setAttribute("aria-valuetext",this.value)}})},function(){U(UIExtension.components.widgets.TabItemComponent,{render:function(e){e();var t=G("tab"),n={role:"tab","aria-controls":this.id,id:t};P(this.tabElement,n),P(this,{role:"tabpanel","aria-labelledby":t})},doActive:function(e){e(),I(this.tabElement,"aria-selected","true")},doDeactive:function(e){e(),I(this.tabElement,"aria-selected","false")},mounted:function(e){var t=this;e(),this.on(k.ACTIVE,(function(e){t.parent&&t.parent.$container&&t.parent.$container.$children&&t.parent.$container.$children.forEach&&setTimeout((function(){t.tabElement.focus()}))})),this.attachEventToElement(this.tabElement,"keyup",(function(e){var n,i=t.parent;ht(e).when(Et(mt,pt),(function(){t.active()})).when(bt,(function(){n=i.getFirstTab()})).when(gt,(function(){n=i.getLastTab()})).when(yt,(function(){n=i.getPreviousOf(t)})).when(_t,(function(){n=i.getNextOf(t)})),n&&(n.tabElement.focus(),n.tabElement.click())}))}})},function(){function e(e){var t=e.element,n=e.colors,i=e.localizer;P(t.querySelector(".fv__ui-colors-picker"),{role:"listbox"}),t.querySelectorAll(".fv__ui-picker-color").forEach((function(t){var a,r=+t.dataset.index,o=n[r],l=function(e){e=e.replace("#","");var t=parseInt(e,16),n=t>>8&255,i=t>>16&255;return"RGB(".concat(255&t,", ").concat(n,", ").concat(i,")")}(o);a=e.isEditing?i.translateSync("aria:labels.color-picker-remove-item",{color:l}):i.translateSync("aria:labels.color-picker-item",{color:l}),P(t,o===e.value?{"aria-label":a,role:"option","aria-posinset":r,"aria-selected":!0,tabindex:0}:{"aria-label":a,role:"option","aria-posinset":r,"aria-selected":!1})}));e.getPDFUI();P(t.querySelector(".fv__ui-picker-addcolor"),{"aria-label":i.translateSync("aria:labels.color-picker-add-color")});var a=t.querySelector(".fv__ui-property-icon-nocolor"),r=i.translateSync("aria:labels.color-picker-transparent");P(a,0===e.value?{role:"option","aria-label":r,"aria-selected":!0,tabindex:0}:{role:"option","aria-label":r}),P(t.querySelector(".fv__ui-picker-removecolor"),{role:"option","aria-label":e.isEditing?i.translateSync("aria:labels.color-picker-confirm-remove"):i.translateSync("aria:labels.color-picker-removecolor")})}U(d.components.widgets.ColorPickerComponent,{render:function(t){t(),e(this)},_activeDom:function(e){e();var t=this.element.querySelector("[aria-selected=true]");t&&I(t,"aria-selected",!1),I(this.element.querySelector(".fv__ui-property-icon-nocolor"),"aria-selected",0===this.value);var n=this.colors.indexOf(this.value);if(n>-1){var i=this.element.querySelectorAll(".fv__ui-picker-color")[n];i&&P(i,{"aria-selected":"true",tabindex:0})}},_toggleEditingMode:function(t){t(),e(this)},mounted:function(t){var n=this;t(),this.addDestroyHook(this.localizer.watch("",{},"",(function(){e(n)})))}})},function(){U(d.components.widgets.ColorSpectrumComponent,{mounted:function(e){var t=this;e(),this.$sliderHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$draggerHelper.attr({tabindex:0,"aria-valuenow":this.$active.css("background-color"),role:"slider"}),this.$trans.attr({tabindex:0,role:"button"});var n="aria:labels.no-color";this._unwatchThisLabel=this.localizer.watch(n,{},n,(function(e){t.$trans.attr("aria-label",e)})),this.addDestroyHook(this._unwatchThisLabel),this._updateCurrentColor=x((function(){var e=t.$active.css("background-color");t.$active.attr({"aria-label":e}),t.$sliderHelper.attr({"aria-valuetext":e}),t.$draggerHelper.attr({"aria-valuetext":e})}),100);var i=function(e){if(e=e.originalEvent||e,Re(e,ze(Me,Oe,Be,Ue))){var n=t.$dragger.offset(),i=n.left,a=n.top,r=t.$draggerHelper.offset(),o=r.left,l=r.top,c=o-i+t.$draggerHelper.outerWidth()/2,s=l-a+t.$draggerHelper.outerHeight()/2,u=t.$dragger.height(),d=t.$dragger.width();He(e).switchers(!1).when(Be,(function(){(c-=Ke)<0&&(c=0)})).when(Oe,(function(){(s-=Ke)<0&&(s=0)})).when(Ue,(function(){(c+=Ke)>d&&(c=d)})).when(Me,(function(){(s+=Ke)>u&&(s=u)})),e.stopPropagation(),e.preventDefault(),t.currentSaturation=c/d,t.currentValue=(u-s)/u,t.updateColorLocation(),t.active()}};this.$draggerHelper.on("keydown",i),this.$draggerHelper.on("click",(function(e){return e.target.focus()})),this.$sliderHelper.on("keydown",(function(e){if(Re(e,ze(Me,Oe))){var n=t.$sliderHelper.offset().top-t.$slider.offset().top+Math.ceil(t.$sliderHelper.outerHeight()/2),i=t.$slider.height();He(e).when(Oe,(function(){(n-=Ke)<0&&(n=0)})).when(Me,(function(){(n+=Ke)>i&&(n=i)})),t.currentHue=parseFloat(n/t.$slider.height()),t.updateHueLocation(),t.active(),e.stopPropagation(),e.preventDefault()}})),this.$sliderHelper.on("click",(function(e){return e.target.focus()})),this.attachEventToElement(this.element,"keydown",(function(e){Re(e,ze(je,Ve,Ge))&&e.stopPropagation()})),this.addDestroyHook(C(this.element,(function(e){e.stopPropagation(),t.$cancel.click()}),Ge,{capture:!0}),C(this.element,(function(e){if(e.target!==t.$cancel.get(0)){if(e.target===t.$trans[0])return t.$trans.click(),void e.stopPropagation();e.stopPropagation(),t.$choose.click()}}),Ve,{capture:!0}),(function(){t.$draggerHelper.off("keydown",i),t.$draggerHelper.off("click",(function(e){return e.target.focus()})),t.$sliderHelper.off("keydown",i),t.$sliderHelper.off("click",(function(e){return e.target.focus()}))}));var a=function(e){t.attachEventToElement(e,"keydown",(function(e){Re(e,ze(Ve,je))&&(e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(e,"keyup",(function(t){if(Re(t,ze(Ve,je))){var n=D(t);t.stopPropagation(),e.dispatchEvent(n)}}))};a(this.$choose.get(0)),a(this.$cancel.get(0))},updateColorLocation:function(e){e()},active:function(e){e(),this.$sliderHelper.attr("tabindex",0),this._updateCurrentColor()},show:function(e){e(),this.previousFocusEle=document.activeElement;var t=this.element.querySelector("#foxit-spectrum-color-dragger");t&&setTimeout((function(){t.focus()}))},hide:function(e){e(),this.previousFocusEle&&this.previousFocusEle.focus()}})},function(){U(d.PDFViewCtrl.printer.PrintProgress,{reset:function(e){this.progressBarElement=this.element.querySelector(".fv__ui-print-process-bar"),e(),P(this.progressBarElement,{tabindex:"-1",role:"progressbar","aria-label":this.title})},show:function(e){e(),this.progressBarElement.focus()},updateProgress:function(e,t){var n=ge(t,2),i=n[0],a=n[1];e(),P(this.progressBarElement,{"aria-valuemin":"0","aria-valuenow":i,"aria-valuemax":a})}})},function(){U(d.components.widgets.SelectComponent,{render:function(e){var t=this;e();var n=G("select-btn-"),i=this.element.querySelector(".fv__ui-select"),a=document.createElement("span");this.selectedLabel=a,P(a,{id:G("selected"),"data-i18n":"[aria-label]aria:labels.select.selectedLabel",class:"fv__ui-aria-sr-only"}),this.element.appendChild(a),P(i,{id:n,role:"listbox","aria-haspopup":"listbox","aria-expanded":"false",tabindex:0}),this.$selector.setAttribute("aria-labelledby",n),this.$selector.setAttribute("role","listbox"),this.$selector.setAttribute("tabindex","-1"),this.$selector.querySelectorAll("li").forEach((function(e,n){var i=t.$options.options[n];Pt(e,i,t),e.setAttribute("role","option"),e.setAttribute("tabIndex","-1")}))},setValue:function(e){var t=e();if(!this.$selector)return t;var n=this.$selector.querySelector('li[data-value="'.concat(this.value,'"]'));n&&(n.setAttribute("aria-selected","true"),n.id||(n.id=G("sel-opt-")),P(this.element.querySelector(".fv__ui-select"),{"aria-describedby":"".concat(this.selectedLabel.id," ").concat(n.id)}));return t},mounted:function(e){var t=this;e();var n=function(e){xt(e,Tt(At,St,Ct,Dt,Lt,qt,$t))&&(e.preventDefault(),e.stopPropagation(),wt(e).switchers(!1).when(St,(function(){e.target.click()})).when(qt,(function(){var e=!1,n=document.activeElement.previousElementSibling;if(n)n.focus(),e=t.setValue(+(n.dataset?n.dataset.value:n.getAttribute("data-value")));else{var i=document.activeElement.parentElement.lastElementChild;i.focus(),e=t.setValue(+(i.dataset?i.dataset.value:i.getAttribute("data-value")))}e&&t.trigger("change",t.value)})).when($t,(function(){var e=!1,n=document.activeElement.nextElementSibling;if(n)n.focus(),e=t.setValue(+(n.dataset?n.dataset.value:n.getAttribute("data-value")));else{var i=document.activeElement.parentElement.firstElementChild;i.focus(),e=t.setValue(+(i.dataset?i.dataset.value:i.getAttribute("data-value")))}e&&t.trigger("change",t.value)})).filter((function(){return t.$selector.children.length>5})).when(Dt,(function(){var e=t.$selector.firstElementChild;e.focus(),t.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&t.trigger("change",t.value)})).when(Lt,(function(){var e=t.$selector.lastElementChild;e.focus(),t.setValue(+(e.dataset?e.dataset.value:e.getAttribute("data-value")))&&t.trigger("change",t.value)})))},i=function(e){wt(e).when(St,(function(){t.element.click()}))},a=function(e){t.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true");var n=t.$selector.querySelector('li[data-value="'.concat(t.value,'"]'));setTimeout((function(){n.focus()}))},r=function(e){"none"!==t.$selector.style.display&&wt(e).when(Ct,(function(){e.stopPropagation();var n=t.element.querySelector(".fv__ui-select");n.setAttribute("aria-expanded","false"),t.$selector.style.display="none",n.focus()}))},o=function(e){if(!t.disabled){var n=t.element.querySelector(".fv__ui-select");n.setAttribute("aria-expanded","false");var i=t.$selector.querySelectorAll('li[aria-selected="true"]');i.length>0&&i.forEach((function(e){return e.removeAttribute("aria-selected")})),g(e).every((function(e){return!e.classList.contains("fv__ui-select-option")||(e.setAttribute("aria-selected",!0),e.click(),!1)})),t.$selector.style.display="none",n&&n.focus()}};this.$selector.querySelectorAll("li").forEach((function(e){e.addEventListener("keydown",n),e.addEventListener("click",o),t.addDestroyHook((function(){e.removeEventListener("keydown",n),e.addEventListener("click",o)}))})),this.element.addEventListener("keydown",i),this.element.addEventListener("click",a),this.element.addEventListener("keyup",r),this.addDestroyHook((function(){t.element.removeEventListener("keydown",i),t.element.removeEventListener("keydown",a),t.element.removeEventListener("keyup",r)}))},doActive:function(e){e(),this.element.querySelector(".fv__ui-select").setAttribute("aria-expanded","true")},doDisable:function(){P(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!0,tabindex:-1})},doEnable:function(){P(this.element.querySelector(".fv__ui-select"),{"aria-disabled":!1,tabindex:0})}})},function(){var e=UIExtension.modular.root(),t=e.getComponentClass("listbox"),n=e.getComponentClass("listbox-item");t&&(U(t,{updateListData:function(e){e(),P(this,{role:"presentation"});this.children().forEach((function(e,t){"listbox-item"===e.nodeName&&(P(e,{"aria-posinset":t}),t++)})),this.childAt(0)&&this.childAt(0).childAt(1)&&this.childAt(0).childAt(1).childAt(0)&&this.childAt(0).childAt(1).childAt(0).element.focus()}}),U(n,{render:function(e){var t=this;if(e(),this.listdata.url){var n=this.path;this.addDestroyHook(this.localizer.watch("",{},"",(function(){var e=n.slice(0,n.length-1).map((function(e){return ft.indexOf(e)>-1?t.localizer.translateSync("stamp.category."+e):e})).join(",");P(t,{"aria-label":e}),t.element.querySelector("img").alt=t.element.title+", "+e}))),P(this.element.querySelector(".stamp-preview"),{"aria-hidden":"true"}),P(this,{role:"option"})}},doActive:function(e){e(),P(this,{"aria-selected":!0})},doDeactive:function(e){e(),P(this,{"aria-selected":!1})}}))},function(){var e=d.modular.root().getComponentClass("field-panel"),t=function(e,t){var i,a=e.$html.find(".fv__field-item:visible"),r=a.filter(".focus"),o=a.index(r);i=1===t||-1===t?a.eq((o+t+a.length)%a.length):0===t?a.first():a.last(),r.removeClass("focus"),i.addClass("focus");var l=i.attr("id");i.closest(".fv__ui-field-container").attr({"aria-activedescendant":l}),n(i)},n=function(e){var t=e.closest(".fv__ui-sidebar-panel-body"),n=t.scrollTop(),i=t.offset().top,a=e.offset().top;t.scrollTop(a-i+n)},i=function(e){var t=e.$html.find(".fv__field-item"),n=t.filter(".fv__active:visible");0===n.length&&(n=t.eq(0)),t.filter(".focus").removeClass("focus"),n.addClass("focus");var i=n.attr("id");e.$html.attr("aria-activedescendant",i)},a=function(e,t,n){for(var i=arguments.length,a=new Array(i>3?i-3:0),r=3;r<i;r++)a[r-3]=arguments[r];var o;(o=t).on.apply(o,[n].concat(M(a))),e.addDestroyHook((function(){var e;(e=t).off.apply(e,[n].concat(M(a)))}))},r=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return a.apply(void 0,[e,e.$html,t].concat(M(i)))},o=function(e,t,n,i){var a=n.id;P(t,{id:a,"aria-label":e.localizer.i18next.t("aria:labels.field.widget",{type:n.type,name:n.title,page:i}),role:"option"}),P(t.querySelector("input"),{"aria-labelledby":a})},l=function(e,t){var n=e.element,i=t.page,a=n.querySelector('.fv__field-item[data-deep="0"][data-page="'.concat(i,'"]'));if(a&&!a.getAttribute("role")){var r=a.id||G("page-item");P(a,{id:r,role:"option",tabindex:0}),P(a.querySelector("input"),{"aria-labelledby":r}),e.attachEventToElement(a.previousElementSibling,"click",(function(){!function(e,t,n){var i=t.parentElement.nextElementSibling,a=n.page,r=i.querySelectorAll(".fv__field-item:not([role=option])"),l=n.children.reduce((function(e,t){return e[t.id]=t,e}),{});r.forEach((function(t){var n=t.getAttribute("data-id"),i=l[n];o(e,t,i,a)}))}(e,a,t)}))}};U(e,{addField:function(e,t){var n=ge(t,1)[0];e();var i=n.children[0];!function(e,t,n){var i=e.element.querySelector('.fv__field-item[data-deep="0"][data-page="'.concat(t,'"]'));if(i){var a=i.parentElement.nextElementSibling.querySelector('.fv__field-item[data-id="'.concat(n.id,'"]'));o(e,a,n,t)}}(this,n.page,i)},updatePage:function(e,t){var n=ge(t,1)[0];e();var i=!n||!n.children||!n.children.length;this.$html.attr("tabindex",i?"-1":"0"),i||l(this,n)},render:function(e){var t=this;e(),this.$html.attr({role:"listbox",tabindex:"-1"}),r(this,"focus",(function(){i(t)})),r(this,"click",".fv__field-item",(function(){i(t)}))},mounted:function(e){var i=this;e();var a=Bt.ArrowUp,o=Bt.ArrowDown,l=Bt.ArrowRight,c=Bt.ArrowLeft,s=Bt.Home,u=Bt.End,d=Bt.Space,f=Bt.Enter;r(this,"keydown",(function(e){Mt(e.originalEvent).when(a,(function(){t(i,-1),e.preventDefault(),e.stopPropagation()})).when(o,(function(){t(i,1),e.preventDefault(),e.stopPropagation()})).when(l,(function(){var t=i.$html.find(".fv__field-item:visible").filter(".focus"),a=t.closest(".fv__fields_list"),r=a.next();if(r.length>0&&r.hasClass("fv__hide")){var o=a.find(".fv__tree-icon"),l=o.attr("class");o.attr("class",l.replace("fv__plug","fv__minus")),r.removeClass("fv__hide"),t.removeClass("focus"),(t=r.find(".fv__field-item:visible").eq(0)).addClass("focus");var c=t.attr("id");t.closest(".fv__ui-field-container").attr({"aria-activedescendant":c}),n(t)}e.preventDefault(),e.stopPropagation()})).when(c,(function(){var t,a=i.$html.find(".fv__field-item:visible").filter(".focus"),r=a.closest(".fv__field-child"),o=r.prev();if(o.length>0&&!o.hasClass("fv__hide")){t=o.find(".fv__tree-icon");var l=o.find(".fv__field-item:visible").eq(0);l.removeClass("focus"),l.addClass("focus");var c=l.attr("id");l.closest(".fv__ui-field-container").attr({"aria-activedescendant":c}),n(l)}else 0===o.length&&a.length>0&&(r=a.closest(".fv__fields_list").next()).length>0&&(t=r.find(".fv__tree-icon"));var s=t.attr("class");t.attr("class",s.replace("fv__minus","fv__plug")),r.addClass("fv__hide"),e.preventDefault(),e.stopPropagation()})).when(s,(function(){t(i,0),e.preventDefault(),e.stopPropagation()})).when(u,(function(){t(i),e.preventDefault(),e.stopPropagation()})).when(d,(function(){i.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),i.pdfUI.eventEmitter.once("active-annotation",(function(){e.target.focus()})),e.preventDefault(),e.stopPropagation()})).when(f,(function(){i.$html.find(".fv__field-item:visible").filter(".focus").trigger("click"),i.pdfUI.eventEmitter.once("active-annotation",(function(){e.target.focus()})),e.preventDefault(),e.stopPropagation()}))}))}})},function(){var t=d.components.widgets.FileSelectorComponent,n=d.components.widgets.DropdownComponent;U(t,{postlink:function(e){var t=this;e(),this.addDestroyHook(this.localizer.watch("",{},"",(function(){P(t.inputElement,{"aria-label":t.element.getAttribute("aria-label")})})))},mounted:function(t){var i=this;t(),e(this.parent,n)&&(this.parent.selectable?this.setAttribute("role","option"):this.setAttribute("role","menuitem"));var a=function(e){e.pointerType&&"mouse"===e.pointerType&&(i.inputElement.click(),e.stopPropagation(),e.preventDefault())};"button"===this.element.getAttribute("role")&&(this.element.addEventListener("click",a),this.addDestroyHook((function(){i.element.removeEventListener("click",a)})))},doDisable:function(e){e(),this.element.setAttribute("tabindex","-1")},doEnable:function(e){e(),this.element.setAttribute("tabindex","0")}})},function(){U(d.components.widgets.CheckboxComponent,{render:function(e){var t=this;e(),this.attachEventToElement(this.element,"keyup",(function(e){wi(e).when(ki,(function(){t.inputElement.click(),e.preventDefault()}))}))}})},function(){U(d.components.widgets.RibbonButtonComponent,{mounted:function(e){var t=this;e(),this.on("child_inserted",x((function(){Xi(t)}))),this.watchI18n("",(function(){Xi(t)}));var n=function(e){if(!t.notDropdown&&(Ki(e,Wi.or(Wi.Space,Wi.Enter))||"click"===e.type)){var n=t.getDropdown();n&&n.isActive&&(n.once("deactive",(function(){n.separate?t.eRibbonText.focus():t.element.focus()})),We(n))}};this.attachEventToElement(this.eRibbonText,"click",n),this.attachEventToElement(this.element,"click",n);var i=this.eRibbonText.id||G("ribbon-text");I(this.eRibbonText,"id",i);var a=this.getDropdown();if(a){a.listElement["aria-label"]||I(a.listElement,"aria-labelledby",i),a.separate||a.editable?I(a.caretElement,"aria-labelledby",i):I(a.togglerElement,"aria-labelledby",i),this.notDropdown,I(this.element,"role","button");var r=a.separate?this.eRibbonText:this.element;this.attachEventToElement(r,"keyup",(function(e){e.target===r&&Ki(e,Wi.or(Wi.Space,Wi.Enter))&&n(e)})),this.addDestroyHook(a.on("active",(function(){H(t.eDropdownContainer,"aria-hidden"),I(r,"aria-expanded","true")})),a.on("deactive",(function(){I(t.eDropdownContainer,"aria-hidden","true"),I(r,"aria-expanded","false")})))}else I(this.eDropdownContainer,"aria-hidden","true"),I(this.element,"role","button")},select:function(e){e(),Xi(this)},doDisable:function(e){e(),Xi(this)},doEnable:function(e){e(),Xi(this)},setText:function(e){e(),Xi(this)}})},function(){U(d.modular.module("layer").getComponentClass("pdflayers"),{update:function(e){e();var t=this.$html.children(".tree-wrapper>ul.tree-list");t.attr({role:"listbox",tabindex:"0","aria-multiselectable":"true"});var n=t.find(".tree-item-main"),i=0,a=n.filter((function(e){return!!n[e].classList.contains(".fv__active")&&(i=e,!0)})),r=n[i]&&n[i].getAttribute("data-id");t.attr("aria-activedescendant",r),0===a.length&&this.activeItem(r);var o=t.find("ul.tree-list"),l=t.find(".tree-item");o.attr({role:"group"}),l.attr({role:"option",tabindex:-1}).attr("id",(function(e){return l.eq(e).find(":nth-child(2)").attr("data-id")})).attr("aria-selected",(function(e){var t=l.eq(e).find("input[type=checkbox]").prop("checked");return!!l.eq(e).find("input[type=checkbox]").hasClass("vb-hidden")||(t?(l.eq(e).attr("aria-checked",!0),!0):(l.eq(e).removeAttr("aria-checked"),!1))})),l.find("input[type=checkbox]").attr("tabindex","-1");n.on("click",(function(e){var n=this.getAttribute("data-id");t.attr("aria-activedescendant",n)}))},events:function(e){var t=this;e();var n=ma.ArrowUp,i=ma.ArrowDown,a=ma.ArrowLeft,r=ma.ArrowRight,o=ma.Space,l=ma.Home,c=ma.End,s=ma.Enter;this.$html.on("keydown",(function(e){va(e.originalEvent).when(n,(function(){pa(t,-1),e.preventDefault(),e.stopPropagation()})).when(i,(function(){pa(t,1),e.preventDefault(),e.stopPropagation()})).when(l,(function(){pa(t,0),e.preventDefault(),e.stopPropagation()})).when(c,(function(){pa(t),e.preventDefault(),e.stopPropagation()})).when(a,(function(){e.stopPropagation()})).when(r,(function(){e.stopPropagation()})).when(o,(function(){var n=t.$html.find(".tree-item-main").filter(".fv__active"),i=n.children(".tree-item-checkbox");i.hasClass("vb-hidden")||(i.prop("checked")?(n.closest("li.tree-item").attr("aria-selected",!1),n.closest("li.tree-item").removeAttr("aria-checked")):(n.closest("li.tree-item").attr("aria-selected",!0),setTimeout((function(){n.closest("li.tree-item").attr("aria-checked",!0)})))),i.trigger("click"),e.preventDefault(),e.stopPropagation()})).when(s,(function(){var n=t.$html.find(".tree-item-main").filter(".fv__active"),i=n.children(".tree-item-checkbox");i.hasClass("vb-hidden")||(i.prop("checked")?(n.closest("li.tree-item").attr("aria-selected",!1),n.closest("li.tree-item").removeAttr("aria-checked")):(n.closest("li.tree-item").attr("aria-selected",!0),setTimeout((function(){n.closest("li.tree-item").attr("aria-checked",!0)})))),i.trigger("click"),e.preventDefault(),e.stopPropagation()}))}))}})},function(){U(d.modular.module("bookmark").getComponentClass("bookmark-panel"),{update:function(e){e();var t=this.$html[0],n=T(t.querySelectorAll("ul.tree-list")),i=Array.from(t.querySelectorAll("ul.tree-list .tree-item"));n.attr({role:"listbox",tabindex:"0"}),i.forEach((function(e){var t=e.children[1];P(e,{role:"option",id:t?t.getAttribute("data-id"):null})})),n.on("focus",(function(){var e=t.querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");if(e){var n=e.getAttribute("data-id");I(e.closest("ul.tree-list"),"aria-activedescendant",n)}}))},events:function(e){var t=this;e();var n=ga.ArrowUp,i=ga.ArrowDown,a=ga.Home,r=ga.End,o=ga.Space,l=ga.Enter;this.$html.on("keydown",(function(e){ba(e.originalEvent).when(n,(function(){ya(t,-1),e.preventDefault(),e.stopPropagation()})).when(i,(function(){ya(t,1),e.preventDefault(),e.stopPropagation()})).when(a,(function(){ya(t,0),e.preventDefault(),e.stopPropagation()})).when(r,(function(){ya(t),e.preventDefault(),e.stopPropagation()})).when(o,(function(){if(!PDFViewCtrl.shared.isEditableElement(e.target)){var n=t.$html[0].querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");n&&(T(n).click(),e.preventDefault(),e.stopPropagation())}})).when(l,(function(){if(!PDFViewCtrl.shared.isEditableElement(e.target)){var n=t.$html[0].querySelector("ul.tree-list .tree-item>.tree-item-main.fv__active");n&&(T(n).click(),e.preventDefault(),e.stopPropagation())}}))}))}})},function(){U(d.modular.module("attachment").getComponentClass("attachment-panel"),{mounted:function(e){var t=this;e(),this.$element.on("keydown",(function(e){_a(e.originalEvent).when(wa,(function(){var e=xa(t,-1);t.updateButton();var n=e.find(".td:nth-child(1)").attr("id");t.$element.find(".tbody").attr("aria-labelledby",n)})).when(ka,(function(){var e=xa(t,1);t.updateButton();var n=e.find(".td:nth-child(1)").attr("id");t.$element.find(".tbody").attr("aria-labelledby",n)}))}))},renderAttachmentTable:function(e){e(),this.$attachmentTable.find(".tr>.td:nth-child(1)").each((function(e,t){t.id||P(t,{id:G()})}))}})},function(){U(d.modular.module("inksign").getComponentClass("signItem"),{mounted:function(e){var t=this;e(),P(this.signItemBtn,{role:"menuitem",tabindex:0});var n=function(e,n){t.addDestroyHook(t.watchI18n(n,(function(t){e.setAttribute("aria-label",t)})))};n(this.element,"aria:labels.createSignature"),n(this.deleteSignBtn,"aria:labels.deleteSignature")}})},function(){var e=d.widgets.SidebarRightComponent,t=d.SeniorComponents.SidebarTabsComponent;e&&t&&(U(e,{show:function(e){e(),this.focusElement=document.activeElement!==document.body&&document.activeElement},collapse:function(e){var t=this.isExpanded;e(),t&&(this.focusElement?this.focusElement.focus():M(document.querySelectorAll(".fx-ribbon-item-active")).every((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return!n||!i||(e.focus(),!1)})))}}),U(t,{mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-sidebar-right-navlist");P(n,{role:"tablist","aria-label":"right panel"});var i=function(e){var n=t.element.querySelectorAll(".fv__ui-sidebar-right-nav"),i=t.element.querySelector(".fv__ui-sidebar-right-nav.active"),a=M(n).indexOf(i);a="number"==typeof e?-1===e||1===e?(a+e+n.length)%n.length:e:n.length-1;var r=t.openTabs[a];t.openTab(r),t.setActivetab(r)};this.attachEventToElement(this.element,"keydown",(function(e){$(e.target)||ir(e,or(lr,cr,ur,sr,dr))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(n,"keyup",(function(e){ar(e).when(sr,(function(){e.stopPropagation(),e.preventDefault(),i(-1)})).when(ur,(function(){e.stopPropagation(),e.preventDefault(),i(1)})).when(lr,(function(){e.stopPropagation(),e.preventDefault(),i(0)})).when(cr,(function(){e.stopPropagation(),e.preventDefault(),i()})).when(dr,(function(){e.stopPropagation(),e.preventDefault(),function(){var e=t.element.querySelectorAll(".fv__ui-sidebar-right-nav"),n=t.element.querySelector(".fv__ui-sidebar-right-nav.active"),i=M(e).indexOf(n),a=t.openTabs[i];t.closeTab(a)}()}))}),!0)},setActivetab:function(e,t){var n=this,i=ge(t,1)[0];e(),M(this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((function(e){P(e.querySelector(".fv__ui-sidebar-nav-close"),{"aria-hidden":"true"}),e.classList.contains("active")?(P(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":n.getTabs().filter((function(e){return e.name===i}))[0].element.id}),e):P(e,{tabindex:"-1",role:"tab","aria-selected":"false"})}))},closeTab:function(e,t){var n,i=this,a=ge(t,1)[0];e(),M(this.element.querySelectorAll(".fv__ui-sidebar-right-nav")).forEach((function(e){e.classList.contains("active")?(P(e,{role:"tab",tabindex:"0","aria-selected":"true","aria-controls":i.getTabs().filter((function(e){return e.name===a}))[0].element.id}),n=e):P(e,{tabindex:"-1",role:"tab","aria-selected":"false"})})),n&&n.focus()}}))},function(){var e=7,t=9,n=d.modular.module("edit-properties").getComponentClass("edit-properties");n&&U(n,{setHost:function(n,i){var a=ge(i,2),r=(a[0],a[1]);if(n(),r===e){var o=this.measureTab.$element.find("[checkbox]");o.parent().attr("role","group"),o.attr({role:"checkbox",tabindex:"0","aria-checked":!1});var l=this.measureTab.getEleByName("measure-export");l.attr({role:"button",tabindex:"0"}).attr("aria-label",l.attr("title")),o.off("click"),o.on("click",(function(e){e.target.classList.contains("active")?P(e.target,{"aria-checked":!1}):P(e.target,{"aria-checked":!0})})),o.off("keydown"),o.on("keydown",(function(e){fr(e.originalEvent,mr(pr,br))&&(e.preventDefault(),e.stopPropagation(),o.click())})),l.off("keydown"),l.on("keydown",(function(e){fr(e.originalEvent,mr(pr,br))&&(e.preventDefault(),e.stopPropagation(),l.click())}))}else if(r===t){var c=function(e){e.target.classList.contains("disabled")||(e.target.classList.contains("up")?P(e.target,{"aria-expanded":!1}):P(e.target,{"aria-expanded":!0}))},s=function(e){if(fr(e.originalEvent,mr(pr,br))){if(e.target.classList.contains("disabled"))return;e.target.click()}},u=this.noteTab.$element;U(this.noteTab.constructor,{getDialogInstance:function(e){var t=e();if(t&&t.name&&"color"===t.name){var n=t.$element,i=n.find(".fv__ui-layer-inner"),a=n.find(".item-btn");i.attr({tabindex:"0",role:"listbox","aria-labelledby":i.find(":first-child").id,"aria-activedescendant":a[0].id}),a.attr({role:"option"}).attr("aria-label",(function(e){return a[e].style.background})),a.eq(0).attr("aria-selected","true");var r=function(e){var n,a=t.$element.find(".item-btn:visible"),r=-1;a.each((function(e,t){t.getAttribute("aria-selected")&&(r=e,t.removeAttribute("aria-selected"))})),n="number"==typeof e?-1===e||1===e?(r+e+a.length)%a.length:(e+a.length)%a.length:a.length-1;var o=a.eq(n),l=o.attr("id");o.attr("aria-selected","true"),i.attr("aria-activedescendant",l)};n.off("keydown"),n.on("keydown",(function(e){vr(e.originalEvent).when(gr,(function(){r(-1),e.stopPropagation(),e.preventDefault()})).when(yr,(function(){r(1),e.stopPropagation(),e.preventDefault()})).when(_r,(function(){r(0),e.stopPropagation(),e.preventDefault()})).when(Er,(function(){r(),e.stopPropagation(),e.preventDefault()})),fr(e.originalEvent,mr(pr,br))&&e.target.querySelector("[aria-selected]").click()}))}else if("opacity"===t.name){var o=t.$element,l=o.find(".trigger");l.attr({role:"slider",tabindex:"0","aria-valuemax":"".concat(t.valueMax,"%"),"aria-valuemin":"".concat(t.valueMin,"%"),"aria-valuenow":"".concat(t.$label.text(),"%")});var c=function(e,n){var i=+t.$label.text()+e*n;i>100?i=100:i<0&&(i=0),t.updateUI(i);var a=+i/100;t.callback&&t.oldValue!==a&&(t.oldValue=a,t.callback(a)),o.find(".trigger").attr({"aria-valuenow":"".concat(i,"%")})},s=function(e){fr(e.originalEvent,mr(yr,wr))?(c(1,1),e.preventDefault(),e.stopPropagation()):fr(e.originalEvent,mr(kr,gr))?(c(-1,1),e.preventDefault(),e.stopPropagation()):vr(e.originalEvent).when(Ar,(function(){c(-1,10),e.preventDefault(),e.stopPropagation()})).when(xr,(function(){c(1,10),e.preventDefault(),e.stopPropagation()})).when(_r,(function(){c(-100,1),e.preventDefault(),e.stopPropagation()})).when(Er,(function(){c(100,1),e.preventDefault(),e.stopPropagation()}))};l.off("keydown"),l.on("keydown",s)}return t}});var d=u.find(".icon-btn");d.attr({role:"button"}).attr("tabindex",(function(e){return d[e].classList.contains("disabled")?"-1":"0"})).attr("aria-disabled",(function(e){return d[e].classList.contains("disabled")?"true":"false"})),d.off("keydown"),d.on("keydown",s);var f=u.find('[name="toolbar-caret"]');f.attr({role:"button",tabindex:"0","aria-label":"Toolbar Caret"}),f.off("keydown"),f.on("keydown",s),f.off("click",c),f.on("click",c);var h=u.find('[name="color"]');h.attr({tabindex:"0",role:"button","aria-label":"Color"}),h.off("keydown"),h.on("keydown",s);var v=u.find('[name="opacity"]');v.attr({tabindex:"0",role:"button","aria-label":"Opacity"}),v.off("keydown"),v.on("keydown",s)}},doDisable:function(e){e(),this.$element.find("[tabindex=0]").attr({tabindex:-1,"aria-disabled":!0})},doEnable:function(e){e();var t=this.$element.find("[tabindex=-1]:not(.disabled)");t.attr({tabindex:0}),t.removeAttr("aria-disabled")}})},function(){var e=d.widgets.CollapsePanelComponent;e&&U(e,{mounted:function(e){e();var t=this.element.querySelector("[name=text]");P(t,{role:"button",tabindex:this.disabled?"-1":"0"}),this.attachEventToElement(t,"keydown",(function(e){Sr(e,qr(Lr,Dr))&&(e.preventDefault(),e.stopPropagation(),e.target.click())}))},open:function(e){e(),P(this.element.querySelector("[name=text]"),{"aria-expanded":!0})},close:function(e){e(),P(this.element.querySelector("[name=text]"),{"aria-expanded":!1})}})},function(){d.modular.moduleAsync("thumbnail").then((function(e){e.getComponentDefAsync("thumbnail-list").then((function(e){U(e.componentClass,{render:function(e){e(),P(this.element,{role:"listbox",tabindex:0})}})})),e.getComponentDefAsync("thumbnail-item").then((function(e){U(e.componentClass,{render:function(e){e(),I(this.element,"role","option")},doActive:function(e){e();var t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/);n.push(this.id),I(t,"aria-activedescendant",n.join(" ")),I(this.element,"aria-selected",!0)},doDeactive:function(e){e();var t=this.parent.element,n=(t.getAttribute("aria-activedescendant")||"").split(/\s+/),i=n.indexOf(this.id);i>-1&&(n.splice(i,1),I(t,"aria-activedescendant",n.join(" "))),I(this.element,"aria-selected",!1)}})}))}))},function(){U(d.modular.root().getComponentClass("form-group"),{setDescription:function(e){if(e(),this.description){var t=this.descriptionElement.id||G("desc");I(this.element,"aria-describedby",t)}}})},function(){var e=d.widgets,t=e.SelectListComponent;U(e.SelOptionComponent,{setValue:function(e){e(),P(this.element,{title:this.value})},applyNewState:function(e){e(),P(this.element,{"aria-selected":this.isSelected()})}}),U(t,{mounted:function(e){var t=this;e();var n=function(){if(0===t.size())return 1;var e=t.element.clientHeight,n=t.childAt(0).element.clientHeight;return Math.ceil(e/n)};this.attachEventToElement(this.element,"keydown",(function(e){var i=t.getSelectedOptionChildren(),a=-1,r=i[i.length-1],o=i[0]?i[0].index():-1,l=r?r.index():-1,c=t.children().length,s=Ur.value(n);Br(e,zr(Vr,Kr))?0===i.length?a=0:i.length>1?a=l:(a=o+1)>=c&&(a=0):Br(e,zr(jr,Gr))?0===i.length?a=c-1:i.length>1?a=o:(a=o-1)<0&&(a=c-1):Br(e,Qr)?a=0:Br(e,Yr)?a=c-1:Br(e,Wr)?a=0===i.length?0:o+(s.value-1):Br(e,Xr)&&(a=0===i.length?0:o-(s.value-1)),a=Math.max(Math.min(c-1,a),0);var u=t.childAt(a);u&&(u.select(!0),e.preventDefault())}),{})}})}],Zr=[function(e,t){return be.apply(this,arguments)},function(e){var t=d.modular.module("comment-list"),n=t.getComponentClass("comment-list"),i=t.getComponentClass("comment-group-ex"),a=t.getComponentClass("comment"),r=t.getComponentClass("reply"),o=t.getComponentClass("search-comment"),l=t.getComponentClass("filter-dialog"),c=t.getDirectiveClass("search-comment"),s=t.getComponentClass("load-all");U(o,{mounted:function(e){e(),P(this.element.querySelector(".fv__ui-commentlist-not-searching"),{id:G("fv__ui-commentlist-not-searching")})},doDisable:function(e){e(),P(this.openFilterBtnElement,{"aria-disabled":!0,tabindex:"-1"})},doEnable:function(e){e(),H(this.openFilterBtnElement,"aria-disabled"),P(this.openFilterBtnElement,{tabindex:"0"})}}),U(n,{render:function(e){e();var t=document.querySelector(".fv__ui-commentlist-not-searching");P(this.element,{role:"tree","aria-labelledby":t.id})},mounted:function(e){var t=this;e(),this.attachEventToElement(this.element,"keydown",(function(e){var n=function(){e.preventDefault(),e.stopPropagation()},i=e.target.closest(".fv__ui-accordion-card-header"),a=e.target.closest(".fv__ui-accordion-card-body"),r=!!i,o=!!a,l=t.children().filter((function(e){return e.isDOMVisible()})),c=l.length,s=l.findIndex((function(e){return r?e.headerElement===i:e.bodyElement===a})),u=l[s],d=void 0,f=void 0,h=void 0,v=void 0,m=!1;if(r)if(Q(e,ae))f=0;else if(Q(e,re))f=c-1;else if(Q(e,Z)||Q(e,oe)&&!e.shiftKey)if(u.isActive)d=u.children().filter((function(e){return e.isDOMVisible()})),h=0,m=Q(e,oe);else{if(Q(e,oe)&&(f=s+1)>=c)return;f=(s+1)%c}else if(Q(e,J)||Q(e,oe)&&e.shiftKey){if(Q(e,oe)){if(-1===(f=s-1))return}else f=(s-1+c)%c;var p=l[f];p&&p.isActive&&(f=void 0,h=(d=p.children().filter((function(e){return e.isDOMVisible()}))).length-1,m=Q(e,oe))}else Q(e,te)?(u.active(),n()):Q(e,ee)?(u.deactive(),n()):Q(e,Y(ne,ie))&&(u.isActive?u.deactive():u.active());else if(o)if(v=(d=u.children().filter((function(e){return e.isDOMVisible()}))).findIndex((function(e){return e.hasFocus()})),m=Q(e,oe),Q(e,Z))(h=v+1)>=d.length&&(h=void 0,f=(s+1)%c);else if(Q(e,J))(h=v-1)<0&&(f=s,h=void 0,v=0);else if(Q(e,oe)&&e.shiftKey){var b=d[v];if(e.target!==b.element)return;(h=v-1)<0&&(f=s,h=void 0,v=0)}else if(Q(e,oe)&&!e.shiftKey){var g=d[v];if(g&&e.target===g.replyEditorElement)g.replyEditorElement.innerText.trim()||(h=v+1)>=d.length&&(h=void 0,f=(s+1)%c);else v=void 0}else v=void 0;var y=!1;void 0!==f&&(l[f].headerElement.focus(),y=!0);var _=d?d[v]:void 0;_&&(_.deselect(),_.applyState(),y=!0);var E=d?d[h]:void 0;E&&(E.focus(),E.selected||m||E.trigger("click"),y=!0),y&&n()}))}}),U(i,{render:function(e){e(),P(this.headerElement,{role:"treeitem",tabindex:"0"}),P(this.headerButtonElement,{role:"none",tabindex:"-1"})},mounted:function(e){var t=this;e(),this.attachEventToElement(this.headerElement,"focus",(function(){t.headerElement.classList.add("selected"),P(t.headerElement,{"aria-selected":!0})})),this.attachEventToElement(this.headerElement,"blur",(function(){t.headerElement.classList.remove("selected"),P(t.headerElement,{"aria-selected":!1})}))},doActive:function(e){e(),P(this.headerElement,{"aria-expanded":!0})},doDeactive:function(e){e(),P(this.headerElement,{"aria-expanded":!1})}}),U(r,{render:function(e){e(),P(this.element,{role:"treeitem",tabindex:"-1"})},mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-commentlist-comment-reply-menu");if(n){var i=n.querySelector(".fv__ui-dropdown-toggler");this.attachEventToElement(i,"focus",(function(){t.element.focus()}))}var a=this.element.querySelector(".fv__ui-commentlist-reply-edit"),r=function(e){Q(e,X.Tab)&&a&&!a.contains(document.activeElement)&&t.publishMessage(),document.removeEventListener("keyup",r)};this.attachEventToElement(this.element,"keydown",(function(e){Q(e,X.Tab)&&document.addEventListener("keyup",r)}))},applyState:function(e){e(),document.activeElement.classList.contains("fv__ui-commentlist-btn")&&this.element.focus()},doDestroy:function(e){if(e(),document.activeElement===document.body){var t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-commentlist-comment.selected .fv__ui-commentlist-handler");if(t||(t=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header")),t)P(t,{tabindex:"0"}),t.focus(),f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t)}}}),U(a,{render:function(e){var t=this;e(),this.commentContentElement=this.element.querySelector(".fv__ui-commentlist-comment-content"),this.on("intersection-visible",(function(){P(t.element,{role:"group"}),P(t.addReplyContainerElement,{role:"treeitem",tabindex:"-1"}),P(t.handlerElement,{role:"treeitem",tabindex:"-1"}),P(t.checkMarkElement.parentElement,{tabindex:0}),P(t.commentContentElement,{tabindex:0})}))},mounted:function(e){var t=this;e(),this.commentlist=this.parent.parent,this.group=this.parent,this.groupIndex=this.group.index(),this.on("intersection-visible",(function(){t.attachEventToElement(t.handlerElement,"keydown",(function(e){Q(e,ie)&&(e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(t.commentContentElement,"keydown",(function(e){Q(e,ne)&&(t.trigger("dblclick",e),e.preventDefault(),e.stopPropagation())})),t.attachEventToElement(t.element,"keydown",(function(e){e.target===t.element&&(K(e.target)&&Q(e,Y(ne,oe,te,ee,J,Z,ie,ae,re))&&e.stopPropagation(),Q(e,ne)&&!t.selected&&t.trigger("click"))})),t.attachEventToElement(t.publishMessageBtn,"keydown",(function(e){Q(e,Y(ne,ie))&&t.target.click()}));var e=t.handlerElement.querySelector(".fv__ui-commentlist-comment-item-menu"),n=e&&e.querySelector(".fv__ui-dropdown-toggler");e&&(t.attachEventToElement(e,"keyup",(function(t){W(t).when(ie,(function(){"cancel-check-mark"===t.target.getAttribute("component-name")?e.querySelector('[component-name="add-check-mark"]').focus():"add-check-mark"===t.target.getAttribute("component-name")&&e.querySelector('[component-name="cancel-check-mark"]').focus()})),t.preventDefault(),t.stopPropagation()})),t.attachEventToElement(n,"focus",(function(){t.handlerElement.focus()})));var i,a=function(){document.activeElement===document.body&&M(document.querySelector('[name="fv--commentlist-search-load-all"]').children).every((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return!n||!i||(e.focus(),f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),e),!1)}))},r=t.element.querySelector(".fv__ui-commentlist-comment-editor"),o=function(e){Q(e,X.Tab)&&("replyContainer"!==i||t.addReplyContainerElement.contains(document.activeElement)||(t.publishReplyMessage(),a()),"commentEditor"!==i||r.contains(document.activeElement)||(t.publishMessage(),a())),document.removeEventListener("keyup",o)};t.attachEventToElement(t.element,"keydown",(function(e){Q(e,X.Tab)&&(t.addReplyContainerElement.contains(document.activeElement)?i="replyContainer":r.contains(document.activeElement)&&(i="commentEditor"),document.addEventListener("keyup",o))}));var l=t.handlerElement.querySelector(".fv__ui-commentlist-comment-check-mark");t.attachEventToElement(t.handlerElement,"keyup",(function(e){W(e).when(ne,(function(){n&&n.click(),e.preventDefault(),e.stopPropagation()})).when(ie,(function(){l&&(l.click(),P(t.handlerElement,{"aria-checked":l.checked})),e.preventDefault(),e.stopPropagation()}))}))}))},clearReplyEditor:function(e){e();var t=this.element.querySelector(".fv__ui-commentlist-replies .fv__ui-commentlist-reply:last-child"),n=document.querySelector([".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"].join(","));(n&&(n.classList.remove("selected"),H(n,"aria-selected"),P(n,{tabindex:"-1"})),t)&&(t.classList.add("selected"),P(t,{tabindex:"0","aria-selected":!0}),t.focus(),f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t))},applyState:function(e){if(e(),this.element&&(M(this.element.querySelectorAll(".fv__ui-commentlist-comment-editor")).forEach((function(e){P(e,{role:"treeitem"})})),M(this.element.querySelectorAll(".fv__ui-commentlist-btn")).forEach((function(e){P(e,{tabindex:"0",role:"button"})}))),document.activeElement.classList&&document.activeElement.classList.contains("fv__ui-commentlist-btn")){var t=document.querySelector([".fv__ui-accordion-card-header[aria-selected=true]",".fv__ui-commentlist-handler[aria-selected=true]",".fv__ui-commentlist-reply[aria-selected=true]"].join(","));t&&(H(t,"aria-selected"),P(t,{tabindex:"-1"}),t.classList.remove("selected")),this.handlerElement.classList.add("selected"),P(this.handlerElement,{tabindex:"0","aria-selected":!0}),this.handlerElement.focus(),f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),this.handlerElement)}},doDestroy:function(e){var t=this.groupIndex,n=this.commentlist.children();e();for(var i=t;i>=0&&i<n.length;i--){var a=n[i];if(a.children().length>0)return void a.headerElement.focus()}for(var r=t;r<n.length;r++){var o=n[r];if(o.children().length>0)return void o.headerElement.focus()}this.commentlist.getClosestComponentByType("sidebar-panel").focus()}}),U(l,{mounted:function(e){e();var t=this.element.querySelector('[name="fv--commentlist-filter-clear-selection-btn"]');P(t,{role:"button",tabindex:0}),M(this.element.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label")).forEach((function(e){P(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})})),this.attachEventToElement(t,"keydown",(function(e){Q(e,Y(ie,ne))&&(t.click(),e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(this.element,"click",(function(e){e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&P(e.target,{"aria-checked":!e.target.previousSibling.checked})})),this.attachEventToElement(this.element,"keydown",(function(e){Q(e,Y(ie,ne))&&(e.target.classList&&e.target.classList.contains("fv--ui-commentlist-fielter-fieldset-label")&&e.target.click(),e.preventDefault(),e.stopPropagation())}))},updateData:function(e){e(),M(this.element.querySelectorAll(".fv__ui-commentlist-filter-fieldset-author,.fv__ui-commentlist-filter-fieldset-commentType")).forEach((function(e){e.querySelectorAll(".fv__ui-commentlist-filter-option .fv--ui-commentlist-fielter-fieldset-label").forEach((function(e){P(e,{role:"checkbox",tabindex:0,"aria-label":e.textContent})}))}))}}),U(c,{doFoundMatch:function(e){e(),this.component.element.classList.contains("selected")&&this.storeFocusEle&&(this.storeFocusEle.classList.remove("selected"),H(this.storeFocusEle,"aria-selected"),P(this.storeFocusEle,{tabindex:"-1"}))},doFoundNotMatch:function(e){e(),this.component.element.classList.contains("selected")&&(this.storeFocusEle=document.querySelector(".fv__biz-sidebar-comment-list.active .fv__ui-accordion-card-header"),this.storeFocusEle&&(this.storeFocusEle.classList.add("selected"),P(this.storeFocusEle,{tabindex:0,"aria-selected":!0})))}}),U(s,{mounted:function(e){e();var t=this.element.querySelector(".fv__ui-commentlist-search-load-all-load"),n=this.element.querySelector(".fv__ui-commentlist-search-load-all-loading"),i=this.element.querySelector(".fv__ui-commentlist-search-load-all-no-more");P(t,{tabindex:"0",role:"button"}),P(n,{tabindex:"0",role:"button"}),P(i,{tabindex:"0",role:"button"}),this.attachEventToElement(t,"click",(function(e){var t=document.querySelector(".fv__ui-commentlist [aria-selected=true]");t&&(t.focus(),f(document.querySelector('[name="comment-list-sidebar-panel"] .fv__ui-sidebar-panel-body'),t))})),this.attachEventToElement(t,"keydown",(function(e){Q(e,ne)&&(e.preventDefault(),e.stopPropagation())})),this.attachEventToElement(t,"keyup",(function(e){Q(e,ne)&&t.click()}))}});var u=d.UIEvents;function f(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=n+i-a.top-a.height;r<0&&(r=0),e.scrollTo(0,r)}e.addUIEventListener(u.appendCommentListGroup,(function(e){var t=e.localizer,n=e.headerElement,i=function(){var i=t.translateSync("aria:labels.commentlist.group-title",{count:e.annotationCount,page:e.pageNumber});n.setAttribute("aria-label",i)};n.addEventListener("focus",i),e.addDestroyHook((function(){n.removeEventListener("focus",i)}))})),e.addUIEventListener(u.appendCommentListComment,(function(e,t){e.on("intersection-visible",(function(){var n=e.localizer.watch("aria:labels.commentlist.comment",{type:t.getType(),page:t.getPDFPage().getIndex()+1,author:t.getTitle(),content:t.getContent()},"",(function(t){e.handlerElement.setAttribute("aria-label",t)}));e.addDestroyHook(n),M(e.handlerElement.querySelectorAll("button")).forEach((function(e){P(e,{role:"none",tabindex:"-1"})}))}))})),e.addUIEventListener(u.appendCommentListReply,(function(e,t,n){var i=e.localizer.watch("aria:labels.commentlist.reply",{page:t.getPDFPage().getIndex()+1,type:t.getType(),replyAuthor:t.getTitle(),commentAuthor:n.getTitle(),content:t.getContent()},"",(function(t){e.setAttribute("aria-label",t)}));M(e.handlerElement.querySelectorAll("button")).forEach((function(e){P(e,{role:"none",tabindex:"-1"})})),e.addDestroyHook(i)}))},function(e,t){return Ne.apply(this,arguments)},function(e,t){return ke.apply(this,arguments)},function(e,t){var n=d.modular.module("password-protect").getComponentClass("password-protect-popup"),i=d.modular.module("password-protect").getComponentClass("password-protect-permissionPopup");n&&(U(n,{updateData:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-layer-panel");P(n.querySelector(".fv__password-protect-error"),{role:"alert"});var i=n.querySelector(".fv__encrypt-settings-radiobox-container"),a=i.children.item(0),r=i.children.item(1),o=r.children.item(0),l=i.children.item(2),c=l.children.item(0),s=G("enc-alg-l"),u=G("env-alg-128"),d=G("env-alg-256");P(i,{"aria-labelledby":s}),I(a,"id",s),I(r,"id",u),I(l,"id",d),P(o,{"aria-labelledby":u}),P(c,{"aria-labelledby":d}),n.querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");P(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&N(n,"tabindex"),n.addEventListener("keydown",(function(e){Ae(e,Ce(De,Le))&&e.target.click()})),n.addEventListener("click",(function(){I(n,"aria-checked",!t.checked)}))})),this.bindEvent(".fv__owner-password-checkbox","change",(function(e){t.element.querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");I(n,"aria-disabled",t.disabled),t.disabled?N(n,"tabindex"):I(n,"tabindex","0")}))}))}}),U(i,{updateData:function(e){var t=this;e(),this.element.querySelector(".fv__ui-layer-panel").querySelectorAll(".check-box-wrapper").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".checkbox-inner");P(n,{role:"checkbox",tabindex:0,"aria-checked":t.checked,"aria-disabled":t.disabled}),t.disabled&&N(n,"tabindex"),n.addEventListener("keydown",(function(e){Ae(e,Ce(De,Le))&&e.target.click()})),n.addEventListener("click",(function(){I(n,"aria-checked",t.checked)}))})),this.bindEvent(".fv__owner-permission-setting-checkbox","change",(function(e){P(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked}),M(t.element.querySelectorAll(".fv__permission-copy,.fv__permission-accessibility")).forEach((function(e){var t=e.parentElement.querySelector(".checkbox-inner");e.disabled?P(t,{tabindex:-1,"aria-disabled":!0}):(P(t,{tabindex:0}),H(t,"disabled","aria-disabled"))}))})),this.bindEvent(".fv__permission-copy","change",(function(e){P(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked});var n=t.element.querySelector(".fv__permission-accessibility"),i=n.parentElement.querySelector(".checkbox-inner");n.disabled?P(i,{tabindex:-1,"aria-disabled":!0}):(P(i,{tabindex:0}),H(i,"disabled","aria-disabled"))})),this.bindEvent(".fv__permission-accessibility","change",(function(e){P(e.target.parentElement.querySelector(".checkbox-inner"),{"aria-checked":e.target.checked})}))}}))},function(e,t){return pe.apply(this,arguments)},function(e,t){U(d.modular.module("search").getComponentClass("search-panel"),{render:function(e){e(),P(this.eInput,{"aria-label":this.localizer.translateSync("[placeholder]sidebar.search.panel.placeholder")})}});var n=t.querySelector("@search:search-panel");if(n){var i=n.element,a=i.querySelector("[name=pattern]"),r=t.localizer;n.addDestroyHook(r.watch("",{},"",(function(){P(a,{"aria-label":r.translateSync("sidebar.search.panel.placeholder")})}))),i.querySelectorAll(".fv__search-panel-form-label").forEach((function(e){var t=e.querySelector("input"),n=e.querySelector(".fv__search-panel-form-label-text"),i=G("search-panel-label");P(n,{id:i}),P(t,{"aria-labelledby":i})}))}},function(e,t){U(d.EditActionsTab,{buildActionsDom:function(e){e();var t=this.$element.find(".fv__action_list"),n=this.$element.find(".fv__action_title").attr("id");if(t.attr({role:"tree","aria-labelledby":n}),t.children().length>0){var i=t.children().attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"});i[0].setAttribute("tabindex","0"),i.find(".fv__subaction_list").attr("role","group"),i.find(".fv_action-body").attr({role:"treeitem","aria-expanded":"true",tabindex:"-1"}),function(e,t){var n=e.find("[role='treeitem']");n.off("click",Cn),n.on("click",Cn),n.off("keydown",En),n.on("keydown",En);var i=e.find(".fv_action-info-toggler");i.off("click",Sn),i.on("click",Sn),e.off("click",yn),e.on("click",yn)}(t)}},_setActionBtnStatus:function(e){var t,n;e(),t=this.$element.find(".fv__action_list"),(n=t.closest(".fv__action_tab").find(".fv__action_buttons>.fv__ui-dialog-ok-button")).attr("tabindex",(function(e){return n[e].classList.contains("disabled")?-1:0})),this.$element.find("#upAction, #downAction").each((function(e,t){t.classList.contains("disabled")?I(t,"tabindex","-1"):I(t,"tabindex","0")}));var i=document.activeElement;if("upAction"===i.getAttribute("id")&&i.classList.contains("disabled")?this.$element.find("#downAction:not(.disabled)").length>0&&this.$element.find("#downAction:not(.disabled)").eq(0).focus():"downAction"===i.getAttribute("id")&&i.classList.contains("disabled")&&this.$element.find("#upAction:not(.disabled)").length>0&&this.$element.find("#upAction:not(.disabled)").eq(0).focus(),this.$element.find("[role=tree]").attr({disabled:this.disabled,"aria-disabled":this.disabled}),this.disabled)this.$element.find("[role=treeitem]").attr({tabindex:"-1"});else{var a=this.$element.find("[role=treeitem]");a.length>0&&0===a.filter((function(e){return"0"===a[e].getAttribute("tabindex")})).length&&a.eq(0).attr("tabindex","0")}},syncUI:function(e){e(),this.$element.find("#actionAddButton").attr("tabindex",this.disabled?"-1":"0")},offEvent:_n})},function(e,t){e.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderFileSuccess,(function(){var t=e.signPropertyDialog;t&&U(t.constructor,{updateDialog:function(t){function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?{role:"button",tabindex:"0"}:{},i={"aria-labelledby":t.id};P(e,Object.assign({},n,i))}t();var i=this.dialog.element;i.querySelectorAll(".fv__signature-input").forEach((function(e){var t=e.querySelector("span");n(t.nextSibling,t)}));var a=i.querySelector("#permissions");n(a,a.previousSibling);var r=i.querySelector(".fv__ap-edit"),o=r.previousSibling;n(r,o,!0);var l=function(t){Dn(t).when(Ln,(function(){t.target.click(),e.eventEmitter.emit(qn)}))};r.addEventListener("keyup",l),this.addDestroyHook((function(){r.removeEventListener("keyup",l)}));var c=i.querySelector(".fv__button-ok"),s=i.querySelector(".fv__button-cancle");P(c,{role:"button",tabindex:"0","aria-label":c.innerText}),P(s,{role:"button",tabindex:"0","aria-label":s.innerText})}})}))},function(e,t){e.eventEmitter.on(qn,(function(){var t=e.SigAPDialog.dialog;if(t){var n=t.element,i=n.querySelector(".fv_sig-open-inksign");P(i,{role:"button",tabindex:"-1","aria-label":i.innerText});var a=n.querySelector(".fv__signature-image");P(a,{role:"radiogroup","aria-labelledby":a.previousSibling.id});var r=a.querySelectorAll("input");r.forEach((function(e){var n=e.checked;P(e,{"aria-checked":n?"true":"false",tabindex:n?"0":"-1"});var a=function(e){r.forEach((function(e){P(e,{"aria-checked":"false",tabindex:"-1"})})),P(e.target,{tabindex:"0","aria-checked":"true"})},o=function(e){$n(e).when(Pn,(function(){P(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})})).when(In,(function(){P(i,{tabindex:"drawingSig"==e.target.id?"0":"-1"})}))};e.addEventListener("click",a),e.addEventListener("keyup",o),t.addDestroyHook((function(){e.removeEventListener("click",a),e.removeEventListener("keyup",o)}))}));var o=n.querySelector(".fv__signature-labels");P(o,{role:"group","aria-labelledby":o.previousSibling.id});var l=n.querySelector(".fv__button-ok"),c=n.querySelector(".fv__button-cancle");P(l,{role:"button",tabindex:"0","aria-label":l.innerText}),P(c,{role:"button",tabindex:"0","aria-label":c.innerText})}}))},function(e,t){return Gn.apply(this,arguments)},function(e,t){U(PDFViewCtrl.FormRender,{showDateTimePicker:function(e){var n=this;if(e(),this.dt){var i=this.dt,a=i.calendarContainer,r=i.input,o=i.daysContainer;a&&r&&(a.__prepared_aria__||(a.__prepared_aria__=!0,function(e,t){var n=e.dt,i=n.calendarContainer,a=(n.input,n.prevMonthNav),r=n.nextMonthNav,o=i.querySelectorAll(ri.join(","));M(o).forEach((function(e){I(e,"tabindex","0")})),I(a,"aria-label",t.translateSync("aria:labels.prevMonth")),I(r,"aria-label",t.translateSync("aria:labels.nextMonth"))}(this,t.localizer),function(e){var t=document.createElement("div"),n=document.createElement("div");P(t,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),P(n,{tabindex:0,"aria-hidden":!0,class:"fv__ui-aria-focus-secondary-node"}),t.onfocus=function(t){var n=li(e)[0],i=li(e).slice(-1)[0];t.relatedTarget===n?i.focus():i&&n.focus()},n.onfocus=function(t){var n=li(e)[0],i=li(e).slice(-1)[0];t.relatedTarget===i?n.focus():i&&i.focus()},e.insertBefore(t,e.firstElementChild),e.appendChild(n,e.lastElementChild)}(a),o.setAttribute("role","application"),this.calendarEventListener=function(e){!function(e,t){if(!Xn(e,ai(Zn,Jn,ti,ei,ii,ni)))return;var n=t.dt,i=(n.calendarContainer,n.selectedDateElem),a=n.currentYear,r=n.currentMonth,o=n.input,l=n.todayDateElem,c=i&&i.textContent||l&&l.textContent,s=new Date;s.setFullYear(a),s.setMonth(r),s.setDate(c),Wn(e).switchers(!1).when(Zn,(function(){document.activeElement.classList.contains("flatpickr-days")&&n.setDate(s.getTime()-864e5,!0)})).when(Jn,(function(){document.activeElement.classList.contains("flatpickr-days")&&n.setDate(s.getTime()+864e5,!0)})).when(ti,(function(){document.activeElement.classList.contains("flatpickr-days")&&n.setDate(s.getTime()+6048e5,!0)})).when(ei,(function(){document.activeElement.classList.contains("flatpickr-days")&&n.setDate(s.getTime()-6048e5,!0)})).when(ii,(function(){document.activeElement.classList.contains("flatpickr-days")&&(n.close(),o.focus())})).when(ni,(function(){n.close(),o.focus()})),e.stopPropagation()}(e,n)},a.addEventListener("keydown",this.calendarEventListener)),I(a,"tabindex","-1"),this.__onkeydown__||(this.__onkeydown__=function(e){n.dt.isOpen&&Xn(e,Yn)&&(n.dt.calendarContainer.focus(),e.preventDefault())}),this.control.$textInput.off("keydown",this.__onkeydown__),this.control.$textInput.on("keydown",this.__onkeydown__))}},destroy:function(e){if(e(),this.dt){var t=this.dt,n=t.calendarContainer,i=t.input;n&&i&&(this.__onkeydown__&&this.control&&this.control.$textInput&&this.control.$textInput.off("keydown",this.__onkeydown__),n.removeEventListener("keydown",this.calendarEventListener))}}})},function(e,t){e.eventEmitter.once("showCODialog",(function(){var t=(bi=e.CODialog).$element.find("[role=button]"),n=function(e){si(e,pi)&&(e.target.click(),e.preventDefault(),e.stopPropagation()),e.target.removeEventListener("keyup",n)};t.on("keydown",(function(e){if(si(e.originalEvent,pi)){if(e.target.classList.contains("disabled"))return;e.target.addEventListener("keyup",n),e.stopPropagation(),e.preventDefault()}})),U(bi.constructor,{show:function(e){e(),this.$element.find(".fv_CO-item").each((function(e,t){P(t,{role:"option","aria-label":t.innerText,"aria-selected":t.classList.contains("active"),id:G("field-item")}),t.addEventListener("click",(function(e){yi(),_i()}))})),this.$element.find(".fv__fields-list")[0].addEventListener("keydown",gi),yi(),_i()},moveItemTo:function(e){e(),yi(),_i(),bi.$element.find(".fv_CO-item").each((function(e,t){P(t,{"aria-label":t.innerText})}))},destroy:function(e){e(),this.$element.find(".fv_CO-item").each((function(e,t){t.removeEventListener("click")})),this.$element.find(".fv__fields-list")[0].removeEventListener("keydown")}})}))},function(e,t){var n=t.getAllComponentsByType("pause-resume-read-aloud");n&&1===n.length&&U(n[0].constructor,{switchToResumeButton:function(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.resumeTooltipTitle))},switchToPauseButton:function(e){e(),this.setAttribute("aria-label",this.localizer.translateSync(this.pauseTooltipTitle))}})},function(e,t){return gn.apply(this,arguments)},function(e,t){return xi.apply(this,arguments)},function(e,t){t.getAllComponentsByType("measurement-popup").forEach((function(e){U(e.constructor,{mounted:function(e){var t=this;e(),this.on(k.SHOWN,(function(){t.element.querySelectorAll("input")[0].focus()}));var n=function(e){e.stopPropagation(),t.hide(),document.removeEventListener("keyup",n)};document.addEventListener("keydown",(function(e){g(e).some((function(e){return e===t.element}))&&Ci(e).when(Di.Escape,(function(){e.stopPropagation(),document.addEventListener("keyup",n)}))}))}})}))},function(e,t){var n;e.addViewerEventListener(Li.openFileSuccess,(n=ce((function(e){var n;return se(this,(function(e){switch(e.label){case 0:return[4,t.getMountedComponentByName("redaction-page-popup")];case 1:return(n=e.sent())?(U(n.constructor,{rendered:function(e){e();var t=this.element.querySelector(".fv__redaction-range");t.firstElementChild.setAttribute("id","page_range"),t.lastElementChild.setAttribute("aria-labelledby","page_range")},showError:function(e){e();var t=this.element.querySelector(".fv__redaction-page-range");t.setAttribute("aria-invalid","true"),t.focus(),t.onblur=function(){t.removeAttribute("aria-invalid")}}}),[2]):[2]}}))})),function(e){return n.apply(this,arguments)}))},function(e,t){return Oi.apply(this,arguments)},function(e,t){var n={};e.getPDFViewer().then((function(i){t.addDestroyHook(e.addViewerEventListener(w.openFileSuccess,(function(e){i.getPDFDocRender().$container.attr({tabindex:"-1",role:"document","aria-roledescription":e.getFileName()})})),e.addViewerEventListener(w.renderFileSuccess,(function(){var e=i.getPDFDocRender();e&&e.$container.get(0).focus({preventScroll:!0})})),e.addViewerEventListener(w.renderPageSuccess,(function(e){(window.requestIdleCallback||window.setTimeout)((function(){if(!e.isDestroyed){var t=e.$element,i=e.getPDFDoc().getPageCount(),a=e.index,r=n[a];r&&r(),t.attr({role:"region","aria-busy":!1,"aria-posinset":a,"aria-setsize":i,"aria-live":"assertive","aria-relevant":"all"})}}))})),e.addViewerEventListener(w.willCloseDocument,(function(){for(var e in n){(0,n[e])()}n={}})))}))},function(e,t){return Or.apply(this,arguments)},function(e,t){U(UIExtension.modular.module("field").getControllerClass("field-load-all"),{mounted:function(e){var t=this;e(),this.$html.attr({tabindex:0,role:"button"}),this.element.onfocus=function(e){e.relatedTarget?t.resetFocusElement=e.relatedTarget:t.resetFocusElement=document.body}},loadAllPage:function(e){e();var t=this.$html.prev('[name="fv-field-sidebar-panel"][tabindex=0]');t.length>0?t.focus():this.resetFocusElement?this.resetFocusElement.focus():document.body.focus()}})},function(e,t){var n=d.internals.AnnotPropertiesDialog;U(n,{listenEvent:function(e){var t=this;e();var n=this.dialog.element;P(n.querySelector("[name=annot-property-close]"),{role:"button",tabindex:"0"}),M(n.querySelectorAll(".color-picker")).forEach((function(e){P(e,{role:"button","aria-labelledby":e.previousElementSibling.id,tabindex:"0"})}));var i,a,r,o,l=n.querySelector(".tabPanel");P(l,{"aria-label":n.querySelector(".fv__ui-layer-header-title").textContent}),M(l.children).forEach((function(e,t){P(e,{role:"tab",tabindex:"-1","aria-selected":!1,"aria-controls":n.querySelector(".annot-properties-dialog-body>div:nth-child(".concat(t+1,")")).id}),e.classList.contains("active")&&P(e,{"aria-selected":!0,tabindex:0})})),M(n.querySelector(".tabBody").children).forEach((function(e,n){P(e,{"aria-labelledby":t.dialog.element.querySelector(".tabPanel>div:nth-child(".concat(n+1,")")).id})})),i=this,r="keydown",o=function(e){Qi(e).when(Zi,(function(){ia(n,-1),e.preventDefault(),e.stopPropagation()})).when(ea,(function(){ia(n,1),e.preventDefault(),e.stopPropagation()})).when(ta,(function(){ia(n,0),e.preventDefault(),e.stopPropagation()})).when(na,(function(){ia(n),e.preventDefault(),e.stopPropagation()}))},(a=n).addEventListener(r,o),i.destroyHooks.push((function(e){return a.removeEventListener(r,o)})),function(e,t,n,i){t.on(n,i),e.destroyHooks.push((function(e){return t.off(n,i)}))}(this,this.dialog,k.SHOWN,(function(e){setTimeout((function(){M(t.dialog.element.querySelector(".tabPanel").children).forEach((function(e){var t=e.classList.contains("active");P(e,{tabindex:t?0:-1,"aria-selected":t})}))}))})),M(n.querySelectorAll("[role=button]")).forEach((function(e){e.addEventListener("keydown",(function(t){Qi(t).when(Ji,(function(){e.classList.contains("disabled")||e.addEventListener("keyup",aa)}))}))}))},toggle:function(e){var t=this;e();var n=this.annotProperties.disabled;if([".color-picker"].forEach((function(e){M(t.dialog.element.querySelectorAll(e)).forEach((function(e){P(e,{tabindex:n?-1:0}),n?P(e,{disabled:!0}):H(e,"disabled")}))})),!0===n){M(this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button")).forEach((function(e){P(e,{tabindex:"-1"})})),M(this.dialog.element.querySelectorAll('.fv__action_list > [tabindex="0"]')).forEach((function(e){P(e,{tabindex:"-1"})}))}else{M(this.dialog.element.querySelectorAll(".fv__ui-dialog-ok-button:not(.disabled)")).forEach((function(e){P(e,{tabindex:"0"})}));var i=this.dialog.element.querySelectorAll('[role="treeitem"]')[0];i&&P(i,{tabindex:"0"})}}})},function(e,t){return ha.apply(this,arguments)},function(){U(d.internals.AnnotCreateDialog,{_bindEvent:function(e){if(e(),this.$colorBtn){var t=this.$colorBtn,n=this.$colorPickerDialog;t.attr({tabindex:0,role:"button"}),t.on("keydown",(function(e){Aa(e.originalEvent).when(Sa,(function(){e.target.click(),e.stopPropagation()}))})),t.on("click",(function(){setTimeout((function(){n.find("li[aria-selected=true]").focus()}))})),n.attr("tabindex",-1)}}})},function(e,t){U(d.internals.AppearanceTab,{updateUI:function(e){e();var t=this.getElementByNames("codeSets,addSelectedEntry,codeEntries,editCodes,fillColor,fontColor");t.each((function(e){var n=t.eq(e);n.prop("tabindex",n.prop("disabled")||n.hasClass("disabled")?"-1":"0")}))},bindEvent:function(e){e(),this.$element.find("[role=button]:not([tabindex=-1])").on("keydown",(function(e){Ca(e.originalEvent).when(Pa,(function(){e.target.addEventListener("keyup",Ia)}))})),this.$element.find("[name=codeSets],[name=codeEntries]").on("keydown",(function(e){var t=this;Ca(e.originalEvent).when(La,(function(){var n=Na(e,-1);I(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when(qa,(function(){var n=Na(e,1);I(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when($a,(function(){var n=0;I(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()})).when(Ta,(function(){var n=Na(e);I(t,"aria-activedescendant",n.getAttribute("id")),n.click(),e.preventDefault(),e.stopPropagation()}))}))},init:function(e){e();var t=this.$element.find("[name=codeSets],[name=codeEntries]");t.find("li").attr("role","option").attr("id",(function(){return I(this,"id",G("fv__code"))})),t.attr("role","listbox").attr("aria-labelledby",(function(){return this.previousSibling.getAttribute("id")})).attr("aria-activedescendant",(function(){return this.children[0]&&this.children[0].getAttribute("id")}))}})},function(e,t){var n=d.internals.SignaturePropertiesDialog,i=d.internals.SignatureAPDialog,a=function(e){Ha(e).when(Fa,(function(){var t=g(e).filter((function(e){return e.getAttribute&&"button"===e.getAttribute("role")}));t.length>0&&t[0].addEventListener("keyup",r)}))},r=function(e){e.target.click(),e.target.removeEventListener("keyup",r)};U(n,{bindEvent:function(e){var t=this;e(),this.dialog.element.addEventListener("keydown",a),this.addDestroyHook((function(){t.dialog.element.removeEventListener("keydown",a)}))}}),U(i,{bindEvent:function(e){e(),this.dialog.element.addEventListener("keydown",a)}})},function(e,t){var n=d.modular.module("search").getComponentClass("search-input");n&&U(n,{mounted:function(e){e(),P(this.inputComponent.element,{"aria-label":this.localizer.translateSync("search:searchbar.input.placeholder")})}})},function(e,t){var n=d.modular.module("search").getComponentClass("search-option-panel"),i=d.modular.module("search").getComponentClass("search-result-panel"),a=d.modular.module("search").getComponentClass("checkbox");n&&U(n,{mounted:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-search-text"),i=n.getAttribute("placeholder");P(n,{"aria-label":i});var a=this.element.querySelector(".fv__ui-search-country-select");P(a,{"aria-labelledby":a.previousElementSibling.id});var r=this.element.querySelectorAll(".fv__ui-more-less");M(r).forEach((function(e){P(e,{role:"button",tabindex:"0"}),t.attachEventToElement(e,"click",(function(e){setTimeout((function(){M(r).filter((function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return n&&i}))[0].focus()}))})),t.attachEventToElement(e,"keydown",(function(e){Ra(e,Ba(Ua,za))&&e.target.click()}))}));if(window.MutationObserver){var o=new MutationObserver((function(e){if(!ge(e,1)[0].target.classList.contains("fv__ui-directive-show-hidden")){var n=t.element.querySelector(".fv__ui-search_button");n&&n.focus()}}));o.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((function(){o.disconnect()}))}}}),i&&(U(i,{mounted:function(e){var t=this;e();var n=function(e,n){var a=M(e.querySelectorAll(".fv__ui-search-result-title,.fv__ui-search-result-item")).filter((function(e){return"none"!==e.style.display})),r=e.getAttribute("aria-activedescendant"),o=e.querySelector("[id=".concat(r,"]")),l=a.indexOf(o),c=l,s=a[c="number"==typeof n?-1===n||1===n?(c+n+a.length)%a.length:(n+a.length)%a.length:a.length-1];P(e,{"aria-activedescendant":s.id}),t.updateActiveResult(c-1,l-1),i(e,s)},i=function(e,t){var n=e.scrollTop,i=t.getBoundingClientRect().bottom,a=e.getBoundingClientRect(),r=n+i+20-a.top-a.height;r<0&&(r=0),e.scrollTo(0,r)},a=this.element.querySelector(".fv__ui-search-results"),r=this.element.querySelector(".fv__ui-search-result-title"),o=this.element.querySelector(".fv__ui-search-result-panel-text");P(a,{role:"listbox",tabindex:"0","aria-activedescendant":r.id,"aria-labelledby":o.id}),P(r,{role:"option"}),this.attachEventToElement(this.element,"keyup",(function(e){e.target.classList.contains("fv__ui-search-results")&&Ra(e,Ba(Va,ja,Ga,Ka,za,Ua))&&(e.stopPropagation(),e.preventDefault())})),this.attachEventToElement(this.element,"keydown",(function(e){e.target.classList.contains("fv__ui-search-results")&&Oa(e).when(ja,(function(){n(e.target,-1),e.stopPropagation(),e.preventDefault()})).when(Va,(function(){n(e.target,1),e.stopPropagation(),e.preventDefault()})).when(Ga,(function(){n(e.target,0),e.stopPropagation(),e.preventDefault()})).when(Ka,(function(){n(e.target),e.stopPropagation(),e.preventDefault()})).when(Ua,(function(){var t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector("[id=".concat(t,"]"));if(n){var i=n.querySelector(".fv__ui-checkbox-hide-text,.fv__ui-search-result-item-check");if(i){if(i.classList.contains("fv__icon-search-checked"))P(n,{"aria-checked":!1});else if(i.classList.contains("fv__ui-search-result-item-check")&&!i.classList.contains("fv__icon-search-checked"))P(n,{"aria-checked":!0});else{var a=i.querySelector("input[type=checkbox]");a&&a.checked?P(n,{"aria-checked":!1}):a&&!a.checked&&P(n,{"aria-checked":!0})}i.click(),e.target.focus()}}e.stopPropagation(),e.preventDefault()})).when(za,(function(){var t=e.target.getAttribute("aria-activedescendant"),n=e.target.querySelector("[id=".concat(t,"]"));if(n){var i=n.querySelector(".fv__ui-search-result-item-content");i?i.click():n.click()}e.stopPropagation(),e.preventDefault()}))}));if(window.MutationObserver){var l=new MutationObserver((function(e){if(!ge(e,1)[0].target.classList.contains("fv__ui-directive-show-hidden")){var n=t.element.querySelector(".fv__ui-search-results");n&&n.focus()}}));l.observe(this.element,{attributeFilter:["class"],attributes:!0}),this.addDestroyHook((function(){l.disconnect()}))}},setSelectedResult:function(e){var t=this;e();var n=this.element.querySelector(".fv__ui-search-results"),i=this.element.querySelector(".fv__ui-search-result-title"),a=this.element.querySelector(".fv__ui-search-result-panel-text"),r=this.element.querySelectorAll(".fv__search-more");if(n&&i&&a){n.getAttribute("aria-activedescendant")||P(n,{"aria-activedescendant":i.id}),P(n,{role:"listbox",tabindex:"0","aria-labelledby":a.id}),P(i,{role:"option"});var o=i.querySelector("input[type=checkbox]");i.getAttribute("aria-checked")||(o&&!o.checked?P(i,{"aria-checked":!1}):o&&o.checked&&P(i,{"aria-checked":!0})),M(n.querySelectorAll(".fv__ui-search-result-item")).forEach((function(e){P(e,{"aria-checked":!!e.querySelector(".fv__icon-search-checked")})}))}M(r).forEach((function(e){P(e,{tabindex:"0",role:"button"}),t.attachEventToElement(e,"keydown",(function(n){Ra(n,Ba(Ua,za))&&(e.click(),t.element.querySelector(".fv__ui-search-results").focus())}))}))},handleClickResult:function(e){var t=this;e(),this.pdfUI.eventEmitter.once("completed-render-visible-pages",(function(){var e=document.querySelector(".fv__ui-ask-dialog");if(e)e.focus();else{var n=t.element.querySelector("#search-result-panel-box");n&&n.focus()}}))},getLookingForText:function(e){e(),P(this.element.querySelector(".fv__ui-checkbox-hide-text .fv__ui-checkbox-input"),{tabindex:"-1"});var t=this.element.querySelectorAll(".fv__ui-search-result-item");0!==t.length&&M(t).forEach((function(e){P(e,{role:"option"})}))}}),a&&U(a,{updateUI:function(e){if(e(),this.element){this.invalid?P(this.element,{"aria-disabled":!0}):H(this.element,"aria-disabled"),P(this.element,{"aria-checked":this.checked});var t=this.element.closest(".fv__ui-search-result-item");t||P(t,{"aria-checked":this.checked})}}}))},function(e,t){var n=d.modular.module("thumbnail").getComponentClass("thumbnail-panel");n&&U(n,{initThumbnailRect:function(e){e();var t=this.$thumbImageContainerBox.find(".fv__thumb-page");t.attr({role:"option"}).attr("aria-labelledby",(function(e){var n=G("fv__thumbnail_page_index"),i=t[e].querySelector(".fv__thumb-page-index");return P(i,{id:n,"aria-hidden":!0,"aria-label":i.textContent}),n})).attr("id",(function(e){return G("fv__thumbnail_page")})),this.$thumbImageContainer.attr({tabindex:"0",role:"listbox","aria-labelledby":this.$thumbImageContainer.closest(".fv__ui-sidebar-panel-body").attr("aria-labelledby"),"aria-activedescendant":this.$thumbImageContainer.find(".fv__thumb-page").eq(0).attr("id")})},updatePageLabel:function(e,t){var n=ge(t,1)[0];e();var i=this.$thumbImageContainerBox.find(".fv__thumb-page").eq(n);i.attr("aria-labelledby")||i.attr({role:"option"}).attr("aria-labelledby",(function(e){var t=G("fv__thumbnail_page"),n=i.find(".fv__thumb-page-index");return P(n[0],{id:t,"aria-hidden":!0,"aria-label":n[0].textContent}),t}))},mounted:function(e){var t=this;e(),this.attachEventToElement(this.$thumbImageContainerBox[0],"click",(function(e){var n=t.$thumbImageContainer.find(".fv__active");t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id"))}));var n=function(e){var n=+e.target.querySelector(".fv__active").getAttribute("data-page-index"),i=t.previePageIndex;t.doPageAction(i,n),t.previePageIndex=n,t.getPDFUI().goToPage(n,0,0,!1),!t.resizing&&!t.moving&&t.calcThumbnailRect(!0,n)};this.attachEventToElement(this.$thumbImageContainerBox[0],"keyup",(function(e){Wa(e).when(Qa,(function(){var n=nr(t,0);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(Ya,(function(){var n=nr(t);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(Ja,(function(){var n=nr(t,-1);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(Za,(function(){var n=nr(t,1);t.$thumbImageContainer.attr("aria-activedescendant",n.attr("id")),e.preventDefault(),e.stopPropagation()})).when(tr,(function(){n(e)})).when(er,(function(){n(e)}))}))}})},function(e,t){var n=d.internals.NoteTypeTab;n&&U(n,{bindEvent:function(e){e();var t=this.$dom.find(".fv__noteType-body");t.attr({role:"listbox","aria-labelle":"Note Type Icon",tabindex:"0"});var n=t.find(".icon-btn");n.attr({role:"option"});var i=function(e){var i=n.index(n.filter(".active")[0]);i="number"==typeof e?1===e||-1===e?(i+e+n.length)%n.length:e:n.length-1,n.eq(i).click(),n.removeAttr("aria-selected");var a=t.scrollTop(),r=t.offset().top,o=n.eq(i).offset().top;t.scrollTop(o-r+a)};t.on("keydown",(function(e){$r(e.originalEvent,Rr(Ir,Nr,Hr,Fr))&&(e.preventDefault(),e.stopPropagation())})),t.on("keyup",(function(e){Tr(e.originalEvent).when(Fr,(function(){i(1),e.preventDefault(),e.stopPropagation()})).when(Hr,(function(){i(-1),e.preventDefault(),e.stopPropagation()})).when(Ir,(function(){i(0),e.preventDefault(),e.stopPropagation()})).when(Nr,(function(){i(),e.preventDefault(),e.stopPropagation()}))}))},toggle:function(e,t){var n=ge(t,1)[0];e(),this.$dom.find(".fv__noteType-body").attr({"aria-disabled":n,tabindex:n?"0":"-1"})},combine:function(e){e();var t=this.$dom.find(".fv__noteType-body");t.attr("aria-activedescendant",(function(){return t.find(".icon-btn.active").attr("id")}));var n=t.find(".icon-btn");n.attr("aria-selected",(function(e){if(n.eq(e).hasClass("active"))return!0}))}})}],eo=function(e){l(i,e);var n=u(i);function i(){return t(this,i),n.apply(this,arguments)}return r(i,[{key:"init",value:function(e){var t=this,n=e.renderTo;e.waitForInitialization().then((function(){n.setAttribute("role","main")})),e.getRootComponent().then((function(n){Zr.forEach((function(i){i.call(t,e,n)}))}))}}],[{key:"getName",value:function(){return"aria"}},{key:"getLoader",value:function(){return h()}},{key:"initOnLoad",value:function(){var e=d.modular.module("aria",[]).getRegistry();e.registerDirective(Nt),e.registerDirective(Rt),e.registerDirective(Ft),e.registerDirective(Ht),e.registerDirective(It),e.registerDirective(F),e.registerDirective(m),e.registerDirective(Ot),e.registerDirective(Ut),e.registerDirective(ci),e.registerDirective(zi),Jr.forEach((function(e){e.call()}))}}]),i}(d.UIXAddon)})(),a=a.default})()));