!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],o):"object"==typeof exports?exports.ExportFormUIXAddon=o(require("UIExtension")):t.ExportFormUIXAddon=o(t.UIExtension)}(self,(t=>(()=>{var o={922:t=>{t.exports=null},616:o=>{"use strict";o.exports=t}},e={};function n(t){var r=e[t];if(void 0!==r)return r.exports;var l=e[t]={exports:{}};return o[t](l,l.exports,n),l.exports}n.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return n.d(o,{a:o}),o},n.d=(t,o)=>{for(var e in o)n.o(o,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},n.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o);var r={};return(()=>{"use strict";function t(o,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](o):t(o,e)}function o(o,e){if(!t(o,e))throw new TypeError("Cannot call a class as a function")}function e(t,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}function i(t,o){return i=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t},i(t,o)}function a(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&i(t,o)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,o){return!o||"object"!=((e=o)&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):o;var e}function f(t){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=u(t);if(o){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)}}n.d(r,{default:()=>U});var p=n(616),d=n(922),s=n.n(d),x=p.PDFViewCtrl.shared.download,m=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"handle",value:function(){this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var o=t.currentPDFDoc,e=o.getFileName();e=e?e.toLowerCase():"download.pdf",o.exportFormToFile(2).then((function(t){x(t,e.replace(/(.*)\.pdf/,"$1.xml"),"application/xml")}))}))}}],[{key:"getName",value:function(){return"ExportToXMLController"}}]),n}(p.Controller),b=p.PDFViewCtrl.shared.download,v=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"handle",value:function(){this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var o=t.currentPDFDoc,e=o.getFileName();e=e?e.toLowerCase():"download.pdf",o.exportFormToFile(0).then((function(t){b(t,e.replace(/(.*)\.pdf/,"$1.fdf"),"application/vnd.fdf")}))}))}}],[{key:"getName",value:function(){return"ExportToFDFController"}}]),n}(p.Controller),y=p.PDFViewCtrl.shared.download,h=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"handle",value:function(){this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var o=t.currentPDFDoc,e=o.getFileName();e=e?e.toLowerCase():"download.pdf",o.exportFormToFile(1).then((function(t){y(t,e.replace(/(.*)\.pdf/,"$1.xfdf"),"application/vnd.adobe.xfdf")}))}))}}],[{key:"getName",value:function(){return"ExportToXFDFController"}}]),n}(p.Controller),F=p.PDFViewCtrl.shared.download,w=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"handle",value:function(){this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var o=t.currentPDFDoc,e=o.getFileName();e=e?e.toLowerCase():"download.pdf",o.exportFormToFile(3).then((function(t){F(t,e.replace(/(.*)\.pdf/,"$1.csv"),"application/csv")}))}))}}],[{key:"getName",value:function(){return"ExportToCSVController"}}]),n}(p.Controller),g=p.PDFViewCtrl.shared.download,D=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"handle",value:function(){this.getPDFUI().getPDFViewer().then((function(t){t.activeElement(null);var o=t.currentPDFDoc,e=o.getFileName();e=e?e.toLowerCase():"download.pdf",o.exportFormToFile(4).then((function(t){g(t,e.replace(/(.*)\.pdf/,"$1.txt"),"application/txt")}))}))}}],[{key:"getName",value:function(){return"ExportToTXTController"}}]),n}(p.Controller);function C(t,o,e){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,o,e){var n=function(t,o){for(;!Object.prototype.hasOwnProperty.call(t,o)&&null!==(t=u(t)););return t}(t,o);if(n){var r=Object.getOwnPropertyDescriptor(n,o);return r.get?r.get.call(e||t):r.value}},C(t,o,e||t)}function P(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}function E(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,r,l=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(n=e.next()).done)&&(l.push(n.value),!o||l.length!==o);i=!0);}catch(t){a=!0,r=t}finally{try{i||null==e.return||e.return()}finally{if(a)throw r}}return l}}(t,o)||function(t,o){if(t){if("string"==typeof t)return P(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(t,o):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=p.PDFViewCtrl.Events,T=p.PDFViewCtrl.Consts.PDFDocPermission,k=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"changePermission",value:function(t){var o=this,e=this.getPDFUI().getPDFDocRender().then((function(t){return t&&t.getUserPermission().getValue()}));Promise.all([t&&!t.isDestroyed&&t.hasForm(),e]).then((function(e){var n=E(e,2),r=n[0];n[1]&T.Extract&&r&&!t.isStaticXFA()&&!t.isDynamicXFA()?o.component.unlock&&o.component.unlock():o.component.lock&&o.component.lock()}))}},{key:"mounted",value:function(){var t=this;C(u(n.prototype),"mounted",this).call(this),this.addDestroyHook(this.getPDFUI().addViewerEventListener(_.recognitionForm,(function(o){t.changePermission(o)})),this.getPDFUI().addViewerEventListener(_.annotationAdd,(function(o){t.getPDFUI().getPDFDocRender().then((function(o){t.changePermission(o.getPDFDoc())}))}))),this.addDestroyHook(this.getPDFUI().addViewerEventListener(_.annotationRemoved,(function(o){t.getPDFUI().getPDFDocRender().then((function(o){t.changePermission(o.getPDFDoc())}))})))}}],[{key:"getName",value:function(){return"ExportFormController"}}]),n}(p.Controller),I=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,null,[{key:"getName",value:function(){return"export-form-ribbon-dropdown"}}]),n}(p.SeniorComponentFactory.createSuperClass({template:'\n    <ribbon-button icon-class="fx-icon-ribbon_form_export-32" @tooltip tooltip-title="export:button-tooltip.title" text="export:ribbon.text" name="export-form" @controller="export-form-module:ExportFormController">\n        <dropdown separate="false">\n            <dropdown-button ribbon-icon="" text="export:export.xml" name="export-to-xml"  @controller="export-form-module:ExportToXMLController" icon-class="fv__icon-toolbar-to-xml-file">\n                export:export.xml\n            </dropdown-button>\n            <dropdown-button ribbon-icon="" text="export:export.fdf" name="export-to-fdf"  @controller="export-form-module:ExportToFDFController" icon-class="fv__icon-toolbar-to-fdf-file">\n                export:export.fdf\n            </dropdown-button>\n            <dropdown-button ribbon-icon="" text="export:export.xfdf" name="export-to-xfdf" @controller="export-form-module:ExportToXFDFController"  icon-class="fv__icon-toolbar-to-xfdf-file">\n                export:export.xfdf\n            </dropdown-button>\n            <dropdown-button ribbon-icon="" text="export:export.csv" name="export-to-csv" @controller="export-form-module:ExportToCSVController"  icon-class="fv__icon-toolbar-to-csv-file">\n                export:export.csv\n            </dropdown-button>\n            <dropdown-button ribbon-icon="" text="export:export.txt" name="export-to-txt" @controller="export-form-module:ExportToTXTController"  icon-class="fv__icon-toolbar-to-txt-file">\n                export:export.txt\n            </dropdown-button>\n        </dropdown>\n    </ribbon-button>\n    '})),O=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,null,[{key:"getName",value:function(){return"export-form-dropdown"}}]),n}(p.SeniorComponentFactory.createSuperClass({template:'\n        <dropdown @tooltip @controller="export-form-module:ExportFormController"  icon-class="fv__icon-toolbar-export-form" tooltip-title="export:button-tooltip.title" name="export-form" separate="false" selectable="false">\n            <dropdown-button name="export-to-xml"  @controller="export-form-module:ExportToXMLController" icon-class="fv__icon-toolbar-to-xml-file" tabindex="0">\n                export:export.xml\n            </dropdown-button>\n            <dropdown-button name="export-to-fdf"  @controller="export-form-module:ExportToFDFController" icon-class="fv__icon-toolbar-to-fdf-file" tabindex="0">\n                export:export.fdf\n            </dropdown-button>\n            <dropdown-button name="export-to-xfdf" @controller="export-form-module:ExportToXFDFController"  icon-class="fv__icon-toolbar-to-xfdf-file" tabindex="0">\n                export:export.xfdf\n            </dropdown-button>\n            <dropdown-button name="export-to-csv" @controller="export-form-module:ExportToCSVController"  icon-class="fv__icon-toolbar-to-csv-file" tabindex="0">\n                export:export.csv\n            </dropdown-button>\n            <dropdown-button name="export-to-txt" @controller="export-form-module:ExportToTXTController"  icon-class="fv__icon-toolbar-to-txt-file" tabindex="0">\n                export:export.txt\n            </dropdown-button>\n        </dropdown>\n    '})),U=function(t){a(n,t);var e=f(n);function n(){return o(this,n),e.apply(this,arguments)}return l(n,[{key:"fragments",value:function(){return[]}}],[{key:"getName",value:function(){return"exportForm"}},{key:"getLoader",value:function(){return s()}},{key:"initOnLoad",value:function(){var t=p.modular.module("export-form-module",[]);t.registerComponent(O),t.registerComponent(I),t.registerController(k),t.registerController(m),t.registerController(v),t.registerController(h),t.registerController(w),t.registerController(D)}}]),n}(p.UIXAddon)})(),r=r.default})()));