!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.FormDesignerUIXAddon=t(require("UIExtension")):e.FormDesignerUIXAddon=t(e.UIExtension)}(self,(__WEBPACK_EXTERNAL_MODULE__616__=>(()=>{var __webpack_modules__={738:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div name="annot-properties-tab-actions">\n<div class="fv__action_tab">\n<div class="fv__action_title" data-i18n="editActions.add"></div>\n<div class="fv__action_upper tabActionBox">\n<div class="d_f ai_c fv__action_line">\n<div class="fv__action_label"  data-i18n="editActions.trigger"></div>\n<select class="w_180 h_24 ml_10" name="actionTrigger" @aria:labelledby="::previousSiblings()">\n<option data-i18n="editActions.mouseUp" show-in-host-types="link" value="14" ></option>\n<option data-i18n="editActions.mouseUp" show-in-host-types="bookmark" value="14" ></option>\n <option data-i18n="editActions.mouseUp" show-in-host-types="widget" value="14" ></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseDown" value="13"></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseEnter" value="11"></option>\n<option show-in-host-types="widget" data-i18n="editActions.mouseExit" value="12"></option>\n<option show-in-host-types="widget" data-i18n="editActions.focus" value="15"></option>\n<option show-in-host-types="widget" data-i18n="editActions.blur" value="16"></option>\n<option show-in-host-types="page" data-i18n="editActions.pageOpen" value="17"></option>\n<option show-in-host-types="page" data-i18n="editActions.pageClose" value="18"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageOpen" value="17"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageClose" value="18"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageVisible" value="19"></option>\n<option show-in-host-types="screen" data-i18n="editActions.pageInvisible" value="20"></option>\n</select>\n</div>\n<div class="d_f ai_c fv__action_line">\n<div class="fv__action_label"  data-i18n="editActions.action"></div>\n<select class="w_180 h_24 ml_10" name="actionType" @aria:labelledby="::previousSiblings()">\n<option data-i18n="ui_:dialog.actionDialog.selectAction.webLink" value="TypeURI"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.field" value="TypeHide"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.goto" value="TypeGoto"></option>\n',t+='\n<option data-i18n="ui_:dialog.actionDialog.selectAction.file" value="TypeLaunch"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.submit" value="TypeSubmitForm"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.run" value="TypeJavaScript"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.reset" value="TypeResetForm"></option>\n<option data-i18n="ui_:dialog.actionDialog.selectAction.import" value="TypeImportData"></option>\n</select>\n\n<div id="actionAddButton" class="fv__ui-dialog-ok-button fv__action_add ml-20" data-i18n="ui_:stamp.dialog.add" tabindex="0" @aria:role="button"></div>\n</div>\n</div>\n<div class="fv__action_lower">\n<div class="fv__action_title" data-i18n="ui_:contextmenu.annot.actions"></div>\n<div class="fv__action_list">\n\n</div>\n<div class="d_f fv__action_buttons">\n<div class="fv__ui-dialog-ok-button fv__action-up disabled" data-i18n="editActions.buttonUP" id="upAction" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-down disabled" data-i18n="editActions.buttonDown" id="downAction" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-edit disabled" id="editAction" data-i18n="ui_:toolbar.tabs.edit.title" @aria:role="button"></div>\n<div class="fv__ui-dialog-ok-button fv__action-delete disabled" id="deleteAction" data-i18n="ui_:stamp.dialog.delete" @aria:role="button"></div>\n</div>\n</div>\n</div>\n</div>'}},35:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\n<layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\n@draggable="{type: \'parent\'}"></layer-header>\n<div class="fv__CO-main">\n<div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\n<div class="fv__CO-body">\n<div class="fv__fields-list" @stop-drag @aria:role="listbox" tabindex="0" @aria:labelledby="::parent()::previousSiblings()">\n\n</div>\n<div class="fv__CO-buttons">\n<div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.up</div>\n<div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n</div>\n<div class="fv__CO-footer d_f footer">\n\n<div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled" @aria:role="button">dialog.ok</div>\n<div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" @aria:role="button">dialog.cancel</div>\n</div>\n</layer>','<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\n<layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\n@draggable="{type: \'parent\'}"></layer-header>\n<div class="fv__CO-main">\n<div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\n<div class="fv__CO-body">\n<div class="fv__fields-list" @stop-drag @aria:role="listbox" tabindex="0" @aria:labelledby="::parent()::previousSiblings()">\n\n</div>\n<div class="fv__CO-buttons">\n<div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.up</div>\n<div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled" @aria:role="button">form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n</div>\n<div class="fv__CO-footer d_f footer">\n\n<div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled" @aria:role="button">dialog.ok</div>\n<div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button" @aria:role="button">dialog.cancel</div>\n</div>\n</layer>'}},45:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-duplicate-body" @aria:role="radiogroup" @aria:labelledby="::childAt(0)">\n<div>form-designer:dialog.duplicate.question</div>\n<div class="fv__ui-duplicate-options">\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.all"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.odd"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.even"></div>\n</div>\n</div>\n<div class="d_f ai_c">\n<div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n\n<span data-i18n="dialog.printDialog.from"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-start"></input>\n<span data-i18n="dialog.printDialog.to"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-end"></input>\n<span>/</span>\n<span class="fv_range-page-count"></span>\n</div>\n</div>\n<div class="fv_duplicate-msg"></div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv__ui-duplicate-footer footer">\n\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</layer>','<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-duplicate-body" @aria:role="radiogroup" @aria:labelledby="::childAt(0)">\n<div>form-designer:dialog.duplicate.question</div>\n<div class="fv__ui-duplicate-options">\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.all"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.odd"></div>\n</div>\n</div>\n<div class="d_f ai_c"><div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.duplicate.even"></div>\n</div>\n</div>\n<div class="d_f ai_c">\n<div class="fv__ui-duplicate-options-label">\n<input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" @aria:labelledby="::nextSiblings()"/>\n\n<span data-i18n="dialog.printDialog.from"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-start"></input>\n<span data-i18n="dialog.printDialog.to"></span>\n<input type=\'number\' min="1" disabled class="fv_range fv_range-end"></input>\n<span>/</span>\n<span class="fv_range-page-count"></span>\n</div>\n</div>\n<div class="fv_duplicate-msg"></div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv__ui-duplicate-footer footer">\n\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</layer>'}},737:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-multiple-copy-body">\n<div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.column</span>\n<input min="1" type="number" id="columnSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.row</span>\n<input min="1" type="number" id="rowSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.width</span>\n<input min="0" type="number" id="marginHorizon" value="10" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.height</span>\n<input min="0" type="number" id="marginVertical" value="5" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n<div class="fv__multiple-copy-position">\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\n<div class="bg-wrap" @aria:role="application" @aria:labelledby="::previousSiblings()">\n<div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.left</div>\n<div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.up</div>\n<div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.right</div>\n<div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.down</div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c">\n<input type="checkbox" name="preview" id="preview" checked @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.preview"></div>\n</label>\n<label class="d_f ai_c fv__hidden">\n<input type="checkbox" name="sameName" checked="checked" id="sameName" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.sameName"></div>\n</label>\n</div>\n<div class="d_f footer">\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</div>\n</layer>','<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\n<layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\n@draggable="{type: \'parent\'}"></layer-header>\n\n<div class="fv__ui-multiple-copy-body">\n<div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.column</span>\n<input min="1" type="number" id="columnSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.row</span>\n<input min="1" type="number" id="rowSize" value="2" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\n<div class="bg-wrap p22">\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.width</span>\n<input min="0" type="number" id="marginHorizon" value="10" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="fv__multiple-copy-widget">\n<span>form-designer:dialog.multipleCopy.height</span>\n<input min="0" type="number" id="marginVertical" value="5" @aria:role="textbox" @aria:labelledby="::previousSiblings()">\n</div>\n</div>\n<div class="fv__multiple-copy-position">\n<div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\n<div class="bg-wrap" @aria:role="application" @aria:labelledby="::previousSiblings()">\n<div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.left</div>\n<div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.up</div>\n<div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.right</div>\n<div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown" tabindex="0" @aria:button>\nform-designer:dialog.multipleCopy.down</div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c">\n<input type="checkbox" name="preview" id="preview" checked @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.preview"></div>\n</label>\n<label class="d_f ai_c fv__hidden">\n<input type="checkbox" name="sameName" checked="checked" id="sameName" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.footer.sameName"></div>\n</label>\n</div>\n<div class="d_f footer">\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm" @aria:button>dialog.ok</div>\n<div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog" @aria:button>dialog.cancel</div>\n</div>\n</div>\n</layer>'}},797:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div name="calculateTab">\n<div show-in-types="combobox,text" class="fv__calculate-tab" @aria:role="radio">\n<div class="d_f ai_c h_24 mb_10">\n<input id="noCalc" type="radio" value="0" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="simpleCalc" value="1" name="calculateRadio" @aria:labelledby="::parent()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\n<select id="simpleOp" name="calculate-type" class="w_100 mlmr_5 h_24" @aria:labelledby="::parent()>*">\n<option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\n<option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\n<option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\n<option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\n<option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\n</select>\n<div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\n<textarea id="simpleFields" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="pickFields" @aria:button>form-designer:dialog.calculate.pick</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="notationInput" value="2" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\n<textarea id="notations" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="editNotations" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="customInput" value="3" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="calculate-child-4">\n<textarea id="COCustomScript" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled"  id="editCustomScript" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n</div>\n</div>','<div name="calculateTab">\n<div show-in-types="combobox,text" class="fv__calculate-tab" @aria:role="radio">\n<div class="d_f ai_c h_24 mb_10">\n<input id="noCalc" type="radio" value="0" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="simpleCalc" value="1" name="calculateRadio" @aria:labelledby="::parent()"/>\n<div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\n<select id="simpleOp" name="calculate-type" class="w_100 mlmr_5 h_24" @aria:labelledby="::parent()>*">\n<option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\n<option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\n<option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\n<option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\n<option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\n</select>\n<div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\n<textarea id="simpleFields" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="pickFields" @aria:button>form-designer:dialog.calculate.pick</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="notationInput" value="2" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\n<textarea id="notations" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled" id="editNotations" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" id="customInput" value="3" name="calculateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="calculate-child-4">\n<textarea id="COCustomScript" class="f_1 mr_20 h_70" readonly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_100 plpr_0 disabled"  id="editCustomScript" @aria:button>form-designer:dialog.calculate.edit</div>\n</div>\n</div>\n</div>'}},41:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};var t="",n=function(e){return t+=e};return t+='<layer name="form-properties-dialog" class="fv__ui-form-properties-dialog websdk-modal" @draggable>\n<div class="fv_ui_dialog_title" name="form-properties-dialog-header">\n<div show-in-types="pushbutton" data-i18n="form-designer:dialog.pushButtonTitle"></div>\n<div show-in-types="checkbox" data-i18n="form-designer:dialog.checkBoxTitle"></div>\n<div show-in-types="radiobutton" data-i18n="form-designer:dialog.radioButtonTitle"></div>\n<div show-in-types="combobox" data-i18n="form-designer:dialog.comboBoxTitle"></div>\n<div show-in-types="listbox" data-i18n="form-designer:dialog.listBoxTitle"></div>\n<div show-in-types="text" data-i18n="form-designer:dialog.textFieldTitle"></div>\n<div show-in-types="sign" data-i18n="form-designer:dialog.signatureTitle"></div>\n<div class="fv__ui-form-multiple-selected-title" data-i18n="form-designer:dialog.multipleSelectedTitle"></div>\n<button href="javascript:;" class="fv__ui-layer-header-button" name="closeDialog" type="button">\n<i class="fv__icon-layer-close"></i>\n</button>\n</div>\n<div class="fv__ui-form-tab-nav" name="form-properties-dialog-nav">\n<div data-i18n="form-designer:dialog.tabNav.general"></div>\n<div data-i18n="form-designer:dialog.tabNav.appearance"></div>\n<div data-i18n="form-designer:dialog.tabNav.position"></div>\n<div class="fv__ui-form-multiple-hide" hide-in-types="sign" data-i18n="form-designer:dialog.tabNav.options"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.format"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.validate"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.calculate"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="listbox" data-i18n="form-designer:dialog.tabNav.selectionChange"></div>\n<div class="fv__ui-form-multiple-hide" data-i18n="form-designer:dialog.tabNav.action"></div>\n<div class="fv__ui-form-multiple-hide" show-in-types="sign" data-i18n="form-designer:dialog.tabNav.signed"></div>\n</div>\n<div class="fv__ui-form-tab-body" name="form-properties-dialog-body">\n',n(i(186)(e)),t+="\n",n(i(285)(e)),t+="\n",n(i(796)(e)),t+="\n",n(i(124)(e)),t+="\n",n(i(871)(e)),t+="\n",n(i(0)(e)),t+="\n",n(i(797)(e)),t+="\n",n(i(837)(e)),t+="\n",n(i(738)(e)),t+="\n",n(i(122)(e)),t+='\n<div class="lock-mask"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<label class="d_f ai_c">\n<input type="checkbox" name="locked"/>\n<div data-i18n="form-designer:dialog.footer.locked"></div>\n</label>\n<div class="fv__ui-dialog-button fv__ui-dialog-ok-button" @stop-drag name="closeDialog" tabindex="0" @aria:role="button">dialog.close</div>\n</div>\n</layer>'}},871:(e,t,i)=>{var n=i(779);e.exports=function(e){"use strict";var t="",i=(e=e||{}).i,a=n.$escape,o=n.$each,r=e.dateOptions,l=(e.item,e.index,e.timeOptions);t+='<div class="fv__ui-form-properties-dialog-format" name="formatTab">\n<div show-in-types="combobox,text">\n<label class="d_f ai_c">\n<div data-i18n="form-designer:dialog.format.selectFormatCategory"></div>\n<select class="w_180 h_24 ml_10" name="category">\n<option data-i18n="form-designer:dialog.format.none" value="none"></option>\n<option data-i18n="form-designer:dialog.format.number" value="number"></option>\n<option data-i18n="form-designer:dialog.format.percentage" value="percentage"></option>\n<option data-i18n="form-designer:dialog.format.date" value="date"></option>\n<option data-i18n="form-designer:dialog.format.time" value="time"></option>\n<option data-i18n="form-designer:dialog.format.special" value="special"></option>\n<option data-i18n="form-designer:dialog.format.custom" value="custom"></option>\n</select>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="number" style="margin-top:20px">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.optionTitle.number"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\n<select class="f_1 h_24" name="decimalPlaces">\n';for(i=0;i<=10;i++)t+='\n<option value="',t+=a(i),t+='">',t+=a(i),t+="</option>\n";t+='\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\n<select class="f_1 h_24" name="separatorStyle">\n<option value="0">1,234.56</option>\n<option value="1">1234.56</option>\n<option value="2">1.234,56</option>\n<option value="3">1234,56</option>\n<option value="4">1 234,56</option>\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.currencySymbol"></div>\n<select class="f_1 h_24" name="currencySymbol">\n<option value="0" data-i18n="form-designer:dialog.format.none"></option>\n<option value="1" data-i18n="form-designer:dialog.format.currencySymbolList.USDollar"></option>\n<option value="2" data-i18n="form-designer:dialog.format.currencySymbolList.DeutschMark"></option>\n<option value="3" data-i18n="form-designer:dialog.format.currencySymbolList.Euro"></option>\n<option value="4" data-i18n="form-designer:dialog.format.currencySymbolList.DutchGuilder"></option>\n<option value="5" data-i18n="form-designer:dialog.format.currencySymbolList.Franc"></option>\n<option value="6" data-i18n="form-designer:dialog.format.currencySymbolList.DanishKrone"></option>\n<option value="7" data-i18n="form-designer:dialog.format.currencySymbolList.ItalianLira"></option>\n<option value="8" data-i18n="form-designer:dialog.format.currencySymbolList.SpanishPeseta"></option>\n<option value="9" data-i18n="form-designer:dialog.format.currencySymbolList.Pound"></option>\n<option value="10" data-i18n="form-designer:dialog.format.currencySymbolList.AustralianDollar"></option>\n<option value="11" data-i18n="form-designer:dialog.format.currencySymbolList.NewZealandDollar"></option>\n<option value="12" data-i18n="form-designer:dialog.format.currencySymbolList.RussianRuble"></option>\n<option value="13" data-i18n="form-designer:dialog.format.currencySymbolList.PortugueseEscudo"></option>\n<option value="14" data-i18n="form-designer:dialog.format.currencySymbolList.HongKongDollar"></option>\n<option value="15" data-i18n="form-designer:dialog.format.currencySymbolList.MacaoPataca"></option>\n<option value="16" data-i18n="form-designer:dialog.format.currencySymbolList.RenminbiYuan"></option>\n<option value="17" data-i18n="form-designer:dialog.format.currencySymbolList.NewTaiwanDollar"></option>\n<option value="18" data-i18n="form-designer:dialog.format.currencySymbolList.SingaporeDollar"></option>\n<option value="19" data-i18n="form-designer:dialog.format.currencySymbolList.KoreanWon"></option>\n<option value="20" data-i18n="form-designer:dialog.format.currencySymbolList.JapaneseYen"></option>\n<option value="21" data-i18n="form-designer:dialog.format.currencySymbolList.PolishZloty"></option>\n<option value="22" data-i18n="form-designer:dialog.format.currencySymbolList.Krona"></option>\n<option value="23" data-i18n="form-designer:dialog.format.currencySymbolList.NorwegianKrone"></option>\n<option value="24" data-i18n="form-designer:dialog.format.currencySymbolList.CanadianDollar"></option>\n</select>\n<div class="w_120"></div>\n</label>\n<div class="d_f">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.negativeNumberStyle"></div>\n<div>\n<label class="lh_24 d_f ai_c">\n<input type="checkbox" name="showParentheses"/>\n<div data-i18n="form-designer:dialog.format.showParentheses"></div>\n</label>\n<label class="lh_24 d_f ai_c">\n<input type="checkbox" name="useRedText"/>\n<div data-i18n="form-designer:dialog.format.useRedText"></div>\n</label>\n</div>\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="percentage">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.percentage"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\n<select class="f_1 h_24" name="percentDecimalPlaces">\n';for(i=0;i<=10;i++)t+='\n<option value="',t+=a(i),t+='">',t+=a(i),t+="</option>\n";return t+='\n</select>\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\n<select class="f_1 h_24" name="percentSeparatorStyle">\n<option value="0">1,234.56</option>\n<option value="1">1234.56</option>\n<option value="2">1.234,56</option>\n<option value="3">1234,56</option>\n<option value="4">1 234,56</option>\n</select>\n<div class="w_120"></div>\n</label>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="date">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.date"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="dateFormatOptions">\n',o(r,(function(e,i){t+='\n<option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\n"})),t+='\n<option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="dateCustomFormat">\n<input type="text" class="w_300 h_24" name="dateCustomFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="time">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.time"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="timeFormatOptions">\n',o(l,(function(e,i){t+='\n<option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\n"})),t+='\n<option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="timeCustomFormat">\n<input type="text" class="w_300 h_24" name="timeCustomFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n </div>\n </div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n </fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="special">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.special"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div>\n<div class="d_f jc_c ai_c mb_10">\n<select class="w_300 h_150" multiple name="specialFormatOptions">\n<option value="zipCode" data-i18n="form-designer:dialog.format.zipCode"></option>\n<option value="zipCode4" data-i18n="form-designer:dialog.format.zipCode4"></option>\n<option value="phoneNumber" data-i18n="form-designer:dialog.format.phoneNumber"></option>\n<option value="socialSecurityNumber" data-i18n="form-designer:dialog.format.socialSecurityNumber"></option>\n<option value="arbitraryMask" data-i18n="form-designer:dialog.format.arbitraryMask"></option>\n</select>\n</div>\n<div class="d_f jc_c ai_c" name="specialArbitraryFormat">\n<input type="text" class="w_300 h_24" name="specialArbitraryFormatText" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n</div>\n </div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="custom">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.format.custom"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div class="plpr_20">\n<div class="mtmb_10" data-i18n="form-designer:dialog.format.customFormatScript"></div>\n<div class="d_f">\n<textarea class="f_1 mr_20 h_70 disabled" name="editFormat" @aria:labelledby="::parent()::previousSiblings()" data-forbid="true"></textarea>\n<div @aria:button class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditFormat" @aria:describedby="::parent()::previousSiblings()">form-designer:dialog.format.edit</div>\n</div>\n<div class="mtmb_10" data-i18n="form-designer:dialog.format.customKeystrokeScript"></div>\n<div class="d_f">\n<textarea class="f_1 mr_20 h_70 disabled" name="editKeystroke" @aria:labelledby="::parent()::previousSiblings()" data-forbid="true"></textarea>\n<div @aria:button class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditKeystroke" @aria:describedby="::parent()::previousSiblings()">form-designer:dialog.format.edit</div>\n</div>\n</div>\n<div class="d_f ai_c h_30" name="categoryExample" aria-live="polite">\n<div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\n<div name="exampleText"></div>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset" categoryValue="none">\n<legend class="d_f ai_c"></legend>\n<div class="bg-wrap h_250 d_f fd_c jc_sb">\n<div></div>\n</div>\n</fieldset>\n<div class="mt_10" name="categoryInfo"></div>\n</div>\n</div>'}},124:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-form-properties-dialog-options" name="optionsTab">\n<div hide-in-types="sign">\n<div show-in-types="pushbutton">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\n<select class="f_1 h_24" name="layout">\n<option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\n</select>\n<div class="pl_20 pr_10">\n<div class="fv__ui-dialog-button small w_100" name="advanced" @aria:button>form-designer:dialog.options.pushButton.advanced</div>\n</div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\n<select class="f_1 h_24" name="behavior">\n<option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\n</select>\n<div class="pl_20 pr_10"><div class="w_100"></div></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\n<div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\n<input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd websdk-border-wrapper" name="stateLabel" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="d_f">\n<select class="ml_20 h_100 w_130 state-position" name="position" multiple @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n<option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\n\x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\n</select>\n<div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\n<div class="w_100 h_100 b_1s bc_ddd websdk-border-wrapper b_fff wrap-icon content-bg">\n<img class="icon-img" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<div class="d_f fd_c jc_c ai_c f_1 ml_10">\n<div @aria:button class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</div>\n<input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon" @aria:button>form-designer:dialog.options.pushButton.clear</div>\n</div>\n</div>\n</div>\n</fieldset>\n\x3c!-- Advanced弹窗 --\x3e\n<div @aria:circular-focus class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog" @aria:role="dialog" tabindex="-1" @aria:labelledby="fv--form-designer-pushbutton-advance-title" @aria:describedby="fv--form-designer-pushbutton-advance-tip">\n<div class="fv_ui_dialog_title">\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title" name="fv--form-designer-pushbutton-advance-title"></div>\n<i class="fv__icon-layer-close" @aria:button></i>\n</div>\n<div class="fv__advanced-body">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\n<select class="f_1 h_24" name="scaleType">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\n<select class="f_1 h_24" name="scale">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\n</select>\n</label>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_150 ta_r">\n<label class="d_f ai_c jc_fe">\n<input type="checkbox" name="fit"/>\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\n</label>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton" name="fv--form-designer-pushbutton-advance-bounds-label"></div>\n<div class="wrap-icon w_100 h_100 b_1s bc_ddd websdk-border-wrapper">\n<div class="icon w_60 h_60 b_1s bc_ddd websdk-border-wrapper d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\n</div>\n<div class="p_r w_14 h_100 ml_10">\n<input class="slider-y" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r"></div>\n<div class="p_r w_100 h_14">\n<input class="slider-x" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::previousSiblings()::childAt(0)">\n</div>\n<div class="fraction ml_5" @aria:attr.live="\'assertive\'" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">(0,0)</div>\n</div>\n<div class="d_f ai_c mb_10" name="fv--form-designer-pushbutton-advance-tip" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-ok-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\n</div>\n</div>\n</div>\n<div show-in-types="combobox,listbox" class="fv__comboListOptions_tab">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\n<input type="text" class="f_1 h_24" name="itemLabel" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn" @aria:button>form-designer:dialog.options.comboListBox.add</div>\n</div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\n<input type="text" class="f_1 h_24" name="itemValue">\n<div class="w_100 mlmr_20"></div>\n</label>\n<div class="d_f mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\n\x3c!-- <select class="f_1 h_200" multiple name="items" @aria:labelledby="::previousSiblings()"></select> --\x3e\n<select-list limit="1" class="f_1 h_200" name="items" @aria:labelledby="::previousSiblings()" @var.select="$component">\n<sel-option @foreach="item in select.items" @setter.value="item.value">@{item.label}</sel-option>\n</select-list>\n<div class="d_f fd_c">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn" @aria:button>form-designer:dialog.options.comboListBox.delete</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn" @aria:button>form-designer:dialog.options.comboListBox.up</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn" @aria:button>form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\n</label>\n</div>\n--\x3e\n<div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="allowUserEnter"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\n</label>\n</div>\n<div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiSelect"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\n</label>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\n</label>\n</div>\n--\x3e\n</div>\n<div show-in-types="checkbox,radiobutton">\n<label class="d_f ai_c mb_10">\n<div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\n<div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\n<select class="f_1 h_24" name="buttonStyle">\n<option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\n<option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\n<option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\n<option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\n<option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\n<option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\n<input type="text" class="f_1 h_24" name="exportValue">\n</label>\n<div class="d_f ai_c h_24">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="selectedByDefault"/>\n<div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\n</label>\n</div>\n<div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="radioButtonsValue"/>\n<div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\n</label>\n</div>\n</div>\n<div show-in-types="text">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\n<select class="f_1 h_24" name="alignment">\n<option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\n<option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\n<option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\n<textarea class="h_60 f_1" name="defaultValue"></textarea>\n</label>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="scrollLongText"/>\n<div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="richText"/>\n<div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textLimit" @aria:labelledby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textPassword"/>\n<div data-i18n="form-designer:dialog.options.textField.password"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="fileSelect"/>\n<div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="checkSpell"/>\n<div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\n</label>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textComb" @aria:describedby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.combOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiLine"/>\n<div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\n<select class="w_120 h_24" name="lineSpace">\n<option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\n</select>\n</div>\n--\x3e\n<div class="d_f ai_c h_24">\n<div class="w_120 fs_0"></div>\n<div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\n<input type="text" class="w_90 h_24" name="lineSpaceExactlyValue" @aria:labelledby="::parent()"/>\n<div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\n</div>\n</div>\n</div>\n</div>\n','<div class="fv__ui-form-properties-dialog-options" name="optionsTab">\n<div hide-in-types="sign">\n<div show-in-types="pushbutton">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\n<select class="f_1 h_24" name="layout">\n<option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\n</select>\n<div class="pl_20 pr_10">\n<div class="fv__ui-dialog-button small w_100" name="advanced" @aria:button>form-designer:dialog.options.pushButton.advanced</div>\n</div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\n<select class="f_1 h_24" name="behavior">\n<option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\n</select>\n<div class="pl_20 pr_10"><div class="w_100"></div></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\n<div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\n<input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd websdk-border-wrapper" name="stateLabel" @aria:labelledby="::previousSiblings()">\n</div>\n<div class="d_f">\n<select class="ml_20 h_100 w_130 state-position" name="position" multiple @aria:labelledby="::parent()::previousSiblings()::childAt(0)">\n<option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\n\x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\n</select>\n<div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\n<div class="w_100 h_100 b_1s bc_ddd websdk-border-wrapper b_fff wrap-icon content-bg">\n<img class="icon-img" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<div class="d_f fd_c jc_c ai_c f_1 ml_10">\n<div @aria:button class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</div>\n<input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon" @aria:button>form-designer:dialog.options.pushButton.clear</div>\n</div>\n</div>\n</div>\n</fieldset>\n\x3c!-- Advanced弹窗 --\x3e\n<div @aria:circular-focus class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog" @aria:role="dialog" tabindex="-1" @aria:labelledby="fv--form-designer-pushbutton-advance-title" @aria:describedby="fv--form-designer-pushbutton-advance-tip">\n<div class="fv_ui_dialog_title">\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title" name="fv--form-designer-pushbutton-advance-title"></div>\n<i class="fv__icon-layer-close" @aria:button></i>\n</div>\n<div class="fv__advanced-body">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\n<select class="f_1 h_24" name="scaleType">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\n<select class="f_1 h_24" name="scale">\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\n<option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\n</select>\n</label>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_150 ta_r">\n<label class="d_f ai_c jc_fe">\n<input type="checkbox" name="fit"/>\n<div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\n</label>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton" name="fv--form-designer-pushbutton-advance-bounds-label"></div>\n<div class="wrap-icon w_100 h_100 b_1s bc_ddd websdk-border-wrapper">\n<div class="icon w_60 h_60 b_1s bc_ddd websdk-border-wrapper d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\n</div>\n<div class="p_r w_14 h_100 ml_10">\n<input class="slider-y" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::childAt(0)">\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_90 ta_r"></div>\n<div class="p_r w_100 h_14">\n<input class="slider-x" type="range" step="1" min="0" max="100" @aria:labelledby="::parent()::parent()::previousSiblings()::childAt(0)">\n</div>\n<div class="fraction ml_5" @aria:attr.live="\'assertive\'" @aria:labelledby="::parent()::previousSiblings()::childAt(0)">(0,0)</div>\n</div>\n<div class="d_f ai_c mb_10" name="fv--form-designer-pushbutton-advance-tip" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\n</div>\n<div class="d_f ai_c jc_sb footer">\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-ok-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\n<div @aria:button class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\n</div>\n</div>\n</div>\n<div show-in-types="combobox,listbox" class="fv__comboListOptions_tab">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\n<input type="text" class="f_1 h_24" name="itemLabel" @aria:labelledby="::previousSiblings()">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn" @aria:button>form-designer:dialog.options.comboListBox.add</div>\n</div>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\n<input type="text" class="f_1 h_24" name="itemValue">\n<div class="w_100 mlmr_20"></div>\n</label>\n<div class="d_f mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\n\x3c!-- <select class="f_1 h_200" multiple name="items" @aria:labelledby="::previousSiblings()"></select> --\x3e\n<select-list limit="1" class="f_1 h_200" name="items" @aria:labelledby="::previousSiblings()" @var.select="$component">\n<sel-option @foreach="item in select.items" @setter.value="item.value">@{item.label}</sel-option>\n</select-list>\n<div class="d_f fd_c">\n<div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn" @aria:button>form-designer:dialog.options.comboListBox.delete</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn" @aria:button>form-designer:dialog.options.comboListBox.up</div>\n<div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn" @aria:button>form-designer:dialog.options.comboListBox.down</div>\n</div>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\n</label>\n</div>\n--\x3e\n<div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="allowUserEnter"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\n</label>\n</div>\n<div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiSelect"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\n</label>\n</div>\n\x3c!-- GSDK未提供支持，暂时隐藏\n<div class="d_f ai_c h_24">\n<div class="w_120"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="xxx"/>\n<div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\n</label>\n</div>\n--\x3e\n</div>\n<div show-in-types="checkbox,radiobutton">\n<label class="d_f ai_c mb_10">\n<div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\n<div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\n<select class="f_1 h_24" name="buttonStyle">\n<option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\n<option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\n<option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\n<option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\n<option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\n<option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\n<input type="text" class="f_1 h_24" name="exportValue">\n</label>\n<div class="d_f ai_c h_24">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="selectedByDefault"/>\n<div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\n</label>\n</div>\n<div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\n<div class="w_130 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="radioButtonsValue"/>\n<div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\n</label>\n</div>\n</div>\n<div show-in-types="text">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\n<select class="f_1 h_24" name="alignment">\n<option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\n<option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\n<option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\n</select>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\n<textarea class="h_60 f_1" name="defaultValue"></textarea>\n</label>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="scrollLongText"/>\n<div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="richText"/>\n<div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textLimit" @aria:labelledby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textPassword"/>\n<div data-i18n="form-designer:dialog.options.textField.password"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="fileSelect"/>\n<div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\n</label>\n</div>\n--\x3e\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="checkSpell"/>\n<div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\n</label>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="textComb" @aria:describedby="::nextSiblings(),::parent()::allAfter()"/>\n<div data-i18n="form-designer:dialog.options.textField.combOf"></div>\n</label>\n<input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb" @aria:labelledby="::nextSiblings()">\n<div data-i18n="form-designer:dialog.options.textField.characters"></div>\n</div>\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="multiLine"/>\n<div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\n</label>\n</div>\n\x3c!-- 暂时隐藏，等待GSDK提供支持\n<div class="d_f ai_c h_24 mb_5">\n<div class="w_120 fs_0"></div>\n<div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\n<select class="w_120 h_24" name="lineSpace">\n<option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\n<option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\n</select>\n</div>\n--\x3e\n<div class="d_f ai_c h_24">\n<div class="w_120 fs_0"></div>\n<div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\n<input type="text" class="w_90 h_24" name="lineSpaceExactlyValue" @aria:labelledby="::parent()"/>\n<div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\n</div>\n</div>\n</div>\n</div>\n'}},796:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div class="form-properties-dialog-position-tab" name="positionTab">\n<label class="item">\n<div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\n<select name="units" class="title-md-control">\n<option data-i18n="form-designer:dialog.position.points" value="pt"></option>\n<option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\n<option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\n<option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\n<option data-i18n="form-designer:dialog.position.millimeters" value="mm"></option>\n</select>\n</label>\n<fieldset class="item fv__ui-form-designer-fieldset">\n<legend class="title" data-i18n="form-designer:dialog.position.name"></legend>\n<div class="item inputContainer">\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.left"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="left" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.bottom"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="bottom" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.right"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="right" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.top"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="top" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.width"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="width" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.height"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="height" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n</div>\n</fieldset>\n<div class="item">\n<div class="title-label"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="lockWidthHeight"/>\n<div data-i18n="form-designer:dialog.position.required"></div>\n</label>\n</div>\n</div>\n','<div class="form-properties-dialog-position-tab" name="positionTab">\n<label class="item">\n<div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\n<select name="units" class="title-md-control">\n<option data-i18n="form-designer:dialog.position.points" value="pt"></option>\n<option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\n<option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\n<option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\n<option data-i18n="form-designer:dialog.position.millimeters" value="mm"></option>\n</select>\n</label>\n<fieldset class="item fv__ui-form-designer-fieldset">\n<legend class="title" data-i18n="form-designer:dialog.position.name"></legend>\n<div class="item inputContainer">\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.left"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="left" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.bottom"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="bottom" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.right"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="right" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.top"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="top" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.width"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="width" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n<div class="inlineItem" text-content-after="*">\n<div data-i18n="form-designer:dialog.position.height"></div>\n<div class="fv__ui-unit-number">\n<span class="fv__ui-unit-number-wrapper">\n<span class="fv__ui-unit-number-increment" name="increment"></span>\n<span class="fv__ui-unit-number-decrement" name="decrement"></span>\n</span>\n<input type="text" name="height" min="0" step="1" @aria:labelledby="::parent()::previousSiblings()"/>\n</div>\n<span class="unit"></span>\n</div>\n</div>\n</fieldset>\n<div class="item">\n<div class="title-label"></div>\n<label class="d_f ai_c">\n<input type="checkbox" name="lockWidthHeight"/>\n<div data-i18n="form-designer:dialog.position.required"></div>\n</label>\n</div>\n</div>\n'}},837:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div>\n<div show-in-types="listbox" class="fv_list-action">\n<div class="d_f ai-c mb-10">\n<div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\n</div>\n<div class="fv_list-action-options" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()::childAt(0)">\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="no" name="selectAction" data-id="0" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.noSelection"></div>\n</div>\n</div>\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="customJS"  name="selectAction" data-id="1" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.selectAction"></div>\n</div>\n</div>\n<div class="d_f ai-c customJS">\n<textarea id="keyStrokeJS" cols="30" rows="5" readOnly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<button class="btn-edit fv__ui-dialog-button">form-designer:dialog.validate.edit</button>\n</div>\n</div>\n</div>\n</div>','<div>\n<div show-in-types="listbox" class="fv_list-action">\n<div class="d_f ai-c mb-10">\n<div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\n</div>\n<div class="fv_list-action-options" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()::childAt(0)">\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="no" name="selectAction" data-id="0" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.noSelection"></div>\n</div>\n</div>\n<div class="d_f ai-c h-24">\n<div class="w-20"></div>\n<div class="d_f ai-c fv__ui-form-properties-label">\n<input type="radio" value="customJS"  name="selectAction" data-id="1" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.selection.selectAction"></div>\n</div>\n</div>\n<div class="d_f ai-c customJS">\n<textarea id="keyStrokeJS" cols="30" rows="5" readOnly @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<button class="btn-edit fv__ui-dialog-button">form-designer:dialog.validate.edit</button>\n</div>\n</div>\n</div>\n</div>'}},122:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv_sign-tab"  name="signedTab">\n<label class="d_f ai_c fv_signed-label">\n<input type="radio" id="noAction" name="signAction" value="noAction"/>\n<div data-i18n="form-designer:dialog.signed.nothing"></div>\n</label>\n<div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\n<label class="d_f">\n<input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\n<div data-i18n="form-designer:dialog.signed.mark"></div>\n</label>\n<select class="fv_sign-fields-category" name="signed-type" @aria:labelledby="::previousSiblings()">\n<option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\n<option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\n<option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\n</select>\n<div class="fv_sign-fields">\n<input readOnly="1" class="fv_-fields-list" name="sign-fields" @aria:labelledby="::parent()::previousSiblings()::previousSiblings(),::parent()::previousSiblings()"></input>\n<div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick" @aria:button></div>\n</div>\n</div>\n\n<div class="d_f ai_c fv_signed-label fv_sign-script">\n<label class="d_f">\n<input type="radio" id="customScript" name="signAction" value="customScript"/>\n<div data-i18n="form-designer:dialog.signed.custom"></div>\n</label>\n<div @aria:button class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\n<textarea resizeable=false readOnly="1" name="fv_sign-script-input" class=\'fv_sign-script-input\' @aria:labelledby="::parent()::childAt(0)"></textarea>\n</div>\n</div>','<div class="fv_sign-tab"  name="signedTab">\n<label class="d_f ai_c fv_signed-label">\n<input type="radio" id="noAction" name="signAction" value="noAction"/>\n<div data-i18n="form-designer:dialog.signed.nothing"></div>\n</label>\n<div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\n<label class="d_f">\n<input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\n<div data-i18n="form-designer:dialog.signed.mark"></div>\n</label>\n<select class="fv_sign-fields-category" name="signed-type" @aria:labelledby="::previousSiblings()">\n<option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\n<option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\n<option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\n</select>\n<div class="fv_sign-fields">\n<input readOnly="1" class="fv_-fields-list" name="sign-fields" @aria:labelledby="::parent()::previousSiblings()::previousSiblings(),::parent()::previousSiblings()"></input>\n<div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick" @aria:button></div>\n</div>\n</div>\n\n<div class="d_f ai_c fv_signed-label fv_sign-script">\n<label class="d_f">\n<input type="radio" id="customScript" name="signAction" value="customScript"/>\n<div data-i18n="form-designer:dialog.signed.custom"></div>\n</label>\n<div @aria:button class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\n<textarea resizeable=false readOnly="1" name="fv_sign-script-input" class=\'fv_sign-script-input\' @aria:labelledby="::parent()::childAt(0)"></textarea>\n</div>\n</div>'}},174:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\n<layer-header class="fv_ui_simplePropertiesDialog_title" title="form-designer:simpleDialog.title"></layer-header>\n<div class="fv_ui_dialog_body">\n<label class="d_f fw_w mb_15" name="simple-dialog-name">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\n<input class="h_24" type="text" name="Name"/>\n</label>\n<label show-in-types="pushbutton" class="d_f fw_w mb_15" name="simple-dialog-label">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\n<input class="h_24" type="text" name="Label"/>\n</label>\n<label show-in-types="radiobutton" class="d_f fw_w mb_15" name="simple-dialog-export-value-text">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\n<input class="h_24" type="text" name="ExportValue"/>\n</label>\n</div>\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c mr_10 fv__ui-dialog-required">\n<input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\n<div data-i18n="form-designer:simpleDialog.footer.required"></div>\n</label>\n<div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties" @aria:button></div>\n</div>\n</layer>','<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\n<layer-header class="fv_ui_simplePropertiesDialog_title" title="form-designer:simpleDialog.title"></layer-header>\n<div class="fv_ui_dialog_body">\n<label class="d_f fw_w mb_15" name="simple-dialog-name">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\n<input class="h_24" type="text" name="Name"/>\n</label>\n<label show-in-types="pushbutton" class="d_f fw_w mb_15" name="simple-dialog-label">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\n<input class="h_24" type="text" name="Label"/>\n</label>\n<label show-in-types="radiobutton" class="d_f fw_w mb_15" name="simple-dialog-export-value-text">\n<div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\n<input class="h_24" type="text" name="ExportValue"/>\n</label>\n</div>\n<div class="d_f ai_c jc_sb">\n<label class="d_f ai_c mr_10 fv__ui-dialog-required">\n<input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\n<div data-i18n="form-designer:simpleDialog.footer.required"></div>\n</label>\n<div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties" @aria:button></div>\n</div>\n</layer>'}},285:(e,t,i)=>{var n=i(779);e.exports=function(e){"use strict";e=e||{};var t="",i=n.$each,a=e.fontFamilies,o=(e.value,e.index,n.$escape),r=e.AdditionalFamilies;e.item,e.$index;return t+='<div name="appearanceTab">\n<fieldset class="d_f ai_c mb_10 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.appearance.bordersAndColors"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.borderColor"></div>\n<div class="color-picker" name="border-color-picker">\n<div class="border-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.lineStyle"></div>\n<select class="f_1 h_24 mr_20" name="borderStyle" @aria:labelledby="::previousSiblings()">\n<option data-i18n="form-designer:dialog.appearance.solid" value="solid"></option>\n<option data-i18n="form-designer:dialog.appearance.dashed" value="dashed"></option>\n<option data-i18n="form-designer:dialog.appearance.underline" value="underline"></option>\n<option data-i18n="form-designer:dialog.appearance.beveled" value="beveled"></option>\n<option data-i18n="form-designer:dialog.appearance.inset" value="inset"></option>\n</select>\n</div>\n<div class="d_f ai_c">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fillColor"></div>\n<div class="color-picker" name="fill-color-picker">\n<div class="fill-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.thickness"></div>\n<select class="f_1 h_24 mr_20" name="borderWidth" @aria:labelledby="::previousSiblings()">\n<option data-i18n="form-designer:dialog.appearance.thin" value="thin"></option>\n<option data-i18n="form-designer:dialog.appearance.medium" value="medium"></option>\n<option data-i18n="form-designer:dialog.appearance.thick" value="thick"></option>\n</select>\n</div>\n</div>\n</fieldset>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.appearance.text"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fontSize"></div>\n<dropdown name="textSize" selectable="false" class="f_1 h_24" @controller="form-designer:FieldPropertiesAppearanceController as fpc" editable="true" @aria:labelledby="::previousSiblings()">\n<dropdown-button @foreach="size in fpc.textSizeList" @sync.text="size" @on.click="fpc.selectFontSize(size)"></dropdown-button>\n</dropdown>\n<div class="w_60"></div>\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.textColor"></div>\n<div class="color-picker mr_20" name="text-color-picker">\n<div class="text-color-picker" tabindex="0" @aria:role="button" @aria:labelledby="::parent()::previousSiblings()">\n<div class="label">?</div>\n<div class="mask"></div>\n</div>\n</div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.font"></div>\n<select disabled-in-types="sign,checkbox,radiobutton" class="f_1 h_24 mr_20" name="fontName" @aria:labelledby="::previousSiblings()">\n',i(a,(function(e,i){t+='\n<option value="',t+=o(e.value),t+='">',t+=o(e.name),t+="</option>\n"})),t+="\n",i(r,(function(e,i){t+='\n<option value="',t+=o(e.family),t+='">',t+=o(e.name),t+="</option>\n"})),t+='\n</select>\n</div>\n<div class="d_f ai_c">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.direction"></div>\n<div class="d_f ai_c jc_sb f_1" @aria:role="radiogroup" @aria:labelledby="::previousSiblings()">\n<div class="d_f ai_c fv__ui-form-properties-label">\n<input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="0" name="directionRTL" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.appearance.leftToRight"></div>\n</div>\n<div class="d_f ai_c mr_20 fv__ui-form-properties-label">\n<input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="1" name="directionRTL" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.appearance.rightToLeft"></div>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>'}},186:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div name="generalTab">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\n<input type="text" class="f_1 h_24" name="name">\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\n<input type="text" class="f_1 h_24" name="tooltip">\n<div class="w_120"></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.formField"></div>\n<select class="f_1 h_24" name="visibleType" @aria:labelledby="::parent()::first()">\n<option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\n<option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\n<option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\n<option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\n</select>\n</div>\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.orientation"></div>\n<select class="f_1 h_24" name="fieldOrientation" @aria:labelledby="::parent()::first()">\n<option value="0">0</option>\n<option value="90">90</option>\n<option value="180">180</option>\n<option value="270">270</option>\n</select>\n<div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input type="checkbox" name="readOnly"/>\n<div data-i18n="form-designer:dialog.general.readOnly"></div>\n</label>\n</div>\n</div>\n<div class="pl_20 pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\n<div data-i18n="form-designer:dialog.general.required"></div>\n</label>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>','<div name="generalTab">\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\n<input type="text" class="f_1 h_24" name="name">\n<div class="w_120"></div>\n</label>\n<label class="d_f ai_c mb_10">\n<div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\n<input type="text" class="f_1 h_24" name="tooltip">\n<div class="w_120"></div>\n</label>\n<fieldset class="d_f ai_c mb_10 mt_22 fv__ui-form-designer-fieldset">\n<legend class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></legend>\n<div class="bg-wrap">\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.formField"></div>\n<select class="f_1 h_24" name="visibleType" @aria:labelledby="::parent()::first()">\n<option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\n<option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\n<option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\n<option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\n</select>\n</div>\n<div class="d_f ai_c mb_10 pl_10 pr_10">\n<div class="lh_24 pr_10 w_120" data-i18n="form-designer:dialog.general.orientation"></div>\n<select class="f_1 h_24" name="fieldOrientation" @aria:labelledby="::parent()::first()">\n<option value="0">0</option>\n<option value="90">90</option>\n<option value="180">180</option>\n<option value="270">270</option>\n</select>\n<div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\n</div>\n<div class="d_f ai_c mb_10">\n<div class="pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input type="checkbox" name="readOnly"/>\n<div data-i18n="form-designer:dialog.general.readOnly"></div>\n</label>\n</div>\n</div>\n<div class="pl_20 pr_10">\n<div class="w_120 pl_10">\n<label class="d_f ai_c">\n<input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\n<div data-i18n="form-designer:dialog.general.required"></div>\n</label>\n</div>\n</div>\n</div>\n</div>\n</fieldset>\n</div>'}},0:(e,t,i)=>{i(779);e.exports=function(e){"use strict";e=e||{};return'<div name="validateTab">\n<div show-in-types="combobox,text" @aria:role="radiogroup">\n<div class="d_f ai_c h_24 mb_10" >\n<input type="radio" value="0" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10" name="validate-child-1">\n<input type="radio" value="1" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\n</div>\n<div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\n<div data-i18n="form-designer:dialog.validate.from"></div>\n<input type="text" name="editFrom" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n<div class="w_80"></div>\n<div data-i18n="form-designer:dialog.validate.to"></div>\n<input type="text" name="editTo" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" value="2" name="validateRadio"  @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="validate-child-3">\n<textarea class="f_1 mr_20 h_70" disabled name="textScript" @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript" @aria:button>form-designer:dialog.validate.edit</div>\n</div>\n</div>\n</div>','<div name="validateTab">\n<div show-in-types="combobox,text" @aria:role="radiogroup">\n<div class="d_f ai_c h_24 mb_10" >\n<input type="radio" value="0" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\n</div>\n<div class="d_f ai_c h_24 mb_10" name="validate-child-1">\n<input type="radio" value="1" name="validateRadio" @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\n</div>\n<div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\n<div data-i18n="form-designer:dialog.validate.from"></div>\n<input type="text" name="editFrom" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n<div class="w_80"></div>\n<div data-i18n="form-designer:dialog.validate.to"></div>\n<input type="text" name="editTo" class="w_120 h_24 ml_10" @aria:labelledby="::previousSiblings()" @aria:describedby="::parent()::previousSiblings()::childAt(1),::parent()>*"/>\n</div>\n<div class="d_f ai_c h_24 mb_10">\n<input type="radio" value="2" name="validateRadio"  @aria:labelledby="::nextSiblings()"/>\n<div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\n</div>\n<div class="d_f pl_30 disabled" name="validate-child-3">\n<textarea class="f_1 mr_20 h_70" disabled name="textScript" @aria:labelledby="::parent()::previousSiblings()"></textarea>\n<div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript" @aria:button>form-designer:dialog.validate.edit</div>\n</div>\n</div>\n</div>'}},429:e=>{e.exports=null},585:(e,t,i)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:{},a=Object.create(n),o=/["&'<>]/;function r(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?r(e.call(e)):JSON.stringify(e)),e}a.$escape=function(e){return function(e){var t=""+e,i=o.exec(t);if(!i)return e;var n="",a=void 0,r=void 0,l=void 0;for(a=i.index,r=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:l="&#34;";break;case 38:l="&#38;";break;case 39:l="&#39;";break;case 60:l="&#60;";break;case 62:l="&#62;";break;default:continue}r!==a&&(n+=t.substring(r,a)),r=a+1,n+=l}return r!==a?n+t.substring(r,a):n}(r(e))},a.$each=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i);else for(var a in e)t(e[a],a)},e.exports=a},779:(e,t,i)=>{"use strict";e.exports=i(585)},28:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAAB9CAMAAACPvJFmAAAA8FBMVEUAAACenp7////X19e9vb2qqqrY2Njy8vKrq6ugoKChoaGtra309PTr6+uioqLZ2dm+vr7Ozs6wsLDW1takpKT9/f3f39+jo6Po6Ojp6emfn5/T09O4uLiurq78/Pz19fXs7Ozt7e2np6fg4OCvr6/IyMi3t7fBwcHLy8vU1NSoqKjz8/P6+vr7+/vl5eW1tbXAwMDd3d3KysrFxcWsrKze3t74+Pjq6urw8PDc3Ny6urqmpqbV1dX39/e7u7vS0tLi4uK2tra/v7+xsbHm5ubHx8fExMTv7+/a2trn5+ezs7PR0dHGxsa8vLzk5OS0tLQ/H+8ZAAAAAXRSTlMAQObYZgAAAsJJREFUeNrt221T00AQB3BCm7Z3CUcr1y4Gq6ViShUEqpYnBRRF6+P3/zbSCjQJSZqkt3Rn3P/bm8z8CLnb4/ZYWuJwOBwOh8PhcDgcDidXrIdMft3yw4V1rGMd66jpSmXbtssVkrpqTUwWdum49HQr6q7wyBVquqoK1EXlEtPVQmXboaUriZBOrJLSlSN7njopnR3R2QUhjUeEdWvaapLVtbQF61S/u8dgWd4Ggq5iYM66cvzoE4z1zgnp2gVwT73JoxpD5wZrhXxWQCcTnzVQZztyitssgOvePAzPUfYorvPv24N2kTe3dfezvUDa363Wr/d39UJFzJ/Oqi1ye+Ne4Kv1qOm2ITClYJOWrg+htbJESnddv9LrzCJ16xCpgi8J6V6p6HmY2CGj2/XundbBazI6GXOY2KCi68Ydde4R0bVjD2IVDZ0v4nVVCrp9FX+IrQ4I6AYq6Yz9zeJ1fUjsALxduO6dTmlQoOuGa6nDh2k4OETWHSndShmuqrTejujj6prjv66O89SvUE5wdZPfm048pBUzGmOnqLqbGqDf56hfwcgPiLqz23ejz+OGnZlNRbjA0w2mGw9o3B/+KGb3PAdoukpwsYDt6PAnmaEje4ml+xyuAfAla/0KrSlIOjf6auAqOLwBmbrZ8BVHF7Pl6E1HD3S2Xrv6hqKLWyxk+XZ0pLNeBehh6L7HL18nWepX4tGuKd1+wnyU/nh0x8t+jcLbNa5rJL4bsZehfoWmxci07jhlPorL5dM8V1C8H4Z1ndTFQtj5bsj4ZnVDYZkMmNVJo7hgF9WArmb47hO0DOp8YVhn/TSnu5KmcYGOzLy6jLU9X0zpLjBw0DGjO1IIuMDp9ly6JtKNxV9GdBpJ1zWha2Pd9hTD+XVnAksHv+fWjRCvyv7h+3esYx3rKOhI/48Ah8PhcDgcDofD4XD+8/wFbcRT1tF8op4AAAAASUVORK5CYII="},904:(e,t,i)=>{(t=i(645)(!1)).push([e.id,".fv__pdf-form-designer-container{\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 31;\n    forced-color-adjust: none;\n}\n.fv_form-editing{\n    z-index:31!important;\n}\n.fv_form-editing-label{\n    display:flex;\n    \n    justify-content: center;\n    align-items: center;\n    position: absolute;\n}\n.fv_form-editing-label{\n    outline:1px solid black;\n    overflow: hidden;\n}\n.fv_form-editing-label.active{\n    outline: none;\n}\n.fv_form-editing-label>div{\n    background-color: black;\n    color:white;\n    white-space: nowrap;\n    font-size: 12px;\n    line-height: normal;\n}\n.fv_form-editing-label.active>div{\n    background-color: #5aa;\n}\n\n.fv_form-editing-label > .tab-number {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding-left: 2px;\n    padding-right: 3px;\n    color: #ffffff;\n    background-color: black;\n    z-index: 1;\n}\n    ",""]),e.exports=t},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var a=(r=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(o).concat([a]).join("\n")}var r,l,s;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(a[r]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);n&&a[s[0]]||(i&&(s[2]?s[2]="".concat(i," and ").concat(s[2]):s[2]=i),t.push(s))}},t}},70:(e,t,i)=>{var n=i(904);"string"==typeof n&&(n=[[e.id,n,""]]);var a={hmr:!0,transform:undefined,insertInto:void 0};i(723)(n,a);n.locals&&(e.exports=n.locals)},723:(e,t,i)=>{var n,a,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),l=function(e){return document.querySelector(e)},s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=l.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),d=null,c=0,u=[],p=i(947);function f(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(b(n.parts[r],t))}else{var l=[];for(r=0;r<n.parts.length;r++)l.push(b(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:l}}}}function v(e,t){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],r=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(l):i.push(n[r]={id:r,parts:[l]})}return i}function g(e,t){var i=s(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=s(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,a)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),_(t,e.attrs),g(e,t),t}function _(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,a,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=c++;i=d||(d=h(t)),n=C.bind(null,i,r,!1),a=C.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),g(e,t),t}(t),n=w.bind(null,i,t),a=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=h(t),n=F.bind(null,i),a=function(){m(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=v(e,t);return f(i,t),function(e){for(var n=[],a=0;a<i.length;a++){var r=i[a];(l=o[r.id]).refs--,n.push(l)}e&&f(v(e,t),t);for(a=0;a<n.length;a++){var l;if(0===(l=n[a]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var y,x=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function F(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function w(e,t,i){var n=i.css,a=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(n=p(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(r),l&&URL.revokeObjectURL(l)}},947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},498:(e,t,i)=>{"use strict";i.d(t,{Mp:()=>n});var n={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16}},622:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(375),_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(721),_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(531),_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(498),$=UIExtension.vendors.jQuery,getParam=function(e,t){return[e,t]},parseSimpleNotation=function(e){var t="",i=e.length;if(0==i)return"";for(var n=0,a="";i>n;){var o=e[n];switch(o){case"[":case"]":case"(":case")":case"{":case"}":case":":case";":case"<":case">":case"?":case"=":case"|":case"&":case"!":case"~":case"^":case"%":case"*":case"/":case"+":case"-":return 0==a.length?(t+=o,n++,e=e.substr(n),t+parseSimpleNotation(e)):(isNaN(a)?(a.trim(),a.length>0&&(t+='AFMakeNumber(getField("'+a+'").value)')):t=a,a="",e=e.substr(n),n++,t+parseSimpleNotation(e));default:n++,a+=o}}return isNaN(a)?(a.trim(),a.length>0&&(t+='AFMakeNumber(getField("'+a+'").value)')):t=a,a="",t},JavaScriptAction=PDFViewCtrl.PDF.actions.JavaScriptAction,CalculateTab=function(){function CalculateTab1(e,t,i,n){(0,_swc_helpers_class_call_check__WEBPACK_IMPORTED_MODULE_1__._)(this,CalculateTab1),this.$dialog=e,this.pdfUI=t,this.addon=i,this.binding=n,this.$calculateRadio=$("[name=calculateRadio]",this.$dialog),this.$pickBtn=e.find("#pickFields"),this.$editNotations=e.find("#editNotations"),this.$editCustomScript=e.find("#editCustomScript"),this.$child2=$("[name=calculate-child-2]",this.$dialog),this.$child3=$("[name=calculate-child-3]",this.$dialog),this.$child4=$("[name=calculate-child-4]",this.$dialog),this.setValue=this.setAnnot,this.calculateChanged=!1}return(0,_swc_helpers_create_class__WEBPACK_IMPORTED_MODULE_2__._)(CalculateTab1,[{key:"updateUI",value:function(){}},{key:"setAnnot",value:function setAnnot(){var _this=this,annot=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot;if(!this.uiEvent){this.annot=annot;var action=annot.getAdditionalAction(10),$dialog=this.$dialog;if($dialog.find(".fv__calculate-tab textarea").val(""),!action||!action.getScript)return this.calculateChanged||setTimeout((function(){$dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find(".fv__calculate-tab textarea").val(""),_this.$child2.addClass("disabled"),_this.$child3.addClass("disabled"),_this.$child4.addClass("disabled"),_this.$pickBtn.addClass("disabled"),_this.$editNotations.addClass("disabled"),_this.$editCustomScript.addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),$dialog.find("#noCalc")[0].checked=!0}),20),void(this.calculateChanged=!1);var js=action.getScript();if(-1!=js.indexOf("BVCALC")){var notation=js.match(/BVCALC([\s\S]+?)EVCALC/)[1].trim();$dialog.find("#notations").val(notation),setTimeout((function(){_this.$child3.removeClass("disabled"),_this.$editNotations.removeClass("disabled"),$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find("#notationInput")[0].checked=!0}),20),$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled")}else if(-1!=js.indexOf("AFSimple_Calculate")){var params=eval(js.replace("AFSimple_Calculate","getParam"));$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),setTimeout((function(){_this.$child2.removeClass("disabled"),_this.$pickBtn.removeClass("disabled"),$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find("#simpleCalc")[0].checked=!0}),20),$dialog.find("#simpleOp").val(params[0]),$dialog.find("#simpleFields").val(params[1].join(", "))}else setTimeout((function(){_this.$child4.removeClass("disabled"),_this.$editCustomScript.removeClass("disabled"),$dialog.find("#customInput")[0].checked=!0}),20),$dialog.find("#COCustomScript").val(js),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled")}}},{key:"resetTab",value:function(){}},{key:"onEvent",value:function onEvent(){var _this=this,$dialog=this.$dialog;this.$calculateRadio.on("change",(function(e){_this.calculateChanged=!0;var t=e.target.value;$dialog.find(".fv__calculate-tab textarea").val("");var i=_this.annot.getField();switch(i.getAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_0__.Mp.calculate)&&i.removeAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_0__.Mp.calculate),$dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),_this.$child2.addClass("disabled"),_this.$child3.addClass("disabled"),_this.$child4.addClass("disabled"),_this.$pickBtn.addClass("disabled"),_this.$editNotations.addClass("disabled"),_this.$editCustomScript.addClass("disabled"),t){case"0":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled");break;case"1":$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),_this.$pickBtn.removeClass("disabled"),_this.$child2.removeClass("disabled");break;case"2":$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled"),$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),_this.$editNotations.removeClass("disabled"),_this.$child3.removeClass("disabled");break;case"3":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled"),_this.$editCustomScript.removeClass("disabled"),_this.$child4.removeClass("disabled")}})),$dialog.find("#simpleOp").on("change",(function(e){var op=$dialog.find("#simpleOp").val(),action=_this.annot.getAdditionalAction(10);if(action){var _eval=(0,_swc_helpers_sliced_to_array__WEBPACK_IMPORTED_MODULE_3__._)(eval(action.getScript().replace("AFSimple_Calculate","getParam")),2),_=_eval[0],fields=_eval[1],js='AFSimple_Calculate("'.concat(op,'", new Array ("').concat(fields.join('", "'),'"));');action.setScript(js).then((function(e){return _this.annot.getField().form.calculate()}))}})),$dialog.find("#pickFields").on("click",(function(e){var t=$dialog.find("#simpleFields").val().split(", ");_this.uiEvent=!0,_this.pdfUI.getCurrentPDFDoc().then((function(e){var i=[];e.getPDFForm().enumFields([],0,(function(e,t){1!=e&&7!==e&&i.push(t)}),!1,!0);var n=_this.addon.getDialog("PickField");n.show({type:-1,params:[i,t]},(function(e){if(e)if(e.length||""!=t[0]){if(!e.length)return _this.uiEvent=!1,_this.annot.getField().removeAction(_src_web_pdf_engine_Constants__WEBPACK_IMPORTED_MODULE_0__.Mp.calculate),void $dialog.find("#simpleFields").val("");var i=$dialog.find("#simpleOp").val(),a='AFSimple_Calculate("'.concat(i,'", new Array ("').concat(e.join('", "'),'"));');n.callback=null,_this.setCalcJS(a).then((function(t){_this.uiEvent=!1,$dialog.find("#simpleFields").val(e.join(", "))}))}else _this.uiEvent=!1;else _this.uiEvent=!1}))}))})),$dialog.find("#editNotations").on("click",(function(e){_this.uiEvent=!0,_this.addon.getDialog("JSInput").show($dialog.find("#notations").val(),(function(e){var t="/** BVCALC ".concat(e," EVCALC **/event.value=")+parseSimpleNotation(e);_this.setCalcJS(t).then((function(t){$dialog.find("#notations").val(e),_this.uiEvent=!1}))}))})),$dialog.find("#editCustomScript").on("click",(function(e){_this.uiEvent=!0,_this.addon.getDialog("JSInput").show($dialog.find("#COCustomScript").val(),(function(e){_this.setCalcJS(e).then((function(t){$dialog.find("#COCustomScript").val(e),_this.uiEvent=!1}))}))}))}},{key:"show",value:function(){}},{key:"offEvent",value:function(){var e=this.$dialog;e.find("#pickFields").off("click"),e.find("#editNotations").off("click"),e.find("#editCustomScript").off("click")}},{key:"fillFieldNames",value:function(){return this.pdfUI.getCurrentPDFDoc().then((function(e){var t="";return e.getPDFForm().enumFields([],0,(function(e,i){t+=i+","}),!1,!0),t}))}},{key:"setCalcJS",value:function(e){var t=this,i=new JavaScriptAction;return i.setScript(e),this.annot.getField().setAction(10,i).then((function(e){t.annot.getField().form.calculate()}))}}]),CalculateTab1}();const __WEBPACK_DEFAULT_EXPORT__=CalculateTab},616:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__616__},643:(e,t,i)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i.d(t,{F:()=>n})},375:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var n=i(327);function a(e,t){if(!(0,n._)(e,t))throw new TypeError("Cannot call a class as a function")}},721:(e,t,i)=>{"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.d(t,{_:()=>a})},327:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var n=i(327);function a(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):(0,n._)(e,t)}},531:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var n=i(430);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,o=[],r=!0,l=!1;try{for(i=i.call(e);!(r=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(l)throw a}}return o}}(e,t)||(0,n.N)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},430:(e,t,i)=>{"use strict";i.d(t,{N:()=>a});var n=i(643);function a(e,t){if(e){if("string"==typeof e)return(0,n.F)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,n.F)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={id:e,exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};return(()=>{"use strict";function e(e,t,i,n,a,o,r){try{var l=e[o](r),s=l.value}catch(e){return void i(e)}l.done?t(s):Promise.resolve(s).then(n,a)}function t(t){return function(){var i=this,n=arguments;return new Promise((function(a,o){var r=t.apply(i,n);function l(t){e(r,a,o,l,s,"next",t)}function s(t){e(r,a,o,l,s,"throw",t)}l(void 0)}))}}__webpack_require__.d(__webpack_exports__,{default:()=>nn});var i=__webpack_require__(375),n=__webpack_require__(721);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function r(e,t,i){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i||e):a.value}},r(e,t,i||e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}var d=__webpack_require__(327);function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){a(e,t,i[t])}))}return e}var u=__webpack_require__(531);function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!=((i=t)&&"undefined"!=typeof Symbol&&i.constructor===Symbol?"symbol":typeof i)&&"function"!=typeof t?p(e):t;var i}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=o(e);if(t){var a=o(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return f(this,i)}}function g(e,t){var i,n,a,o,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(i=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,n=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!(a=r.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(6===l[0]&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(e){l=[6,e],n=0}finally{i=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var m=__webpack_require__(616),h=__webpack_require__(429),_=__webpack_require__.n(h),b=__webpack_require__(643);var y=__webpack_require__(430);function x(e){return function(e){if(Array.isArray(e))return(0,b.F)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,y.N)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=__webpack_require__(41),F=__webpack_require__.n(C);const w=function(){function e(t,n,a,o){(0,i._)(this,e),this.$dialog=t,this.pdfUI=n,this.addon=a,this.binding=o}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e,this.show()}},{key:"resetTab",value:function(){var e=this.$dialog;e.find(".interactive").removeClass("interactive"),e.find(".fv_-fields-list").val(""),e.find(".fv_sign-fields-category").val("all"),e.find(".fv_sign-script-input").val("")}},{key:"onEvent",value:function(){var e=this,t=this.$dialog;t.find("input:radio").on("change",(function(i){var n=e.annot.getField();switch(e.resetTab(),i.target.value){case"noAction":n.setLockAction(0);break;case"fieldsFlag":t.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),e.fillFieldNames().then((function(t){e.annot.getField().setLockAction(1,t).then((function(t){return e.annot.removeAction(8)}))}));break;case"customScript":n.setLockAction(0),t.find("#editScript,.fv_sign-script-input").addClass("interactive")}})),t.find(".fv_sign-fields-category").on("change",(function(i){var n=t.find("#pickField");switch(i.target.value){case"all":e.fillFieldNames(),n.removeClass("interactive");break;case"exclude":n.addClass("interactive"),t.find(".fv_-fields-list").val(""),t.find("#pickField").trigger("click");break;case"include":n.addClass("interactive"),e.fillFieldNames(".fv_-fields-list",2),t.find("#pickField").trigger("click")}e.annot.removeAction(8)})),t.find("#pickField").on("click",(function(i){var n=e.addon.getDialog("PickField");e.pdfUI.getCurrentPDFDoc().then((function(i){var a=t.find(".fv_-fields-list").val().split(","),o=Object.keys(i.getPDFForm().fieldsNameMap);n.show({type:3,params:[o,a]},(function(i){if(i){t.find(".fv_-fields-list").val(i.join(","));var a=e.annot.getField(),o=0;switch(t.find(".fv_sign-fields-category").val()){case"all":o=1;break;case"exclude":o=3;break;case"include":o=2}a.setLockAction(o,i).then((function(t){e.annot.removeAction(8)})),n.callback=null}}))}))})),t.find("#editScript").on("click",(function(i){var n=e.addon.getDialog("JSInput"),a=e.annot.getAdditionalAction(8);n.show(a&&a.getScript(),(function(i){t.find(".fv_sign-script-input").val(i);var n=new PDFViewCtrl.PDF.actions.JavaScriptAction;n.setScript(i.replace("\n","\r\n")),e.annot.getField().setAction(8,n)}))}))}},{key:"show",value:function(){var e=this.annot,t=e.getField();if(7==t.getType()){var i=e.getAdditionalAction(8),n=this.$dialog;if(n.find("#noAction")[0].checked=!0,this.resetTab(),i&&"TypeJavaScript"==i.getType()){setTimeout((function(){n.find("#customScript")[0].checked=!0}),0),n.find("#editScript,.fv_sign-script-input").addClass("interactive");var a=i.getScript();n.find(".fv_sign-script-input").val(a)}else{var o=t.getLockAction();if(o.type>0){n.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),n.find("#fieldsFlag")[0].checked=!0;var r=n.find(".fv_sign-fields-category");switch(o.type){case 1:r.val("all"),this.fillFieldNames();break;case 2:r.val("include");case 3:2!=o.type&&r.val("exclude"),n.find("#pickField").addClass("interactive"),n.find(".fv_-fields-list").val(o.fields.join(","))}}}}}},{key:"offEvent",value:function(){var e=this.$dialog;e.find("input:radio").off("change"),e.find(".fv_sign-fields-category").off("change")}},{key:"fillFieldNames",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv_-fields-list";return this.pdfUI.getCurrentPDFDoc().then((function(i){var n="";return i.getPDFForm().enumFields([],0,(function(e,t){n+=t+","}),!1,!0),e.$dialog.find(t).val(n),n}))}}]),e}();var k=__webpack_require__(498);const S={fieldAdded:"fieldAdded",fieldActivated:"fieldActivated",fieldDeativated:"fieldDeativated",fieldFontSizeChanged:"fieldFontSizeChanged",fieldRemove:"fieldRemove"};var A=["$"," DM","€","fl"," F"," kr","Lit. "," Pts","£","$A. ","$NZ. ","Руб ","ESC. ","HK$ ","P. ","RMB¥","NT$ ","S.$ ","W","¥","zł","SEK ","kr ","C$ "],E=["m/d","m/d/yy","m/d/yyyy","mm/dd/yy","mm/dd/yyyy","mm/yy","mm/yyyy","d-mmm","d-mmm-yy","d-mmm-yyyy","dd-mmm-yy","dd-mmm-yyyy","yy-mm-dd","yyyy-mm-dd","mmm-yy","mmm-yyyy","mmmm-yy","mmmm-yyyy","mmm d, yyyy","mmmm d, yyyy","m/d/yy h:MM tt","m/d/yyyy h:MM tt","m/d/yy HH:MM","m/d/yyyy HH:MM","Custom"],$=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt","Custom"],D=["zipCode","zipCode4","phoneNumber","socialSecurityNumber","arbitraryMask"],T=function(){function e(){(0,i._)(this,e)}return(0,n._)(e,null,[{key:"GetSeperatorString",value:function(e,t){var i=""+e,n=i.length;return n>3?0==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+"."+i.substr(n-3):1==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+","+i.substr(n-3):this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+" "+i.substr(n-3):i}},{key:"GetSampNumberFormat",value:function(e,t,i,n,a,o){var r="",l="",s=[];if(t>=0&&i>=0&&n>=0&&o>=0){var d="",c="",u=(l=""+e.toFixed(parseInt(t))).indexOf(".");u>0?(c=l.substr(0,u),d=l.substr(u)):(c=l,d="");var p="";for(0==i&&(p=this.GetSeperatorString(parseInt(c),1)+d),1==i&&(p=l),2==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),0)+d),3==i&&(p=(p=l).replace(".",",")),4==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),2)+d);;){if(0==a){r="$";break}if(1==a){r="DM";break}if(2==a){r="€";break}if(3==a){r="f";break}if(4==a){r="F";break}if(5==a){r="kr";break}if(6==a){r="Lit.";break}if(7==a){r="Pts";break}if(8==a){s[0]=163,r=String.fromCharCode.apply(String,s);break}if(9==a){r="$A.";break}if(10==a){r="$NZ.";break}if(11==a){s[0]=1056,s[1]=1091,s[2]=1073,r=String.fromCharCode.apply(String,s);break}if(12==a){r="ESC.";break}if(13==a){r="HK$";break}if(14==a){r="P.";break}if(15==a){s[0]=65509,r=String.fromCharCode.apply(String,s);break}if(16==a){r="NT$";break}if(17==a){r="S.$";break}if(18==a){s[0]=8361,r=String.fromCharCode.apply(String,s);break}if(19==a){s[0]=165,r=String.fromCharCode.apply(String,s);break}if(20==a){s[0]=122,s[1]=322,r=String.fromCharCode.apply(String,s);break}if(21==a){r="SEK";break}if(22==a){r="kr";break}if(23==a){s[0]=67,s[1]=36,r=String.fromCharCode.apply(String,s);break}if(a>23||a<0)break}if(2&n){0==o?l="("+p+" "+r+")":("(%s",l="("+r+p+")")}else if(0==o)l=p+r;else{l=r+p}}return l}},{key:"GetSampPercentFormat",value:function(e,t,i){var n="";if(t>=0&&i>=0){n=""+(100*e).toFixed(parseInt(t));var a="",o="",r=(n+="%").indexOf(".");r>0?(o=n.substr(0,r),a=n.substr(r)):(o=n,a="");var l="";0==i&&(l=this.GetSeperatorString(parseInt(o),1)+a),1==i&&(l=n),2==i&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(o),0)+a),3==i&&(l=(l=n).replace(".",",")),4==i&&(a=a.replace(".",","),l=this.GetSeperatorString(parseInt(o),2)+a),n=l}return n}},{key:"GetFormatStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0}},{key:"GetKeystrokeStringType",value:function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0}},{key:"GetPercentageValues",value:function(e){var t,i=-1,n=e.length,a=e.indexOf("("),o=n-a-3,r=e.substr(a+1,o).split(","),l=r[0];t=Number(l);for(var s=0;s<r.length&&!(++s>=2)&&""!=(l=r[s]);)1==s&&(i=Number(l));return{iDec:t,iSep:i}}},{key:"StringFromUnicode",value:function(e){for(var t=!1,i="0x",n="",a=0;a<e.length;a++){var o=e[a];"\\"==e[a]&&a+1<e.length&&("u"==e[a+1]||"U"==e[a+1])?(a+=1,t&&(n+=String.fromCharCode(i),i="0x"),t=!0):t?i+=o:(n+=o,t=!1)}return t&&(n+=String.fromCharCode(i)),n}},{key:"GetNumberValues",value:function(e){var t,i=1,n=-1,a=-1,o=-1,r=-1,l=e.length,s=e.indexOf("("),d=l-s-3,c=e.substr(s+1,d).split(",");t=Number(c[0]);for(var u=0;u<c.length&&!(++u>=6);){var p=c[u];if(""==p)break;if(1!=u)if(2!=u)if(3!=u)if(4!=u){if(5==u)r=p.indexOf("false")>=0?0:1}else{var f=p;if(""==f){o=-1;continue}f=(f=(f=(f=f.replace(/"/g,"")).replace(/'/g,"")).replace("\\u0020"," ")).trim(),f=this.StringFromUnicode(f);for(var v=0;v<24;v++){var g=A[v];if(f==(g=(g=g.replace(" "," ")).trim())){o=v;break}}v>23&&(o=-1)}else a=0;else{var m=Number(p);0!=m&&1!=m&&2!=m&&3!=m||(n=m)}else i=Number(p)}return{iDec:t,iSep:i,iNeg:n,iDef:a,iMoney:o,iPre:r}}},{key:"GetRangeValues",value:function(e){for(var t,i=!1,n=!1,a="",o="",r=e.indexOf("("),l=e.indexOf(")"),s=e.substr(r+1,l-r-1).split(","),d=0;d<s.length;){t=(t=s[d]).trim(),0==d||2==d?"true"==t.toLowerCase()?0==d?i=!0:n=!0:0==d?i=!1:n=!1:1!=d&&3!=d||(1==d?a=t:o=t),d++}return{bFrom:i,bTo:n,csiFrom:a,csiTo:o}}}]),e}();const P={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20};var R=m.PDFViewCtrl.shared.colorConvertor,I=m.PDFViewCtrl.PDF.actions.JavaScriptAction,L=m.PDFViewCtrl._internal.form.CFR_Utils,O=PDFViewCtrl.PDF.form.constant.Field_Flag,N=m.vendors.jQuery,V=function(){function e(t,n,a,o){(0,i._)(this,e),this.$dialog=t,this.PDFUI=n,this.binding=o,this.$category=N("select[name=category]",this.$dialog),this.$categoryOptionTitle=N("[name=categoryOptionTitle]",this.$dialog),this.$categoryValue=N("[categoryValue]",this.$dialog),this.$categoryExample=N("[name=categoryExample]",this.$dialog),this.$categoryInfo=N("[name=categoryInfo]",this.$dialog),this.$dateFormatOptions=N("[name=dateFormatOptions]",this.$dialog),this.$dateCustomFormat=N("[name=dateCustomFormat]",this.$dialog),this.$dateCustomFormatText=N("[name=dateCustomFormatText]",this.$dialog),this.$timeFormatOptions=N("[name=timeFormatOptions]",this.$dialog),this.$timeCustomFormat=N("[name=timeCustomFormat]",this.$dialog),this.$timeCustomFormatText=N("[name=timeCustomFormatText]",this.$dialog),this.$specialFormatOptions=N("[name=specialFormatOptions]",this.$dialog),this.$specialArbitraryFormat=N("[name=specialArbitraryFormat]",this.$dialog),this.$specialArbitraryFormatText=N("[name=specialArbitraryFormatText]",this.$dialog),this.$editKeystroke=N("[name=editKeystroke]",this.$dialog),this.$editKeystroke.attr("disabled",!0),this.$editFormat=N("[name=editFormat]",this.$dialog),this.$editFormat.attr("disabled",!0),this.$decimalPlaces=N("[name=decimalPlaces]",this.$dialog),this.$separatorStyle=N("[name=separatorStyle]",this.$dialog),this.$currencySymbol=N("[name=currencySymbol]",this.$dialog),this.$showParentheses=N("[name=showParentheses]",this.$dialog),this.$useRedText=N("[name=useRedText]",this.$dialog),this.$percentDecimalPlaces=N("[name=percentDecimalPlaces]",this.$dialog),this.$percentSeparatorStyle=N("[name=percentSeparatorStyle]",this.$dialog),this.$exampleText=N("[name=exampleText]",this.$dialog),this.addon=a}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e,this.initTab()}},{key:"updateSampleText",value:function(e){var t=this.annot.getField().getValue();switch(this.$exampleText.css("color",""),e){case 1:var i=this.$decimalPlaces.val(),n=this.$separatorStyle.val(),a=this.$currencySymbol.val(),o=this.$showParentheses.prop("checked"),r=this.$useRedText.prop("checked"),l=(o?2:0)|(r?1:0),s=this.$currencySymbol.prop("selectedIndex"),d=0==s||2==s||5==s||6==s||8==s||12==s?0:1,c=T.GetSampNumberFormat(4123.0345,i,n,l,a-1,d);r&&this.$exampleText.css("color","red"),this.$exampleText.html(c);break;case 2:var u=this.$percentDecimalPlaces.val(),p=this.$percentSeparatorStyle.val(),f=T.GetSampPercentFormat(4123.0345,u,p);this.$exampleText.html(f);break;case 3:var v=this.$dateFormatOptions.val()[0];"Custom"==v&&(v=this.$dateCustomFormatText.val());var g=L.FormatDateTimeString(t,v,M(this.annot));this.$exampleText.html(g);var m=this.annot.getField();m.info.value&&0!=m.info.value.length&&m.setValueWithoutAction(g);break;case 4:var h=this.$timeFormatOptions.val(),_=h[0];"Custom"==h[0]&&(_=this.$timeCustomFormatText.val());var b=L.FormatDateTimeString(t,_,M(this.annot));this.$exampleText.html(b);break;default:this.$exampleText.html("")}}},{key:"onUpdateCategoryUI",value:function(){var e=this.$category.val();this.$categoryOptionTitle.text("none"===e?"":this.PDFUI.i18n.t("form-designer:dialog.optionTitle.".concat(e))),this.$categoryInfo.text(this.PDFUI.i18n.t("form-designer:dialog.format.".concat(e,"Info"))),this.$categoryValue.each((function(t,i){N(i).toggle(N(i).attr("categoryValue").indexOf(e)>-1)})),this.$categoryExample.toggle("none"!==e&&"special"!==e&&"custom"!==e)}},{key:"initTab",value:function(){this.$category.val("none"),this.$decimalPlaces.val(2),this.$percentDecimalPlaces.val(2),this.$dateFormatOptions.val(E[0]),this.$timeFormatOptions.val($[0]),this.$specialFormatOptions.val(D[0]),this.$dateCustomFormat.toggle(!1),this.$dateCustomFormatText.val(""),this.$timeCustomFormat.toggle(!1),this.$timeCustomFormatText.val(""),this.$specialArbitraryFormat.toggle(!1),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked",!1);var e=(0,u._)(B(this.annot),3),t=e[0],i=e[1],n=e[2];switch(t){case 1:if(this.$category.val("number"),!i)break;var a=T.GetNumberValues(i),o=a.iDec,r=a.iSep,l=a.iNeg,s=(a.iDef,a.iMoney);a.iPre;this.$decimalPlaces.val(o),this.$separatorStyle.val(r),this.$currencySymbol.val(s+1);var d=2&l?1:0,c=1&l?1:0;this.$showParentheses.prop("checked",d),this.$useRedText.prop("checked",c);break;case 2:if(this.$category.val("percentage"),!i)break;var p=T.GetPercentageValues(i),f=p.iDec,v=p.iSep;this.$percentDecimalPlaces.val(f),this.$percentSeparatorStyle.val(v);break;case 3:if(this.$category.val("date"),!i)break;var g=i.length,m=i.indexOf("("),h=g-m-5,_=-1;if(h>0){for(var b=i.substr(m+2,h),y=0;y<E.length;y++)if(b==E[y]){this.$dateFormatOptions.val(b),_=y;break}-1==_&&(this.$dateFormatOptions.val("Custom"),this.$dateCustomFormatText.val(b))}this.dateSelectedIndex=_,this.$dateCustomFormat.toggle(-1==_);break;case 4:if(this.$category.val("time"),!i)break;var x=-1,C=i.length,F=i.indexOf("(");if(i.indexOf("AFTime_FormatEx")>=0){var w=C-F-5;if(w>0){for(var k=i.substr(F+2,w),S=0;S<$.length;S++)if(k==$[S]){this.$timeFormatOptions.val(k),x=S;break}-1==x&&(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(k))}}else{var A=C-F-3;if(A>0){var P=i.substr(F+1,A),R=parseInt(P);R>=0&&R<$.length?(x=R,this.$timeFormatOptions.val($[R])):(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(P))}}this.$timeCustomFormat.toggle(-1==x);break;case 5:if(this.$category.val("special"),!n)break;if(n.indexOf("AFSpecial_KeystrokeEx")>=0){var I=n.length,L=n.indexOf("("),O=I-L-5;if(O>0){var V=n.substr(L+2,O);this.$specialArbitraryFormatText.val(V)}this.$specialFormatOptions.val("arbitraryMask"),this.$specialArbitraryFormat.toggle(!0)}else{var U=n.length,M=n.indexOf("("),H=U-M-3;if(H>0){var W=n.substr(M+1,H),j=parseInt(W);j>-1&&this.$specialFormatOptions.prop("selectedIndex",j)}this.$specialArbitraryFormat.toggle(!1)}break;case-1:this.$category.val("custom"),i||(i=""),N("[name=editFormat]",this.$dialog).val(i),n||(n=""),N("[name=editKeystroke]",this.$dialog).val(n);break;default:this.$category.val("none")}this.lastCategoryVal=this.$category.val(),this.updateSampleText(t),this.onUpdateCategoryUI()}},{key:"resetTab",value:function(){}},{key:"resetFieldColor",value:function(){var e=this.annot.getField(),t=e.getAction(k.Mp.format);if(t&&"TypeJavaScript"==t.info.type){var i=t.info.javascript;if(1==T.GetFormatStringType(i)){var n=T.GetNumberValues(i),a=(n.wcJS,n.iDec,n.iSep,n.iNeg);n.iDef,n.iMoney,n.iPre;if(1&a)return e.setDAFontColorAsync(["RGB",0,0,0])}}return Promise.resolve()}},{key:"onEvent",value:function(){var e=this;this.$dialog;this.lastCategoryVal=this.$category.val(),this.$category.on("change",(function(t){var i=N("input[name=multiLine]",e.$dialog),n=e.$category.val();if(["none","custom"].includes(n))i.prop("disabled",!1);else{var a=e.annot.getField().getFlags();if(!!O.isMultiline(a))return e.$category.val(e.lastCategoryVal),void e.PDFUI.alert({message:"dialog.error.pleaseUncheckMultiLine",level:"error"});i.prop("disabled",!0)}return e.isChangeCategory=!0,e.PDFUI.getPDFDocRender().then((function(t){var i=new I,a=e.getFormatEx();i.setScript(a),t.getFormRender().execAction("Field",i,null,e.annot.getField(),P.FieldWillFormat).rc?(e.onUpdateCategoryUI(),e.resetFieldColor().then((function(){e.changeCurrentCatgory()})).then((function(){e.lastCategoryVal=n}))):e.$category.val(e.lastCategoryVal)}))})),this.$decimalPlaces.on("change",(function(t){return e.changeCurrentCatgory()})),this.$separatorStyle.on("change",(function(t){return e.changeCurrentCatgory()})),this.$currencySymbol.on("change",(function(t){return e.changeCurrentCatgory()})),this.$showParentheses.on("change",(function(t){return e.changeCurrentCatgory()})),this.$useRedText.on("change",(function(t){e.changeCurrentCatgory();var i=e.annot.getField(),n=i.getDefaultValue(),a=i.getValue(),o=e.$useRedText.prop("checked"),r="#000";(n&&0!=n.length||a&&0!=a.length)&&(r=o&&(n<0||a<0)?"#FF0000":"#000");var l=R(r,"int");e.annot.setDefaultAppearance({textColor:l}).then((function(){e.annot.updateUI({value:l,type:"textColor"})}))})),this.$percentDecimalPlaces.on("change",(function(t){return e.changeCurrentCatgory()})),this.$percentSeparatorStyle.on("change",(function(t){return e.changeCurrentCatgory()})),this.$dateCustomFormatText.on("blur",(function(t){return e.changeCustomFormat(0)})),this.$timeCustomFormatText.on("blur",(function(t){return e.changeCustomFormat(1)})),this.$specialArbitraryFormatText.on("blur",(function(t){return e.changeCustomFormat(2)})),this.$dateFormatOptions.on("change",(function(t){var i=e.$dateFormatOptions.val();i&&i.length>1&&e.$dateFormatOptions.val([i.slice(-1)]),e.$dateCustomFormat.toggle(i.indexOf("Custom")>-1),e.changeCurrentCatgory()})),this.$timeFormatOptions.on("change",(function(t){var i=e.$timeFormatOptions.val();i&&i.length>1&&e.$timeFormatOptions.val([i.slice(-1)]),e.$timeCustomFormat.toggle(i.indexOf("Custom")>-1),e.changeCurrentCatgory()})),this.$specialFormatOptions.on("change",(function(t){var i=e.$specialFormatOptions.val();i&&i.length>1&&e.$specialFormatOptions.val([i.slice(-1)]),e.$specialArbitraryFormat.toggle(i.indexOf("arbitraryMask")>-1),e.changeCurrentCatgory()})),this.$dialog.find("[name=btnEditFormat]").on("click",(function(t){var i=e.annot.getField(),n=i.getAction(8);e.addon.getDialog("JSInput").show(n&&n.getScript(),(function(t){i[t&&""!=t?"setAction":"removeAction"](k.Mp.format,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),N("[name=editFormat]",e.$dialog).val(t)}))})),this.$dialog.find("[name=btnEditKeystroke]").on("click",(function(t){var i=e.annot.getField(),n=i.getAction(7);e.addon.getDialog("JSInput").show(n&&n.getScript(),(function(t){i[t&&""!=t?"setAction":"removeAction"](k.Mp.keyStroke,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),N("[name=editKeystroke]",e.$dialog).val(t)}))}))}},{key:"getFormatEx",value:function(){var e="",t=null;switch(this.$category.val()){case"number":t=this.getNumberFormatEx(!1);break;case"percentage":t=this.getNumberFormatEx(!0);break;case"date":t=this.getDateFormatEx(!0);break;case"time":t=this.getDateFormatEx(!1);break;case"special":t=this.getSpecialFormatEx()}return t&&(e=t[0]),e}},{key:"show",value:function(){}},{key:"active",value:function(){if(this.annot){if(!this.$category.is(":visible"))if("custom"===this.$category.val()&&!this.$editFormat.val()&&!this.$editKeystroke.val()){var e=["none","number","percentage","date","time","special"][(0,u._)(B(this.annot),1)[0]];this.$category.val(e).trigger("change")}this.$dateFormatOptions.is(":visible")&&this.$dateFormatOptions.children()[this.dateSelectedIndex].scrollIntoViewIfNeeded()}}},{key:"offEvent",value:function(){this.$category.off("change"),this.$dateFormatOptions.off("change"),this.$timeFormatOptions.off("change"),this.$specialFormatOptions.off("change"),this.$decimalPlaces.off("change"),this.$separatorStyle.off("change"),this.$currencySymbol.off("change"),this.$showParentheses.off("change"),this.$useRedText.off("change"),this.$percentDecimalPlaces.off("change"),this.$percentSeparatorStyle.off("change"),this.$dateCustomFormatText.off("blur"),this.$timeCustomFormatText.off("blur"),this.$specialArbitraryFormatText.off("blur")}},{key:"isDateTimeFormat",value:function(e){return!!e&&!!U(e)}},{key:"updateActions",value:function(e,t){var i=this,n=this.annot.getField(),a=n.info.defaultValue,o=n.info.value,r=n.getAction(P.FieldWillFormat),l=this.lastCategoryVal;return(a&&0!=a.length||o&&0!=o.length)&&r?new Promise((function(e){return setTimeout(e,0)})).then((function(){return i.PDFUI.getPDFDocRender()})).then((function(a){var o=new I;if(o.setScript(e),a.getFormRender().execAction("Field",o,null,n,P.FieldWillFormat).rc)return i.isChangeCategory&&(i.resetCategorySelections(l),i.isChangeCategory=!1),"date"===l&&(i.dateSelectedIndex=i.$dateFormatOptions.prop("selectedIndex")),i.updateActionsEx(n,e,t);i.isChangeCategory&&(i.isChangeCategory=!1,"special"===l&&(l="none")),"date"===l?i.$dateFormatOptions.prop("selectedIndex",i.dateSelectedIndex):(i.$category.val(l),i.$category.trigger("change"))})):this.updateActionsEx(n,e,t)}},{key:"updateActionsEx",value:function(e,t,i){var n=this,a=this.lastCategoryVal;return Promise.resolve().then((function(){return t&&""!=t?e.setAction(k.Mp.format,t):e.removeAction(k.Mp.format)})).then((function(){return i&&""!=i?e.setAction(k.Mp.keyStroke,i):e.removeAction(k.Mp.keyStroke)})).then((function(){if(t)return n.PDFUI.getPDFDocRender().then((function(i){var o=new I;o.setScript(t);var r=i.getFormRender().execAction("Field",o,null,e,P.FieldWillFormat);r.rc?(n.isChangeCategory&&(n.resetCategorySelections(a),n.isChangeCategory=!1),n.isDateTimeFormat(t)&&r.value&&0!=r.value.length&&(e.info.value="",e.setValue(r.value))):(n.isChangeCategory&&(n.isChangeCategory=!1,"special"===a&&(a="none")),n.$category.val(a),n.$category.trigger("change"))}));if(""!==e.info.value){var i=e.info.value;e.info.value="",e.setValue(i)}}))}},{key:"selectNone",value:function(){var e=this.annot.getField();return e.removeAction(k.Mp.format).then((function(){return e.removeAction(k.Mp.keyStroke)})).then((function(){return e.removeAction(k.Mp.validate)})).then((function(){return e.setValueEx(e.getValue(),null,!0,!0)}))}},{key:"getNumberFormatEx",value:function(e){var t,i,n=e?this.$percentDecimalPlaces.prop("selectedIndex"):this.$decimalPlaces.prop("selectedIndex"),a=e?this.$percentSeparatorStyle.prop("selectedIndex"):this.$separatorStyle.prop("selectedIndex"),o=this.$currencySymbol.prop("selectedIndex"),r=this.$showParentheses.is(":checked"),l=(this.$useRedText.is(":checked")?1:0)|(r?2:0),s=o>0?A[o-1]:"",d=0==o||2==o||5==o||6==o||8==o||12==o?"false":"true";return e?(t="AFPercent_Format("+n+","+a+");",i="AFPercent_Keystroke("+n+","+a+");"):(t="AFNumber_Format("+n+","+a+","+l+',0,"'+s+'",'+d+");",i="AFNumber_Keystroke("+n+","+a+","+l+',0,"'+s+'",'+d+");"),[t,i]}},{key:"selectNumber",value:function(e){var t=(0,u._)(this.getNumberFormatEx(e),2),i=t[0],n=t[1],a=this.annot.getField();return this.updateActions(i,n).then((function(){return a.removeAction(k.Mp.validate)}))}},{key:"changeCustomFormat",value:function(e){var t="",i="";if(0==e){var n=this.$dateCustomFormatText.val();t='AFDate_KeystrokeEx("'+n+'");',i='AFDate_FormatEx("'+n+'");',this.updateSampleText(3)}else if(1==e){var a=this.$timeCustomFormatText.val();t='AFTime_Keystroke("'+a+'");',i='AFTime_FormatEx("'+a+'");',this.updateSampleText(4)}else if(2==e){t='AFSpecial_KeystrokeEx("'+this.$specialArbitraryFormatText.val()+'");',i="",this.updateSampleText(5)}var o=this.annot.getField();return this.updateActions(i,t).then((function(){return o.removeAction(k.Mp.validate)}))}},{key:"getDateFormatEx",value:function(e){var t,i,n=e?this.$dateFormatOptions.prop("selectedIndex"):this.$timeFormatOptions.prop("selectedIndex");if(e){if(n==E.length-1)return;var a=E[n];t='AFDate_KeystrokeEx("'+a+'");',i='AFDate_FormatEx("'+a+'");'}else{if(n==$.length-1)return;t='AFTime_Keystroke("'+$[n]+'");',i="AFTime_Format("+n+");"}return[i,t]}},{key:"selectDate",value:function(e){var t=this.getDateFormatEx(e);if(t){var i=(0,u._)(t,2),n=i[0],a=i[1],o=this.annot.getField();return this.updateActions(n,a).then((function(){return o.removeAction(k.Mp.validate)}))}}},{key:"getSpecialFormatEx",value:function(){var e=this.$specialFormatOptions.prop("selectedIndex"),t="",i="";4==e?(t='AFSpecial_KeystrokeEx("'+this.$specialArbitraryFormatText.val()+'");',i=""):(i="AFSpecial_Format("+e+");",t="AFSpecial_Keystroke("+e+");");return[i,t]}},{key:"selectSpecial",value:function(){var e=this.$specialFormatOptions.prop("selectedIndex");if(4==e)return this.changeCustomFormat(2);var t="AFSpecial_Format("+e+");",i="AFSpecial_Keystroke("+e+");",n=this.annot.getField();return this.updateActions(t,i).then((function(){return n.removeAction(k.Mp.validate)}))}},{key:"resetCategorySelections",value:function(e){var t=this;switch(e){case"none":default:break;case"number":this.$decimalPlaces.val(2),this.$separatorStyle.val(0),this.$currencySymbol.val(0),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked")&&this.annot.setDefaultAppearance({textColor:0}).then((function(){t.annot.updateUI({value:0,type:"textColor"})})),this.$useRedText.prop("checked",!1);break;case"percentage":this.$percentDecimalPlaces.val(2),this.$percentSeparatorStyle.val(0);break;case"date":this.$dateFormatOptions.val(E[0]);break;case"time":this.$timeFormatOptions.val($[0]);break;case"special":this.$specialFormatOptions.val(D[0]);break;case"custom":this.$editFormat.val(""),this.$editKeystroke.val("")}}},{key:"changeCurrentCatgory",value:function(){switch(this.$category.val()){case"none":this.selectNone(),this.updateSampleText(0);break;case"number":this.updateSampleText(1),this.selectNumber(!1);break;case"percentage":this.updateSampleText(2),this.selectNumber(!0);break;case"date":this.updateSampleText(3),this.selectDate(!0);break;case"time":this.updateSampleText(4),this.selectDate(!1);break;case"special":this.selectSpecial(),this.updateSampleText(0)}}}]),e}(),U=function(e){var t;if(-1!==e.indexOf("AFDate_Format")){t=/AFDate_Format(?:Ex)?\("([\s\S]*?)"\)/;var i=e.match(t);if(i&&2==i.length)return i[1].trim()}else if(-1!==e.indexOf("AFTime_Format")){t=/AFTime_Format(?:Ex)?\(([\s\S]*?)\)/;var n=e.match(t);if(n&&2==n.length)return $[n[1]]||n[1].replace(/"/g,"")}},M=function(e){var t=e.getField().getAction(k.Mp.format);if(t){var i=t.getScript();return U(i)}},B=function(e){var t,i,n=e.getField(),a=n.getAction(k.Mp.keyStroke);a&&"TypeJavaScript"===a.info.type&&(t=a.info.javascript),(a=n.getAction(k.Mp.format))&&"TypeJavaScript"===a.info.type&&(i=a.info.javascript);return[i?T.GetFormatStringType(i):t?T.GetKeystrokeStringType(t):0,i,t]};const H=V;var W=UIExtension.vendors.jQuery;const j=function(){function e(t,n,a,o){(0,i._)(this,e),this.$dialog=t,this.PDFUI=n,this.addon=a,this.binding=o,this.$validateRadio=W("[name=validateRadio]",this.$dialog),this.$editFrom=W("[name=editFrom]",this.$dialog),this.$editTo=W("[name=editTo]",this.$dialog),this.$textScript=W("[name=textScript]",this.$dialog),this.$btnEditScript=W("[name=btnEditScript]",this.$dialog),this.$child1=W("[name=validate-child-1]",this.$dialog),this.$child2=W("[name=validate-child-2]",this.$dialog),this.$child3=W("[name=validate-child-3]",this.$dialog)}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e,this.initTab()}},{key:"initTab",value:function(){this.$editFrom.attr("disabled",!0),this.$editFrom.val(""),this.$editTo.attr("disabled",!0),this.$editTo.val(""),this.$textScript.attr("disabled",!0),this.$textScript.val(""),this.$btnEditScript.attr("disabled",!0),this.$btnEditScript.off("click"),this.$validateRadio.filter("[value=0]").prop("checked",!0),this.$validateRadio.filter("[value=1]").attr("disabled",!0),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child1.addClass("disabled");var e,t,i=this.annot.getField(),n=i.getAction(k.Mp.format);if(n&&"TypeJavaScript"==n.info.type&&(t=n.info.javascript),1!=(e=t?T.GetFormatStringType(t):0)&&2!=e||(this.$validateRadio.filter("[value=1]").attr("disabled",!1),this.$child1.removeClass("disabled")),(n=i.getAction(k.Mp.validate))&&"TypeJavaScript"==n.info.type){var a=n.info.javascript;if(a&&""!=a)if(-1!=a.indexOf("AFRange_Validate")){var o=T.GetRangeValues(a),r=(o.bFrom,o.bTo,o.csiFrom),l=o.csiTo;this.$editFrom.val(r),this.$editFrom.attr("disabled",!1),this.$editTo.val(l),this.$editTo.attr("disabled",!1),this.$child2.removeClass("disabled"),this.$child1.removeClass("disabled"),this.$validateRadio.filter("[value=1]").prop("checked",!0)}else this.$child3.removeClass("disabled"),this.$validateRadio.filter("[value=2]").prop("checked",!0),this.$btnEditScript.attr("disabled",!1),this.editScriptEvent&&this.$btnEditScript.on("click",this.editScriptEvent),this.$textScript.val(a);else this.$validateRadio.filter("[value=0]").prop("checked",!0)}else this.$validateRadio.filter("[value=0]").prop("checked",!0)}},{key:"resetTab",value:function(){}},{key:"isNumber",value:function(e){return!(!/^-?[0-9]+\.([0-9]+)$/.test(e)&&!/^-?([0-9]+)\.?$/.test(e))}},{key:"onSetRange",value:function(){var e=this.$editFrom.val();e=e.trim();var t=this.$editTo.val();if(t=t.trim(),""!=e||""!=t)if(""!=e&&""!=t){var i,n,a=this.annot.getField(),o=a.getAction(k.Mp.validate);if(o&&"TypeJavaScript"==o.info.type){var r=o.info.javascript;if(-1!=r.indexOf("AFRange_Validate")){var l=T.GetRangeValues(r),s=(l.bFrom,l.bTo,l.csiFrom),d=l.csiTo;i=Number(s),n=Number(d)}}if(!this.isNumber(e))return this.$editFrom.val(i||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(!this.isNumber(t))return this.$editTo.val(e||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(Number(e)>Number(t))return this.$editFrom.val(i||"0.0"),this.$editTo.val(n||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});var c="AFRange_Validate(true,"+e+",true,"+t+")";a.setAction(k.Mp.validate,c)}else{var u=""==e?t:e;this.isNumber(u)||(this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"}),""==e?this.$editTo.val("0.0"):this.$editFrom.val("0.0"))}}},{key:"onEvent",value:function(){var e=this;this.$dialog;this.$editFrom.on("blur",(function(t){return e.onSetRange()})),this.$editTo.on("blur",(function(t){return e.onSetRange()})),this.$validateRadio.on("change",(function(t){var i=W(t.target).val();switch(e.$editFrom.attr("disabled",!0),e.$editTo.attr("disabled",!0),e.$textScript.attr("disabled",!0),e.$btnEditScript.attr("disabled",!0),e.$btnEditScript.off("click"),e.$child2.addClass("disabled"),e.$child3.addClass("disabled"),Number(i)){case 0:break;case 1:e.$child2.removeClass("disabled"),e.$child1.removeClass("disabled"),e.$editFrom.attr("disabled",!1),e.$editTo.attr("disabled",!1);break;case 2:e.$child3.removeClass("disabled"),e.$btnEditScript.attr("disabled",!1),e.editScriptEvent&&e.$btnEditScript.on("click",e.editScriptEvent)}e.$editFrom.val(""),e.$editTo.val(""),e.$textScript.val("");var n=e.annot.getField();n.getAction(k.Mp.validate)&&n.removeAction(k.Mp.validate)})),this.editScriptEvent=function(t){e.formatJSDlg||(e.formatJSDlg=e.addon.getDialog("JSInput"));var i=e.annot.getField(),n=i.getAction(k.Mp.validate);e.formatJSDlg.show(n&&n.getScript(),(function(t){t&&""!=t&&(i.setAction(k.Mp.validate,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),e.$textScript.val(t))}))},this.$btnEditScript.on("click",this.editScriptEvent)}},{key:"active",value:function(){this.initTab()}},{key:"show",value:function(){}},{key:"offEvent",value:function(){this.$validateRadio.off("change"),this.$editFrom.off("blur"),this.$editTo.off("blur"),this.$btnEditScript.off("click")}}]),e}();const z={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"};const q={OBJECT_URL:"object-url-creation"};var K=PDFViewCtrl.keyboard.KeyboardUtils,G=(K.isMatch,K.matchers,m.vendors.jQuery);const J=function(){function e(t,n,a){var o=this;(0,i._)(this,e),this.$dialog=t,this.pdfUI=n,this.binding=a,n.pdfViewerPromise.then((function(e){o.pdfViewer=e})),this.$layout=G("select[name=layout]",this.$dialog),this.$advanced=G(".fv__ui-dialog-button[name=advanced]",this.$dialog),this.$behavior=G("select[name=behavior]",this.$dialog),this.$stateLabel=G("input[name=stateLabel]",this.$dialog),this.$statePosition=G(".state-position",this.$dialog),this.$iconImg=G(".icon-img",this.$dialog),this.$chooseIcon=G(".fv__ui-dialog-button[name=chooseIcon]",this.$dialog),this.$clearIcon=G(".fv__ui-dialog-button[name=clearIcon]",this.$dialog),this.$chooseIconFile=G("#chooseIconFile",this.$dialog),this.$advancedDialog=G(".fv__advanced-dialog",this.$dialog),this.$advancedDialogClose=G(".fv__icon-layer-close",this.$advancedDialog),this.$scaleType=G("select[name=scaleType]",this.$advancedDialog),this.$scale=G("select[name=scale]",this.$advancedDialog),this.$checkFit=G("input[name=fit]",this.$advancedDialog),this.$checkFit=G("input[name=fit]",this.$advancedDialog),this.$icon=G(".icon",this.$advancedDialog),this.$sliderX=G(".slider-x",this.$advancedDialog),this.$sliderY=G(".slider-y",this.$advancedDialog),this.$fraction=G(".fraction",this.$advancedDialog),this.$reset=G(".reset-button",this.$advancedDialog),this.$confirm=G(".confirm-button",this.$advancedDialog),this.$cancel=G(".cancel-button",this.$advancedDialog),this.iconFile=""}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e,this.isOpened()&&this.show()}},{key:"onEvent",value:function(){var e=this;this.$layout.on("change",(function(t){var i=G(t.target).val();if("e_MKRelationNoCaption"!==i){var n=e.$stateLabel.data("labelIcon")[e.$statePosition.val()[0]];e.$stateLabel.val(n.label)}e.setOptionProperty({layout:i}),e.annot.setWidgetIconCaptionRelation(i)})),this.$advanced.on("click",(function(t){G(t.target).hasClass("disabled")||e.annot.getWidgetIconFitOption().then((function(t){e.setAdvancedProperty({scale_way_type:t.scale_way_type,is_proportional_scaling:t.is_proportional_scaling,fit_bounds:t.fit_bounds,horizontal_fraction:t.horizontal_fraction,vertical_fraction:t.vertical_fraction}),e.$advancedDialog.show()}))})),this.$behavior.on("change",(function(t){var i=G(t.target).val();e.setOptionProperty({behavior:i}),e.annot.setWidgetHighlighting(i)})),this.$statePosition.on("change",(function(t){var i=G(t.target).val().pop();e.setOptionProperty({statePosition:i})})),this.$stateLabel.on("blur",(function(t){var i=G(t.target).val(),n=e.$statePosition.val()[0],a=e.$stateLabel.data("labelIcon");a[n].label=i,e.$stateLabel.data("labelIcon",a),e.annot.setWidgetMkCaption(n,i)})),this.$chooseIconFile.on("change",(function(t){var i=t.target.files[0];if(i){var n=e.pdfViewer.resourceGenerator(z.PDF_DOCUMENT_CLOSING,q.OBJECT_URL).expose().URL.createObjectURL(i),a=new FileReader;a.readAsArrayBuffer(i),a.onload=function(t){var i=a.result,o=e.$statePosition.val()[0];e.annot.setWidgetMkIcon(o,i).then((function(){var t=e.$stateLabel.data("labelIcon");t[o].icon=n,e.$stateLabel.data("labelIcon",t),e.$iconImg.attr("src",n),e.iconFile=n,e.$clearIcon.removeClass("disabled"),e.$clearIcon.attr("tabindex","0")}))}}})),this.$chooseIcon.on("click",(function(t){e.$chooseIconFile.val(""),e.$chooseIconFile.click(),G(t.target).hasClass("disabled")&&t.preventDefault()})),this.$clearIcon.on("click",(function(t){if(!G(t.target).hasClass("disabled")){var i=e.$statePosition.val()[0],n=e.$stateLabel.data("labelIcon");n[i].icon="",e.$stateLabel.data("labelIcon",n),e.$iconImg.attr("src",""),e.annot.setWidgetMkIcon(i,null),G(t.target).addClass("disabled"),e.$chooseIconFile.val("")}})),this.$advancedDialogClose.on("click",(function(t){e.$advancedDialog.hide()})),this.$scaleType.on("change",(function(t){var i=G(t.target).val();e.setAdvancedProperty({scale_way_type:i})})),this.$scale.on("change",(function(t){var i=G(t.target).val();e.setAdvancedProperty({is_proportional_scaling:i})})),this.$checkFit.on("change",(function(t){var i=G(t.target).prop("checked");e.setAdvancedProperty({fit_bounds:i})})),this.$sliderX.on("input",(function(t){var i=G(t.target).val();e.setAdvancedProperty({horizontal_fraction:i})})),this.$sliderY.on("input",(function(t){var i=G(t.target).val();e.setAdvancedProperty({vertical_fraction:i})})),this.$reset.on("click",(function(t){e.setAdvancedProperty({horizontal_fraction:50,vertical_fraction:50})})),this.$confirm.on("click",(function(t){e.annot.setWidgetIconFitOption({scale_way_type:e.$scaleType.val(),is_proportional_scaling:e.$scale.val(),fit_bounds:e.$checkFit.prop("checked"),horizontal_fraction:e.$sliderX.val(),vertical_fraction:e.$sliderY.val()}).then((function(t){e.$advancedDialog.hide()}))})),this.$cancel.on("click",(function(t){e.$advancedDialog.hide()}))}},{key:"show",value:function(){var e=this;this.$advancedDialog.hide(),this.iconFile="",this.annot.getWidgetMkOption().then((function(t){e.$stateLabel.data("labelIcon",t.labelIcon),e.setOptionProperty({layout:t.layout,behavior:t.behavior})}))}},{key:"offEvent",value:function(){this.$layout.off("change"),this.$behavior.off("change"),this.$advanced.off("click"),this.$statePosition.off("change"),this.$stateLabel.off("blur"),this.$chooseIcon.off("click"),this.$clearIcon.off("click"),this.$chooseIconFile.off("change")}},{key:"setOptionProperty",value:function(e){if(e.hasOwnProperty("layout")){var t=e.layout;this.$layout.val(t),"e_MKRelationNoIcon"===t?(this.$advanced.addClass("disabled"),this.$chooseIcon.addClass("disabled"),this.$iconImg.attr("src",""),this.$advanced.attr("tabindex","-1"),this.$chooseIcon.attr("tabindex","-1")):"e_MKRelationNoIcon"!==t&&(this.$advanced.removeClass("disabled"),this.$chooseIcon.removeClass("disabled"),this.$advanced.attr("tabindex","0"),this.$chooseIcon.attr("tabindex","0"),this.$iconImg.attr("src",this.iconFile)),"e_MKRelationNoCaption"===t?this.$stateLabel.attr("disabled",!0).val(""):"e_MKRelationNoCaption"!==t&&this.$stateLabel.removeAttr("disabled")}if(e.hasOwnProperty("behavior")){var i=e.behavior;this.$behavior.val(i),"e_HighlightingPush"===i?this.$statePosition.find("option").show():(this.$statePosition.find("option").hide(),this.$statePosition.find('option[value="up"]').show());var n=this.$statePosition.val();this.setOptionProperty({statePosition:n[0]||"up"})}if(e.hasOwnProperty("statePosition")){var a=e.statePosition;this.$statePosition.val([a]);var o=this.$stateLabel.data("labelIcon")[a],r=o.icon;if(this.$stateLabel.val(o.label),"object"==typeof r){var l=document.createElement("canvas");l.width=r.width,l.height=r.height;var s=l.getContext("2d"),d=new(Uint8ClampedArray||Uint8Array)(r.buffer),c=s.createImageData(r.width,r.height);c.data.set(d),s.putImageData(c,0,0),r=l.toDataURL()}this.$iconImg.attr("src",r),r?this.$clearIcon.removeClass("disabled").attr("tabindex","0"):this.$clearIcon.addClass("disabled").attr("tabindex","-1")}}},{key:"setAdvancedProperty",value:function(e){if(e.hasOwnProperty("scale_way_type")){var t=e.scale_way_type;this.$scaleType.val(t),this.$scale.attr("disabled","e_ScaleWayNever"===t);var i="false"===this.$scale.val()&&"e_ScaleWayAlways"===t;this.$checkFit.attr("disabled",i),this.$sliderX.attr("disabled",i),this.$sliderY.attr("disabled",i)}if(e.hasOwnProperty("is_proportional_scaling")){var n=e.is_proportional_scaling;this.$scale.val(n);var a="false"===n&&"e_ScaleWayAlways"===this.$scaleType.val();this.$checkFit.attr("disabled",a),this.$sliderX.attr("disabled",a),this.$sliderY.attr("disabled",a)}if(e.hasOwnProperty("fit_bounds")){var o=e.fit_bounds;this.$checkFit.prop("checked",o)}if(e.hasOwnProperty("horizontal_fraction")){var r=e.horizontal_fraction;this.$sliderX.val(r),this.$fraction.text("("+r+","+this.$sliderY.val()+")");var l=(this.$icon.parent().width()-this.$icon.outerWidth())*r/100;this.$icon.css("left",l+"px")}if(e.hasOwnProperty("vertical_fraction")){var s=e.vertical_fraction;this.$sliderY.val(s),this.$fraction.text("("+this.$sliderX.val()+","+s+")");var d=(this.$icon.parent().height()-this.$icon.outerHeight())*s/100;this.$icon.css("bottom",d+"px")}}},{key:"isOpened",value:function(){return this.$dialog.is(":visible")}}]),e}();var X={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&X.ButtonRadiosInUnison},isHidden:function(e){return e&X.Hidden},isReadOnly:function(e){return e&X.ReadOnly},isRequired:function(e){return e&X.Required},isNoExport:function(e){return e&X.NoExport},isMultiline:function(e){return e&X.TextMultiline},isPassword:function(e){return e&X.TextPassword},isComb:function(e){return e&X.TextComb},isNoSpellCheck:function(e){return e&X.TextDoNotSpellCheck},isNoScroll:function(e){return e&X.TextDoNotScroll},isComboEdit:function(e){return e&X.ComboEdit},isChoiceMultiSelect:function(e){return e&X.ChoiceMultiSelect}},Y=X;const Q=function(){function e(t,n,a){var o=this;(0,i._)(this,e),this.$dialog=t,this.pdfUI=n,this.binding=a,n.pdfViewerPromise.then((function(e){o.pdfViewer=e}))}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e,this.isOpened()&&this.show()}},{key:"onEvent",value:function(){var e=this,t=this.$dialog;t.find("select[name=buttonStyle]").on("change",(function(t){var i=t.target.value;e.annot.setMKProperty("normalCaption",i).then((function(){e.annot.updateUI({type:"normalCaption",value:i})}))})),t.find("input[name=exportValue]").on("blur",(function(i){var n=i.target.value;n.trim()||(n="Yes");var a=e.annot.getField();e.annot.getField().setExportValue(e.annot.info.control,n).then((function(e){t.find("input[name=radioButtonsValue]").checked&&a.setValue(n).then((function(e){return a.setDefaultValue(n)}))}))})),t.find("input[name=selectedByDefault]").on("change",(function(t){var i=e.annot.getField(),n=t.target.checked?i.getExportValues()[0]:"Off";setTimeout((function(){i.setValue(n,e.annot).then((function(e){return i.setDefaultValue(n)}))}),100)})),t.find("input[name=radioButtonsValue]").on("change",(function(t){var i=t.target.checked;e.annot.getField().setInUnison(i,e.annot)}))}},{key:"show",value:function(){if(2!=this.annot.getType()&&3!=this.annot.getType()){var e=this.annot.getControl().getWidget(),t=e.getMKProperty("normalCaption"),i=e.getControl(),n=i.info.exportValue,a=i.info.isDefaultChecked,o=(this.annot.getField().getDefaultValue(),this.annot.getField().getFlags());this.$dialog.find("select[name=buttonStyle]")[0].value=""==t?"l":t,this.$dialog.find("input[name=exportValue]")[0].value=n,this.$dialog.find("input[name=selectedByDefault]")[0].checked=a,this.$dialog.find("input[name=radioButtonsValue]")[0].checked=Y.inUnison(o)}}},{key:"offEvent",value:function(){if(!this.annot||!this.annot.isDestroyed&&2!=this.annot.getType()&&3!=this.annot.getType()){var e=this.$dialog;e.find("input:radio").off("change"),e.find("select[name=buttonStyle]").off("change"),e.find("input[name=exportValue]").off("blur"),e.find("input[name=selectedByDefault]").off("change"),e.find("input[name=radioButtonsValue]").off("change")}}},{key:"isOpened",value:function(){return this.$dialog.is(":visible")}}]),e}();var Z=PDFViewCtrl.shared.getUnitByName,ee=Z("pt"),te=UIExtension.UIEvents,ie=PDFViewCtrl.PDF.constant.AnnotUpdatedType;const ne=function(){function e(t,n,a,o){var r=this;(0,i._)(this,e),this.$dialog=t,this.pdfUI=n,this.binding=o,n.pdfViewerPromise.then((function(e){r.pdfViewer=e;var i=function(e,i,n){if(n===ie.rectUpdated){var a=t.find("select[name=units]"),o=t.find(".inputContainer").find("input"),l=r.binding.getRect();r.resetPosition(o,l,a.val())}};r.pdfViewer.eventEmitter.on(te.annotationUpdated,i),r.pdfViewer.addDestroyHook((function(){r.pdfViewer.eventEmitter.off(te.annotationUpdated,i)}))}))}return(0,n._)(e,[{key:"showTip",value:function(e,t){}},{key:"setAnnot",value:function(e){this.annot=e,this.lastRect=e.getRect(),this.isOpened()&&this.show()}},{key:"onEvent",value:function(){var t=this,i=this.$dialog,n=i.find("select[name=units]"),a=i.find(".inputContainer").find("input"),o=i.find(".inputContainer").find(".fv__ui-unit-number-increment"),r=i.find(".inputContainer").find(".fv__ui-unit-number-decrement"),l="pt",s=Z(l);this.$dialog.find("input[name=lockWidthHeight]").on("change",(function(e){var i=e.target.checked;t.locked=i,localStorage.setItem("lockWidthHeightFlag",i),t.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",i)})),n.on("change",(function(e){var i=t.binding.getRect();l=e.target.value,s=Z("picas"==l?"pica":l),t.resetPosition(a,i,l)})),a.on("change",(function(i){var n=i.target||i.srcElement,o=n.name,r=parseFloat(n.value),d=t.binding.getRect(),c=t.locked,u=s.convertTo(e.reTransformUnit(l,r),ee),p=d.getUniqueFieldValue(o);d.setField(o,u,c)?(t.resetPosition(a,d,l),t.binding.setRect(d)):1===p.length?n.value=t.formatUnitValue(p[0],s):n.value=""}));var d=function(e,i){var n=t.annot.getPDFPage(),a=n.getWidth(),o=n.getHeight(),r=function(){var e=t.binding.getRect(),i=e.rects[0];return e.rects.map((function(e){e.left<i.left&&(i.left=e.left),e.bottom<i.bottom&&(i.bottom=e.bottom),e.right>i.right&&(i.right=e.right),e.top>i.top&&(i.top=e.top)})),i};switch(i){case"right":return e>a?a:e;case"width":var l=r();return e>a-l.left?a-l.left:e;case"top":return e>o?o:e;case"height":var s=r();return e>o-s.bottom?o-s.bottom:e;default:return e}},c=function(i){var o=i.target||i.srcElement,r=o.getAttribute("name"),c=o.parentElement.parentElement.querySelector("input"),u=c.name,p=parseFloat(c.step),f=t.binding.getRect(),v=c.value,g=0;if("pica"===n.val()){var m=v.split("p");"increment"===r?(v=parseFloat(m[0])+p,v="".concat(v,"p").concat(m[1])):0==parseFloat(m[0])?v="0p0":(v=(v=parseFloat(m[0])-p)<=c.min?c.min:v,v="".concat(v,"p").concat(m[1])),g=ee.convertTo(e.reTransformUnit(l,v),ee),g=d(g,u)}else v="increment"===r?parseFloat(v)+p:(v=parseFloat(v)-p)<c.min?c.min:v,v=d(v,u),g=s.convertTo(e.reTransformUnit(l,v),ee);var h=f.getUniqueFieldValue(u);f.setField(u,g,t.locked)?(t.resetPosition(a,f,l),t.binding.setRect(f)):1===h.length?c.value=t.formatUnitValue(h[0],s):c.value=""};o.on("click",c),r.on("click",c)}},{key:"formatUnitValue",value:function(t,i){var n=i.name;return"pica"===n?e.transformUnit(n,t):("pt"!==n&&(t=ee.convertTo(t,i)),e.formatNum(t))}},{key:"resetPosition",value:function(e,t,i){var n=this,a=Z(i),o=t.getRectForDisplay((function(e){return n.formatUnitValue(e,a)}));e.each((function(e,t){var a=t.name,r=o[a];t.value=r;var l=n.pdfUI.i18n.t("measurement.units."+i);t.parentNode.setAttribute("text-content-after",l)})),this.$dialog.find(".inputContainer .unit").text(i)}},{key:"show",value:function(){this.$dialog.find("select[name=units]").trigger("change"),this.$dialog.find("input[name=lockWidthHeight]")[0].checked=!1;var e=localStorage.getItem("lockWidthHeightFlag");e=null!=e&&"false"!=e,this.$dialog.find("input[name=lockWidthHeight]")[0].checked=e,this.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",e)}},{key:"offEvent",value:function(){var e=this.$dialog;e.find("select[name=units]").off("change"),e.find(".inputContainer").find("input").off("change"),e.find(".inputContainer").find(".fv__ui-unit-number-increment").off("click"),e.find(".inputContainer").find(".fv__ui-unit-number-decrement").off("click")}},{key:"keepBoundayNoChange",value:function(t,i,n){var a=Object.assign({},n);return"left"==t||"right"==t?(a.left=n.left+i,a.right=n.right+i):"bottom"!=t&&"top"!=t||(a.bottom=n.bottom+i,a.top=n.top+i),this.$dialog.find(".inputContainer").find("input").each((function(i,n){"width"!=n.name&&"height"!=n.name&&n.name!=t&&(n.value="".concat(e.formatNum(a[n.name])))})),a}},{key:"isOpened",value:function(){return this.$dialog.is(":visible")}}],[{key:"formatNum",value:function(e,t){return null==t&&(t=2),isNaN(e)?0:Number(parseFloat(e).toFixed(t))}},{key:"getRadioButtonBoundary",value:function(e){var t=Object.assign({},e);return t.width=e.right-e.left,t.height=e.top-e.bottom,t}},{key:"transformUnit",value:function(t,i){var n=0;if("pica"==t){var a=Z("pt"),o=a.convertTo(i,a),r=e.formatNum(o%12);n=parseInt(o/12)+"p"+r}else n=i;return n}},{key:"reTransformUnit",value:function(e,t){var i=0;if("pica"!==e)i=t;else{var n=(t+="").split("p");i=12*parseInt(n[0])+parseFloat(n[1])}return i}},{key:"validatePosition",value:function(t,i,n,a,o){var r={},l=e.transformUnit,s=e.formatNum,d=Z("pt"),c=Z(o),u="pt"!==o?d.convertTo(t.getWidth(),c):t.getWidth(),p="pt"!==o?d.convertTo(t.getHeight(),c):t.getHeight();switch(""===i.trim()&&(i=NaN),n){case"left":r.error=i>=0&&i<=a.right,r.info="the value must be between 0 and ".concat(l(o,s(a.right)));break;case"right":r.error=i>=a.left&&i<=u,r.info="the value must be between ".concat(l(o,s(a.left))," and ").concat(l(o,s(u)));break;case"top":r.error=i>=a.bottom&&i<=p,r.info="the value must be between ".concat(l(o,s(a.bottom))," and ").concat(l(o,s(p)));break;case"bottom":r.error=i>=0&&i<=a.top,r.info="the value must be between 0 and ".concat(l(o,s(a.top)));break;case"width":r.error=i>=0&&i<=u-a.left,r.info="the value must be between 0 and ".concat(l(o,s(u-a.left)));break;case"height":r.error=i>=0&&i<=p-a.bottom,r.info="the value must be between 0 and ".concat(l(o,s(p-a.bottom)))}return r}}]),e}();var ae=UIExtension.vendors.jQuery,oe=PDFViewCtrl.PDF.form.constant.Field_Flag;PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.ViewerEvents,PDFViewCtrl.PDF.constant.AnnotUpdatedType;const re=function(){function e(t,n,a){(0,i._)(this,e),this.main=t,this.$dialog=t.$dialog,this.pdfUI=n,this.binding=a,this.$addItemBtn=ae("[name=addItemBtn]",this.$dialog),this.$deleteItemBtn=ae("[name=deleteItemBtn]",this.$dialog),this.$upItemBtn=ae("[name=upItemBtn]",this.$dialog),this.$downItemBtn=ae("[name=downItemBtn]",this.$dialog),this.$itemLabel=ae("[name=itemLabel]",this.$dialog),this.$itemValue=ae("[name=itemValue]",this.$dialog),this.$items=ae("[name=items]",this.$dialog),this.$allowUserEnter=ae("[name=allowUserEnter]",this.$dialog),this.$multiSelect=ae("[name=multiSelect]",this.$dialog),this.itemsComponent=t.dialog.querySelector("optionsTab items")}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e}},{key:"setValue",value:function(){var e=this.annot.getField(),t=e.getFlags();!this.isModifyOptions&&this.optionsReRender();var i=e.getOptions()||[];this.$addItemBtn.toggleClass("disabled",!0),this.$deleteItemBtn.toggleClass("disabled",!i.length),this.$allowUserEnter.prop("checked",!!oe.isComboEdit(t)),this.$multiSelect.prop("checked",!!oe.isChoiceMultiSelect(t))}},{key:"onEvent",value:function(){var e=this;this.$addItemBtn.on("click",(function(t){ae(t.target).hasClass("disabled")||(e.$itemLabel.focus(),e.pdfUI.getPDFViewer().then((function(i){var n=e.$itemLabel.val().trim(),a=e.$itemValue.val().trim(),o=i.getPDFDocRender().formRender,r=e.annot.getField(),l=r.getValue()||"",s=r.getAction(P.FieldWillFormat);if(0==n.length&&0==a.length||!s)o.setValue(e.annot,n).then((function(i){e.modifyOptions("add",n,a),ae(t.target).addClass("disabled"),e.$deleteItemBtn.removeClass("disabled")}));else{var d,c=!1;0!=a.length&&(d=o.execAction("Field",s,null,r,P.FieldWillFormat,{value:a})),(!d||d&&d.rc)&&0!=n.length&&(c=!0,d=o.execAction("Field",s,null,r,P.FieldWillFormat,{value:n})),d&&d.rc?(c=!1,o.setValue(e.annot,n).then((function(i){i&&(e.modifyOptions("add",n,a),ae(t.target).addClass("disabled"),e.$deleteItemBtn.removeClass("disabled"))}))):(c&&r.showDisplayValue(""),e.$itemLabel.val(l),e.$itemValue.val(l))}})))})),this.$deleteItemBtn.on("click",(function(t){ae(t.target).hasClass("disabled")||e.modifyOptions("delete")})),this.$upItemBtn.on("click",(function(t){ae(t.target).hasClass("disabled")||e.modifyOptions("up")})),this.$downItemBtn.on("click",(function(t){ae(t.target).hasClass("disabled")||e.modifyOptions("down")})),this.$itemValue.on("blur",(function(t){e.modifyOptions("modify-value")})),this.$itemLabel.on("keyup",(function(t){var i=ae(t.target).val().trim(),n=e.annot.getField().getOptions()||[],a=e.$itemValue.val().trim();!!n.find((function(e){return e.value===a}))&&e.$itemValue.val("");var o=!!n.find((function(e){return e.label===i})),r=""===i||o;e.$addItemBtn.toggleClass("disabled",r)})),this.itemsComponent.on("change",(function(){e.modifyOptions("selected-change")})),this.$allowUserEnter.on("change",(function(t){var i=ae(t.target).prop("checked");e.annot.getField().setComboEdit(i)})),this.$multiSelect.on("change",(function(t){var i=ae(t.target).prop("checked");e.annot.getField().setChoiceMultiSelect(i)}))}},{key:"offEvent",value:function(){}},{key:"optionsReRender",value:function(){var e,t=this.annot.getField().getOptions()||[];t.some((function(t,i){return!(void 0!==e||!t.selected)&&(e=i,!0)})),void 0===e&&t.some((function(t,i){return!!t.defaultSelected&&(e=i,!0)}));var i=t[e];this.itemsComponent.items=t.map((function(e){return{value:e.value,label:(t=e.label,String(t).replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})))};var t})),this.itemsComponent.digest(),void 0!==e&&this.itemsComponent.childAt(e).setSelected&&this.itemsComponent.childAt(e).setSelected(!0),this.$itemLabel.val(i?i.label:""),this.$itemValue.val(i?i.value:""),this.$upItemBtn.toggleClass("disabled",void 0===e||0===e),this.$downItemBtn.toggleClass("disabled",void 0===e||e===t.length-1)}},{key:"modifyOptions",value:function(e,t,i){var n,a=this;this.isModifyOptions=!0;var o=this.annot.getField(),r=o.getOptions()||[],l=void 0===t?this.$itemLabel.val().trim():t,s=void 0===i?this.$itemValue.val().trim():i,d=null===(n=this.itemsComponent.getSelectedOptionChildren()[0])||void 0===n?void 0:n.index();if("add"===e)r=r.map((function(e){return{label:e.label,value:e.value,selected:!1,defaultSelected:!1}})),r.push({label:l,value:s||l,selected:!0,defaultSelected:!0});else if("delete"===e)r.splice(d,1),r.length&&(r[0].selected=!0,r[0].defaultSelected=!0);else if("modify-value"===e){if(!s||!r.find((function(e){return e.label===l})))return;r[d].value=s}else if("up"===e){var c;c=[r[d-1],r[d]],r[d]=c[0],r[d-1]=c[1]}else if("down"===e){var u;u=[r[d+1],r[d]],r[d]=u[0],r[d+1]=u[1]}else if("selected-change"===e){var p=r[d];this.$itemLabel.val(p.label),this.$itemValue.val(p.value),this.$upItemBtn.toggleClass("disabled",0===d),this.$downItemBtn.toggleClass("disabled",d===r.length-1),r=r.map((function(e,t){return{label:e.label,value:e.value,selected:t===d,defaultSelected:t===d}}))}if(r=r.map((function(e){return[e.label,e.value,e.selected,e.defaultSelected]})),r.length){var f=function(e){var t=Promise.resolve();e&&(t=o.setItems(r)),t.then((function(e){a.isModifyOptions=!1,a.optionsReRender()}))};4===this.annot.getField().getType()?this.pdfUI.getPDFViewer().then((function(e){var t=e.getPDFDocRender().formRender,i=r.find((function(e){return e[2]}));t.setValue(a.annot,i[0]).then((function(e){f(e)}))})):f(!0)}else Promise.resolve(o.clearItems()).then((function(e){a.isModifyOptions=!1,a.optionsReRender()})),this.$deleteItemBtn.addClass("disabled")}}]),e}();var le=UIExtension.vendors.jQuery,se=UIExtension.PDFViewCtrl.shared.colorConvertor,de=PDFViewCtrl.PDF.form.constant.Field_Flag,ce=(PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.PDF.constant.AnnotUpdatedType);const ue=function(){function e(t,n,a){var o=this;(0,i._)(this,e),this.main=t,this.$dialog=t.$dialog,this.pdfUI=n,this.binding=a,this.$alignment=le("[name=alignment]",this.$dialog),this.$defaultValue=le("[name=defaultValue]",this.$dialog),this.$scrollLongText=le("input[name=scrollLongText]",this.$dialog),this.$richText=le("input[name=richText]",this.$dialog),this.$textLimit=le("input[name=textLimit]",this.$dialog),this.$maxLengthTextLimit=le("input[name=maxLengthTextLimit]",this.$dialog),this.$textPassword=le("input[name=textPassword]",this.$dialog),this.$fileSelect=le("input[name=fileSelect]",this.$dialog),this.$checkSpell=le("input[name=checkSpell]",this.$dialog),this.$textComb=le("input[name=textComb]",this.$dialog),this.$maxLengthTextComb=le("input[name=maxLengthTextComb]",this.$dialog),this.$multiLine=le("input[name=multiLine]",this.$dialog),this.$lineSpace=le("select[name=lineSpace]",this.$dialog),this.$lineSpaceExactlyValue=le("[name=lineSpaceExactlyValue]",this.$dialog),this.pdfUI.addViewerEventListener(S.fieldFontSizeChanged,(function(e){o.noScrollLongTextAdjustHandler()}))}return(0,n._)(e,[{key:"setAnnot",value:function(e){this.annot=e}},{key:"active",value:function(){this.annot&&(this.$alignment.val(this.annot.getField().getAlignment()||0),this.disabledCheckBoxHandler())}},{key:"setValue",value:function(){var e=this.annot.getField(),t=e.getFlags();this.$alignment.val(e.getAlignment()||0);var i=e.getDefaultValue()||"";this.$defaultValue.val(i),this.$scrollLongText.prop("checked",!de.isNoScroll(t)),this.$textPassword.prop("checked",!!de.isPassword(t)),this.$checkSpell.prop("checked",!de.isNoSpellCheck(t));var n=!!de.isComb(t),a=e.getMaxLength(),o=!n&&a>0;this.$textLimit.prop("checked",o),this.$maxLengthTextLimit.prop("disabled",!o).val(o&&a||1),o?this.$defaultValue.attr("maxLength",a).val(i.substr(0,a||1)):this.$defaultValue.removeAttr("maxLength"),this.$textComb.prop("checked",n),this.$maxLengthTextComb.prop("disabled",!n).val(n&&a||0);var r=!!de.isMultiline(t),l=this.annot.getLineSpace()||[];this.$multiLine.prop("checked",r),this.$lineSpace.prop("disabled",!r).val(r?2!==l.length?"auto":[l[0],0].join(","):"auto"),this.$lineSpaceExactlyValue.val(l[1]||"0.0").parent().toggle("3,0"===[l[0],0].join(",")),this.$dialog.find("input[name=locked]").prop("checked")||this.disabledCheckBoxHandler()}},{key:"onEvent",value:function(){var e=this;this.$alignment.on("change",(function(t){e.annot.getField().setAlignment(le(t.target).val()).then((function(){e.main.emitAnnotUpdateEvent(ce.alignmentUpdated,!0)}))})),this.$defaultValue.on("blur",(function(t){var i=le(t.target).val().trim(),n=e.annot.getField(),a=n.getValue()||"",o=n.getAction(P.FieldWillFormat);if(0!=i.length&&o)return new Promise((function(e){return setTimeout(e,0)})).then((function(){return e.pdfUI.getPDFDocRender()})).then((function(r){if(r.getFormRender().execAction("Field",o,null,n,P.FieldWillFormat,{value:i}).rc){var l=e.$dialog.find("select[name=category]");if(e.$useRedText=e.$dialog.find("[name=useRedText]"),e.$useRedText.prop("checked")&&"number"==l.val()){var s=parseInt(i)>0?"#000":"#FF0000",d=se(s,"int");e.annot.setDefaultAppearance({textColor:d}).then((function(){e.annot.updateUI({value:d,type:"textColor"})}))}n.setDefaultValue(""===i?void 0:i);var c=n.getDefaultValue()||"";a&&a===c||n.setValue(i).then((function(){n.form.calculate(),e.noScrollLongTextAdjustHandler()}))}else le(t.target).val(a)}));n.setDefaultValue(""===i?void 0:i);var r=n.getDefaultValue()||"";a&&a===r||n.setValue(i).then((function(){n.form.calculate(),e.noScrollLongTextAdjustHandler()}))})),this.$scrollLongText.on("change",(function(t){var i=le(t.target).prop("checked");e.annot.getField().setNoScroll(!i),e.main.emitAnnotUpdateEvent(ce.flagsUpdated,!0),e.disabledCheckBoxHandler(),e.noScrollLongTextAdjustHandler()})),this.$richText.on("change",(function(t){e.disabledCheckBoxHandler()})),this.$textPassword.on("change",(function(t){e.annot.getField().setPassword(le(t.target).prop("checked")),e.main.emitAnnotUpdateEvent(ce.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$fileSelect.on("change",(function(t){e.disabledCheckBoxHandler()})),this.$checkSpell.on("change",(function(t){var i=le(t.target).prop("checked");e.annot.getField().setNoSpellCheck(!i),e.main.emitAnnotUpdateEvent(ce.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$textLimit.on("change",(function(t){var i=le(t.target).prop("checked"),n=e.annot.getField(),a=String(n.getValue()).length||10;i?e.$defaultValue.attr("maxLength",i):e.$defaultValue.removeAttr("maxLength"),n.setMaxLength(i?a:void 0),n.updateWidgetsUI(n.getPDFForm(),n.getName(),"value",n.getValue()),e.$maxLengthTextLimit.prop("disabled",!i).val(i?a:1),e.disabledCheckBoxHandler()})),this.$textComb.on("change",(function(t){var i=le(t.target).prop("checked"),n=e.annot.getField();n.setComb(i);var a=String(n.getValue()).length||10;n.setMaxLength(i?a:void 0),e.$maxLengthTextComb.prop("disabled",!i).val(i?a:1),e.main.emitAnnotUpdateEvent(ce.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$maxLengthTextLimit.add(this.$maxLengthTextComb).on("blur",(function(t){var i=Math.floor(le(t.target).val().trim()),n=e.annot.getField();if(i>0){n.setMaxLength(i),le(t.target).val(i);var a=String(n.getDefaultValue()),o=String(n.getValue())||a;i<o.length&&n.setValue(o.substr(0,i)),i<a.length&&n.setDefaultValue(a.substr(0,i))}else le(t.target).val(n.getMaxLength()||10)})),this.$multiLine.on("change",(function(t){var i=le(t.target).prop("checked");e.annot.getField().setMultiline(i),e.annot.setLineSpace(void 0).then((function(){return e.annot.updateUI({type:"lineSpace",value:void 0})})),e.$lineSpace.prop("disabled",!i).val("auto"),e.$lineSpaceExactlyValue.val("0.0").parent().hide(),e.disabledCheckBoxHandler()})),this.$lineSpace.on("change",(function(t){var i=le(t.target).val(),n=i.split(","),a="auto"===i?void 0:[Number(n[0]),Number(n[1])];e.annot.setLineSpace(a).then((function(){return e.annot.updateUI({type:"lineSpace",value:a})})),e.$lineSpaceExactlyValue.val("0.0").parent().toggle("3,0"===i)})),this.$lineSpaceExactlyValue.on("blur",(function(t){var i=Number(le(t.target).val().trim());if(i>=0){var n=[3,i];e.annot.setLineSpace(n).then((function(){return e.annot.updateUI({type:"lineSpace",value:n})})),le(t.target).val(i)}else le(t.target).val((e.annot.getLineSpace()||[])[1])}))}},{key:"offEvent",value:function(){}},{key:"disabledCheckBoxHandler",value:function(){var e=this,t=[this.$scrollLongText,this.$richText,this.$textLimit,this.$textPassword,this.$fileSelect,this.$checkSpell,this.$textComb,this.$multiLine],i=[],n=(0,u._)(B(this.annot),1)[0];[1,2,3,4,5].includes(n)&&i.push(this.$multiLine);t.forEach((function(t){var n;(n=t).prop("checked")&&(e.$scrollLongText.is(n)?i.push(e.$textComb):e.$richText.is(n)?i.push(e.$textPassword,e.$fileSelect,e.$textComb):e.$textLimit.is(n)?i.push(e.$fileSelect,e.$textComb):e.$textPassword.is(n)?i.push(e.$richText,e.$fileSelect,e.$checkSpell,e.$textComb,e.$multiLine):e.$fileSelect.is(n)?i.push(e.$scrollLongText,e.$richText,e.$textLimit,e.$textPassword,e.$checkSpell,e.$textComb,e.$multiLine):e.$checkSpell.is(n)?i.push(e.$textPassword,e.$fileSelect,e.$textComb):e.$textComb.is(n)?i.push(e.$scrollLongText,e.$richText,e.$textLimit,e.$textPassword,e.$fileSelect,e.$checkSpell,e.$multiLine):e.$multiLine.is(n)&&i.push(e.$textPassword,e.$fileSelect,e.$textComb)),t.prop("disabled",!1)})),i.forEach((function(e){return e.prop("disabled",!0)}))}},{key:"noScrollLongTextAdjustHandler",value:function(){var e=this,t=this.annot.getField();de.isNoScroll(t.getFlags())&&0!==this.annot.getDAFontSize()&&this.pdfUI.getPDFViewer().then((function(i){var n=i.getAnnotRender(e.annot.getPDFPage().getIndex(),e.annot.getId()).component;if(n)for(;;){var a=n.$textInput[0],o=a.scrollWidth,r=a.clientWidth,l=a.scrollHeight,s=a.clientHeight,d=n.$textInput.val();if(n.$textInput.is("textarea")){if(!(l>s)){t.setValue(d);break}n.$textInput.val(d.substr(0,d.length-1))}else{if(!(o>r)){t.setValue(d);break}n.$textInput.val(d.substr(0,d.length-1))}}}))}}]),e}();UIExtension.vendors.jQuery;const pe=function(){function e(t,n,a,o){(0,i._)(this,e),this.$dialog=t,this.pdfUI=n,this.addon=a,this.binding=o,this.$dialog=t}return(0,n._)(e,[{key:"setAnnot",value:function(e){var t=this;this.annot=e;var i=this.annot.getAdditionalAction(7),n="";i&&i.getScript&&(n=i.getScript());var a=this.$dialog.find("input[name=selectAction]").eq(i?1:0);setTimeout((function(){t.$dialog.find("#keyStrokeJS").val(n),a[0].checked=!0}),10),this.$dialog.find(".btn-edit").prop("disabled",!i)}},{key:"onEvent",value:function(){var e=this,t=this.$dialog;t.find(".btn-edit").bind("click",(function(t){var i=e.addon.getDialog("JSInput"),n=e.$dialog.find("#keyStrokeJS"),a=e.annot.getAdditionalAction(7),o="";a&&"TypeJavaScript"===a.getType()?o=a.getScript():a=null,i.show(o,(function(t){if(!t||0==t.length)return n.val(""),void(a&&e.annot.removeAction(7,a));a?a.setScript(t):((a=new PDFViewCtrl.PDF.actions.JavaScriptAction).setScript(t),e.annot.getField().setAction(7,a)),n.val(t)}))})),t.find("input[name=selectAction]").on("change",(function(t){var i=e.$dialog.find("#keyStrokeJS"),n=e.$dialog.find(".btn-edit");switch(t.target.value){case"no":e.annot.removeAction(7),i.val(""),n.prop("disabled",!0);break;case"customJS":i.val(""),n.prop("disabled",!1)}}))}},{key:"show",value:function(){}},{key:"offEvent",value:function(){this.$dialog.find(".btn-edit").off("click"),this.$dialog.find("input[name=selectAction]").off("change")}}]),e}();var fe=__webpack_require__(622);function ve(e){var t=Array.from(new Set(e));return 1===t.length?t[0]:""}var ge=1e5,me=function(){function e(t){(0,i._)(this,e),a(this,"rectsMap",void 0),a(this,"rects",void 0),this.rectsMap=t,this.rects=Object.values(t),this.rects.forEach((function(e){Object.defineProperty(e,"width",{get:function(){return Math.round((this.right-this.left)*ge)/ge}}),Object.defineProperty(e,"height",{get:function(){return Math.round((this.top-this.bottom)*ge)/ge}})}))}return(0,n._)(e,[{key:"getRectsMap",value:function(){return this.rectsMap}},{key:"getRectForDisplay",value:function(e){var t=function(t){return"number"==typeof t?e(t):t},i=this.getRectsMap(),n=Object.values(i),a=ve(n.map((function(e){return e.left}))),o=ve(n.map((function(e){return e.right}))),r=ve(n.map((function(e){return e.top}))),l=ve(n.map((function(e){return e.bottom}))),s=ve(n.map((function(e){return e.width}))),d=ve(n.map((function(e){return e.height})));return{left:t(a),right:t(o),top:t(r),bottom:t(l),width:t(s),height:t(d)}}},{key:"getUniqueFieldValue",value:function(e){return Array.from(new Set(this.rects.map((function(t){return t[e]}))))}},{key:"setField",value:function(e,t,i){switch(e){case"width":return this.setWidth(t);case"height":return this.setHeight(t);case"bottom":return this.setBottom(t,i);case"left":return this.setLeft(t,i);case"right":return this.setRight(t,i);case"top":return this.setTop(t,i)}}},{key:"setWidth",value:function(e){return e<=0&&(e=.01),this.rects.forEach((function(t){t.right=t.left+e})),!0}},{key:"setHeight",value:function(e){return e<=0&&(e=.01),this.rects.forEach((function(t){t.top=t.bottom+e})),!0}},{key:"setLeft",value:function(e,t){return!(!t&&this.rects.some((function(t){return e>=t.right})))&&(this.rects.forEach((function(i){var n=i.right-i.left;i.left=e,t&&(i.right=e+n)})),!0)}},{key:"setRight",value:function(e,t){return!(!t&&this.rects.some((function(t){return e<=t.left})))&&(this.rects.forEach((function(i){var n=i.right-i.left;i.right=e,t&&(i.left=e-n)})),!0)}},{key:"setTop",value:function(e,t){return!(!t&&this.rects.some((function(t){return e<=t.bottom})))&&(this.rects.forEach((function(i){var n=i.height;i.top=e,t&&(i.bottom=e-n)})),!0)}},{key:"setBottom",value:function(e,t){return!(!t&&this.rects.some((function(t){return e>=t.top})))&&(this.rects.forEach((function(i){var n=i.height;i.bottom=e,t&&(i.top=e+n)})),!0)}}]),e}(),he=m.PDFViewCtrl,_e=he.PDF.form.constant.Field_Flag,be=he.PDF.form.constant.Field_Type,ye=he.PDF.annots.constant.Annot_Flags,xe=(he.ViewerEvents,he.PDF.constant.AnnotUpdatedType,he.shared.colorConvertor,he.FontUtil),Ce=xe.stdFontMap,Fe=(xe.FoxitFontMap,xe.FontFamilies),we=(he._internal.consts.ADD_FONT_MAP_LIST,Object.keys(be).reduce((function(e,t){return e[be[t]]=t.toLowerCase(),e}),{})),ke={0:"solid",1:"dashed",2:"underline",3:"beveled",4:"inset"},Se={1:"thin",2:"medium",3:"thick"},Ae={0:"0",1:"90",2:"180",3:"270"},Ee={},$e={},De=function(){function e(t){(0,i._)(this,e),this.pdfViewer=t}return(0,n._)(e,[{key:"formFieldAnnots",get:function(){var e=this.pdfViewer.getAllActivatedElements(),t=e.map((function(e){return e.annot})).filter((function(e){return e&&"widget"===e.getType()}));return t.length!==e.length?[]:t}},{key:"isSelectedMultipleFields",value:function(){return this.formFieldAnnots.length>1}},{key:"isSelectedMultipleTypes",value:function(){return this.getFieldTypes().length>1}},{key:"getRect",value:function(){var e=this.formFieldAnnots.reduce((function(e,t){return e[t.getId()]=t.getRect(),e}),{});return new me(e)}},{key:"setRect",value:function(e){var t=e.getRectsMap(),i=this.formFieldAnnots.map((function(e){var i=t[e.getId()];if(i)return e.getField().setRect(i),e.setRect(i)}));return Promise.all(i)}},{key:"getFieldTypes",value:function(){var e=new Set(this.getFields().map((function(e){return e.getType()})));return Array.from(e)}},{key:"getFieldTypeNames",value:function(){return this.getFieldTypes().map((function(e){return we[e]}))}},{key:"getFieldType",value:function(){var e=this.getFieldTypes();return 1!==e.length?$e:e[0]}},{key:"getDialogClasses",value:function(){return this.getFieldTypeNames().map((function(e){return"fv__ui-form-"+e}))}},{key:"getFields",value:function(){return this.formFieldAnnots.map((function(e){return e.getField()}))}},{key:"getTextColor",value:function(){var e=this.formFieldAnnots.map((function(e){var t=e.getDAFontColor(),i=e.getField().getAction(k.Mp.format);if(i&&"TypeJavaScript"===i.info.type){var n=i.info.javascript;if(1===T.GetFormatStringType(n)){var a=1&T.GetNumberValues(n).iNeg?1:0,o=e.getField(),r=o.getDefaultValue(),l=o.getValue();if(r&&0!==r.length||l&&0!==l.length)return a&&(r<0||l<0)?"#FF0000":t}}return t})),t=new Set(e);return 1===t.size?Array.from(t)[0]:$e}},{key:"shouldLockTextColorComponent",value:function(){return!!this.isLocked()||this.formFieldAnnots.some((function(e){var t=e.getField().getAction(k.Mp.format);if(t&&"TypeJavaScript"===t.info.type){var i=t.info.javascript;if(1===T.GetFormatStringType(i))return!!(1&T.GetNumberValues(i).iNeg?1:0)}return!1}))}},{key:"getVisibleType",value:function(){return this._getValueIfAllSame((function(e){var t=e.getFlags(),i=t&ye.hidden,n=t&ye.print,a=t&ye.noView;return n=i&&!n?ye.print:n,"".concat(i,"_").concat(n,"_").concat(a)}),void 0)}},{key:"isReadonlyField",value:function(){return this._getValueIfAllSame((function(e){var t=e.getField().getFlags();return!!_e.isReadOnly(t)}),!1)}},{key:"isRequiredField",value:function(){return this._getValueIfAllSame((function(e){var t=e.getField().getFlags();return!!_e.isRequired(t)}),!1)}},{key:"getDAFontColor",value:function(){var e=new Set(this.formFieldAnnots.map((function(e){return e.getDAFontColor()})));return 1===e.size?Array.from(e)[0]:$e}},{key:"isLocked",value:function(){return this.formFieldAnnots.map((function(e){return e.getFlags()})).some((function(e){return!!(e&ye.locked)}))}},{key:"getFontName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.formFieldAnnots.map((function(t){var i=t.getDefaultAppearance(),n=i.fontName;if(void 0===Ce[n]){var a=new RegExp("^\\s*".concat(n,"\\s*$"),"i"),o=Fe.find((function(e){return a.test(e.value)})),r=e.map((function(e){return{name:e.name,value:e.value.replace(" ","").replace("-","")}}));return o||(o=r.find((function(e){return a.test(e.value)}))),o||(a=new RegExp("^\\s*".concat(i.fullName,"\\s*$"),"i"),o=r.find((function(e){return a.test(e.value)}))),o||(o=m.shared.getFontName(n))&&(o={value:o.family}),e.find((function(e){return e.name===n}))?n:o?o.value:"Times-Roman"}return n})),i=Array.from(new Set(t));return 1===i.length?i[0]:0===i.length?Ee:$e}},{key:"getDirection",value:function(){return this._getValueIfAllSame((function(e){return e.getDirectionRTL()}),0)}},{key:"updateUI",value:function(e){this.formFieldAnnots.forEach((function(t){t.updateUI(e)}))}},{key:"setDefaultAppearance",value:function(e){this.formFieldAnnots.forEach((function(t){return t.setDefaultAppearance(e)}))}},{key:"setLocked",value:function(e){this.formFieldAnnots.forEach((function(t){var i=t.getFlags();i&ye.locked?e||t.setFlags(i^ye.locked):e&&t.setFlags(i|ye.locked)}))}},{key:"getBorderStyle",value:function(){return this._getValueIfAllSame((function(e){return e.getBorderStyle()}),ke[0],(function(e){return ke[e]}))}},{key:"getBorderWidth",value:function(){return this._getValueIfAllSame((function(e){return e.getBorderWidth()}),Se[3],(function(e){return Se[e]}))}},{key:"getRotation",value:function(){return this._getValueIfAllSame((function(e){return e.getMKProperty("rotation")}),Ae[0],(function(e){return e<0||e>3?Ae[0]:Ae[e]}))}},{key:"getBorderColor",value:function(){return this._getValueIfAllSame((function(e){return e.getMKProperty("borderColor")}),0)}},{key:"getFillColor",value:function(){return this._getValueIfAllSame((function(e){return e.getMKProperty("fillColor")}),0)}},{key:"getDAFontSize",value:function(){return this._getValueIfAllSame((function(e){return e.getDAFontSize()}),Ee,(function(e){return 0===e?"auto":e}))}},{key:"_getValueIfAllSame",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=this._getUniqueValues(e);return 0===n.length?t:1===n.length?i(n[0]):$e}},{key:"_getUniqueValues",value:function(e){return Array.from(new Set(this.formFieldAnnots.map(e)))}}]),e}();var Te=[{name:"Courier",value:"Courier"},{name:"Helvetica",value:"Helvetica"},{name:"Times Roman",value:"Times-Roman"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],Pe=m.EditActionsTab,Re=m.vendors.jQuery,Ie=(PDFViewCtrl.PDF.form.constant.Field_Flag,PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags),Le=PDFViewCtrl.ViewerEvents,Oe=PDFViewCtrl.PDF.constant.AnnotUpdatedType,Ne=PDFViewCtrl.shared.colorConvertor,Ve=PDFViewCtrl.FontUtil,Ue=Ve.stdFontMap,Me=(Ve.FoxitFontMap,Ve.FontFamilies,m.PDFViewCtrl._internal.consts.ADD_FONT_MAP_LIST),Be=m.PDFViewCtrl._internal.shared.stopPropagationOnShortcutEvent,He=m.PDFViewCtrl.keyboard.KeyboardUtils.matchers.Escape,We=PDFViewCtrl.shared.createDeferred,je=PDFViewCtrl.DeviceInfo.isMacOS,ze=m.shared.AdditionalFamilies,qe=function(){function e(t,n){var a=this;(0,i._)(this,e),this.PDFUI=t,this.addon=n,this.waitForInitBindingDefer=We(),this.waitForInitBinding=this.waitForInitBindingDefer.promise;var o=[];t.addViewerEventListener(Le.activeElementChanged,(function(e){a.isInitialized&&t.getAllActiveElements().then((function(e){var t=o.length!==e.length||o.some((function(t){return-1===e.indexOf(t)}));o=e,t&&0!==e.length&&a.dialog.isVisible&&a.updateContent()}))}))}return(0,n._)(e,[{key:"initDialog",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.PDFUI,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addon,n=this;return t((function(){var t,a,o;return g(this,(function(r){switch(r.label){case 0:return n.dialog?[2]:(n.isDestroyed=!1,n.isInitialized=!0,t=F()({fontFamilies:Te,AdditionalFamilies:ze,dateOptions:[{name:"m/d",value:"m/d"},{name:"m/d/yy",value:"m/d/yy"},{name:"m/d/yyyy",value:"m/d/yyyy"},{name:"mm/dd/yy",value:"mm/dd/yy"},{name:"mm/dd/yyyy",value:"mm/dd/yyyy"},{name:"mm/yy",value:"mm/yy"},{name:"mm/yyyy",value:"mm/yyyy"},{name:"d-mmm",value:"d-mmm"},{name:"d-mmm-yy",value:"d-mmm-yy"},{name:"d-mmm-yyyy",value:"d-mmm-yyyy"},{name:"dd-mmm-yy",value:"dd-mmm-yy"},{name:"dd-mmm-yyyy",value:"dd-mmm-yyyy"},{name:"yy-mm-dd",value:"yy-mm-dd"},{name:"yyyy-mm-dd",value:"yyyy-mm-dd"},{name:"mmm-yy",value:"mmm-yy"},{name:"mmm-yyyy",value:"mmm-yyyy"},{name:"mmmm-yy",value:"mmmm-yy"},{name:"mmmm-yyyy",value:"mmmm-yyyy"},{name:"mmm d, yyyy",value:"mmm d, yyyy"},{name:"mmmm d, yyyy",value:"mmmm d, yyyy"},{name:"m/d/yy h:MM tt",value:"m/d/yy h:MM tt"},{name:"m/d/yyyy h:MM tt",value:"m/d/yyyy h:MM tt"},{name:"m/d/yy HH:MM",value:"m/d/yy HH:MM"},{name:"m/d/yyyy HH:MM",value:"m/d/yyyy HH:MM"}],timeOptions:[{name:"HH:MM",value:"HH:MM"},{name:"h:MM tt",value:"h:MM tt"},{name:"HH:MM:ss",value:"HH:MM:ss"},{name:"h:MM:ss tt",value:"h:MM:ss tt"}]}),n.dialog=e.parseTemplate(t),n.dialog.localize(),n.dialog.mounted(),n.$dialog=Re(n.dialog.element),n.$tabNav=Re(".fv__ui-form-tab-nav > div",n.$dialog),n.$closeDialog=Re("[name=closeDialog]",n.$dialog),n.$locked=Re("input[name=locked]",n.$dialog),n.$name=Re("input[name=name]",n.$dialog),n.$tooltip=Re("input[name=tooltip]",n.$dialog),n.$visibleType=Re("select[name=visibleType]",n.$dialog),n.$readOnly=Re("input[name=readOnly]",n.$dialog),n.$required=Re("input[name=required]",n.$dialog),n.$orientation=Re("select[name=fieldOrientation]",n.$dialog),n.$borderStyle=Re("select[name=borderStyle]",n.$dialog),n.$borderWidth=Re("select[name=borderWidth]",n.$dialog),n.$borderColor=Re(".border-color-picker",n.$dialog),n.$fillColor=Re(".fill-color-picker",n.$dialog),n.$textColor=Re(".text-color-picker",n.$dialog),n.$fontName=Re("select[name=fontName]",n.$dialog),n.$orientation=Re("select[name=fieldOrientation]",n.$dialog),n.$directionRTL=Re("[name=directionRTL]",n.$dialog),n.$calculateRadio=Re("[name=calculateRadio]",n.$dialog),n.dialog.on("hidden",(function(t){return e.colorSpectrum.hide()})),[4,e.getPDFViewer()]);case 1:return a=r.sent(),o=new De(a),n.tabs=[new pe(n.$dialog,e,i,o),new w(n.$dialog,e,i,o),new H(n.$dialog,e,i,o),new ne(n.$dialog,e,i,o),new J(n.$dialog,e,i,o),new Pe(n,e,"widget",o),new Q(n.$dialog,e,i,o),new j(n.$dialog,e,i,o),new re(n,e,i,o),new fe.Z(n.$dialog,e,i,o),new ue(n,e,i,o)],n.binding=o,n.waitForInitBindingDefer.resolve(o),n.customFontFamiliesMap={},n.bindEvent(),e.getStore().then((function(t){var i=t.subscribe(Me,(function(e){var t=e.new,i="",a=[];t.slice(0).forEach((function(e){i+='<option value="'.concat(e.name,'">').concat(e.name,"</option>"),a.push({name:e.name,value:e.name})})),n.$fontName.append(i),n.customFontFamilies=a,n.customFontFamilies.forEach((function(e){n.customFontFamiliesMap[e.name]=e.name.replace(" ","").replace("-","")}))}));e.getPDFViewer().then((function(e){e.addDestroyHook((function(){i()}))}))})),e.getRootComponent().then((function(e){e.append(n.dialog)})),[2]}}))}))()}},{key:"localize",value:function(){return this.dialog.localize()}},{key:"setAnnot",value:function(e){return this.annot=e,this}},{key:"updateContent",value:function(){var e=this;return t((function(){var t,i,n,a,o,r,l,s,d,c,u,p;return g(this,(function(f){switch(f.label){case 0:return(n=e.annot)?e.dialog?[3,2]:[4,e.initDialog()]:[2];case 1:f.sent(),f.label=2;case 2:return a=e.binding.isLocked(),e.$locked.prop("checked",a),e.lockedHandler(a),(o=e.PDFUI.colorSpectrum)&&o.isActive&&o.hide(),e.tabs.forEach((function(e){e.setAnnot&&e.setAnnot(n),e.updateContent&&e.updateContent()})),r=e.binding.getDialogClasses(),l=e.$dialog[0],s=l.className.split(" "),d=s.filter((function(e){return 0===e.indexOf("fv__ui-form-")&&"fv__ui-form-properties-dialog"!==e})),(t=l.classList).remove.apply(t,x(d)),(i=l.classList).add.apply(i,x(r)),c=e.binding.getFieldTypeNames(),e.$dialog.find("[show-in-types]").each((function(e,t){var i=Re(t).attr("show-in-types").split(/[,\s]+/),n=c.some((function(e){return i.indexOf(e)>-1}));Re(t).toggle(n)})),e.$dialog.find("[hide-in-types]").each((function(e,t){var i=Re(t).attr("hide-in-types").split(/[,\s]+/),n=c.some((function(e){return i.indexOf(e)>-1}));Re(t).toggle(!n)})),e.$dialog.find("[disabled-in-types]").each((function(e,t){var i=Re(t).attr("disabled-in-types").split(/[,\s]+/),n=c.some((function(e){return i.indexOf(e)>-1}));Re(t).prop("disabled",a||n)})),e.$dialog.toggleClass("fv__ui-form-properties-multi-types",c.length>1),e.$dialog.toggleClass("fv__ui-form-properties-multi",e.binding.isSelectedMultipleFields()),[4,e.PDFUI.getCurrentLanguage()];case 3:u=f.sent(),je&&u.startsWith("en")&&Re("[name=form-properties-dialog-nav] > div",e.$dialog).css({padding:"0 9.5px"}),f.label=4;case 4:return e.setValue(),(p=Re(".fv__ui-form-tab-nav .active",e.$dialog)).length&&(p.is(":visible")||e.$tabNav.eq(0).click()),[2]}}))}))()}},{key:"show",value:function(e){var i=this;return t((function(){return g(this,(function(e){switch(e.label){case 0:return[4,i.updateContent()];case 1:return e.sent(),i.addon.dialogs.goto=i.PDFUI.activeActionsDialog,i.PDFUI.getRootComponent().then((function(e){i.dialog.open(e.element),i.tabs.forEach((function(e){return e.show&&e.show()}));var t=x(i.dialog.element.querySelectorAll('[tabindex]:not([tabindex="-1"])')).filter((function(e){var t=e.getBoundingClientRect(),i=t.width,n=t.height;return 0!==i&&0!==n}));if(!(t&&t.length>0&&-1!==t.indexOf(document.activeElement))){var n=Re(".fv__ui-form-tab-nav .active",i.$dialog),a=i.binding.isLocked()||i.binding.shouldLockTextColorComponent();i.$textColor.prop("disabled",a),i.$textColor.parent().toggleClass("disabled",a),n.length||(n=i.$tabNav.eq(0)).click(),i.focusElement&&i.$dialog[0].contains(i.focusElement)?i.focusElement.focus():i.$dialog.find(".fv__ui-form-tab-nav .active").focus()}})),[2,i]}}))}))()}},{key:"hide",value:function(){if(this.dialog)return this.focusElement=document.activeElement,this.dialog.hide(),this}},{key:"isOpened",value:function(){return this.dialog&&this.dialog.isVisible}},{key:"destroy",value:function(){if(!this.isDestroyed&&this.isInitialized){for(var e in this.tabs.forEach((function(e){return e.offEvent&&e.offEvent()})),this.dialog.destroy(),this.$tabNav.off("click"),this.$closeDialog.off("click"),this.$name.off("blur"),this.$tooltip.off("blur"),this.$visibleType.off("change"),this.$readOnly.off("change"),this.$required.off("change"),this.$borderStyle.off("change"),this.$borderWidth.off("change"),this.$orientation.off("change"),this.$borderColor.off("click"),this.$fillColor.off("click"),this.$textColor.off("click"),this.$locked.off("change"),this)delete this[e];this.isDestroyed=!0}}},{key:"bindEvent",value:function(){var e=this;this.$dialog.find("select").each((function(t,i){e.dialog.addDestroyHook(Be(i,"keyup",He))})),Re(".fv__ui-form-tab-nav, .fv__ui-form-tab-body",this.$dialog).on("pointerdown",(function(e){return e.stopPropagation()})),this.$tabNav.on("click",(function(t){e.$tabNav.removeClass("active"),Re(t.target).addClass("active");var i=Re(t.target).index(),n=Re(".fv__ui-form-tab-body > div",e.$dialog).not(".lock-mask");n.hide(),n.eq(i).show(),e.tabs.forEach((function(e){return e.active&&e.annot&&e.annot.getField()&&e.active()}));var a=e.PDFUI.colorSpectrum;a&&a.hide()})),this.$closeDialog.on("click",(function(t){e.hide()})),this.$name.on("blur",(function(t){if(!e.binding.isSelectedMultipleFields()){var i=e.binding.formFieldAnnots[0],n=Re(t.target).val().trim(),a=i.getField().getName(),o=i.objectNumber;n&&n.trim()&&n!==a&&e.PDFUI.getPDFViewer().then((function(t){t.getCurrentPDFDoc().loadPDFForm().then((function(t){t.validateFieldName(n,i.info.fieldType).then((function(r){r?t.moveControl(a,n,o).then((function(t){if(!t)throw e.$name.val(a),new Error("Rename field error.");e.setLabel(i),e.emitAnnotUpdateEvent(Oe.titleUpdated,!1,i)})):(e.$name.val(a),e.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))}})),this.$tooltip.on("blur",(function(t){var i=Re(t.target).val().trim();e.binding.formFieldAnnots.forEach((function(e){e.getField().setAlternateName(i)}))})),this.$visibleType.on("change",(function(t){var i=(0,u._)(Re(t.target).val().split("_"),3),n=i[0],a=i[1],o=i[2];e.binding.formFieldAnnots.forEach((function(e){var t=e.getFlags(),i=t;t&Ie.hidden&&(i-=Ie.hidden),t&Ie.print&&(i-=Ie.print),t&Ie.noView&&(i-=Ie.noView),i=i+Number(n)+Number(a)+Number(o),e.setFlagValue(i).then((function(){e.updateUI({type:"display",value:i}),e.updateUI({})}))}))})),this.$readOnly.on("change",(function(t){var i=Re(t.target).prop("checked");e.binding.formFieldAnnots.forEach((function(t){t.getField().setReadonly(i),e.emitAnnotUpdateEvent(Oe.flagsUpdated,!0,t)}))})),this.$required.on("change",(function(t){var i=Re(t.target).prop("checked");e.binding.formFieldAnnots.forEach((function(t){t.getField().setRequired(i),e.emitAnnotUpdateEvent(Oe.flagsUpdated,!0,t)}))})),this.$directionRTL.on("change",(function(t){var i=Number(Re(t.target).val());e.binding.formFieldAnnots.forEach((function(t){t.setDirectionRTL(i).then((function(){e.emitAnnotUpdateEvent(Oe.alignmentUpdated,!0,t)}))}))})),this.$borderStyle.on("change",(function(t){var i=Re(t.target).val(),n={solid:0,dashed:1,underline:2,beveled:3,inset:4}[i];e.binding.formFieldAnnots.forEach((function(e){e.setBorderStyle(n,[3,3]).then((function(t){e.updateUI({type:"borderStyle",value:i})}))}))})),this.$borderWidth.on("change",(function(t){var i={thin:1,medium:2,thick:3}[Re(t.target).val()];e.binding.formFieldAnnots.forEach((function(e){e.setBorderWidth(i).then((function(t){e.updateUI({type:"borderWidth",value:i})}))}))})),this.$orientation.on("change",(function(t){var i=0;switch(Re(t.target).val()){case"90":i=1;break;case"180":i=2;break;case"270":i=3}e.binding.formFieldAnnots.forEach((function(e){e.setMKProperty("rotation",i).then((function(t){e.updateUI({type:"orientation",value:i})}))}))})),this.$borderColor.on("click",(function(t){if(!e.$borderColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.binding.getBorderColor(),a=n&&n!==$e?Ne(n,"#"):"#ffffff";i.showTransparent(!0).setDefaultColor(a),i.show(t.target,(function(t){return e.setColor("border",t)}))}})),this.$fillColor.on("click",(function(t){if(!e.$borderColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.binding.getFillColor(),a=n&&n!==$e?Ne(n,"#"):"#ffffff";i.showTransparent(!0).setDefaultColor(a),i.show(t.target,(function(t){return e.setColor("fill",t)}))}})),this.$textColor.on("click",(function(t){if(!e.$textColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.binding.getDAFontColor(),a=n&&n!==$e?Ne(n,"#"):"#ffffff";i.showTransparent(!1).setDefaultColor(a),i.show(t.target,(function(t){return e.setColor("textColor",t)}))}})),this.$fontName.on("change",(function(t){var i=Re(t.target).val(),n=Ue[i];void 0===n&&(i=e.customFontFamiliesMap[i]),n||(i=Re(t.target).val()),e.binding.formFieldAnnots.forEach((function(e){e.setDefaultAppearance({fontName:i});var t={type:"fontName",value:i};e.updateUI(t)}))})),this.$locked.on("change",(function(t){var i=Re(t.target).prop("checked");e.binding.setLocked(i),e.lockedHandler(i)})),this.$calculateRadio.on("change",(function(e){Re(e.target).val()})),this.tabs.forEach((function(e){return e.onEvent&&e.onEvent()}))}},{key:"setColor",value:function(e,t){var i=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t!==$e&&t!==Ee||(t=0);var a,o,r="number"==typeof t?t:Ne(t,"int");switch(e){case"fill":a=this.$fillColor;break;case"textColor":a=this.$textColor;break;default:a=this.$borderColor}n&&this.binding.formFieldAnnots.forEach((function(t){var n={value:r};switch(e){case"fill":t.setMKProperty("fillColor",r),n.type="fillColor",t.updateUI(n),i.emitAnnotUpdateEvent(Oe.fillColorUpdated,!0,t);break;case"textColor":t.setDefaultAppearance({textColor:r}).then((function(){n.type="textColor",t.updateUI(n)}));break;default:t.setMKProperty("borderColor",r),n.type="borderColor",t.updateUI(n),i.emitAnnotUpdateEvent(Oe.borderColorUpdated,!0,t)}})),o=a.find(".label"),t?(a.css("border-color",t?Ne(t,"HTML"):"transparent"),o.hide()):(a.css("border-top-color","blue"),a.css("border-right-color","green"),o.show())}},{key:"setValue",value:function(){var e=this.binding.isLocked(),t=this.binding.isSelectedMultipleFields();if(t)this.$name.val(""),this.$tooltip.val("");else{var i=this.annot.getField();this.$name.val(i.getName()),this.$tooltip.val(i.getAlternateName())}this.$name.prop("disabled",t),this.$tooltip.prop("disabled",t);var n=this.binding.getVisibleType();n===$e?this.$visibleType[0].value="":this.$visibleType.val(n);var a=this.binding.isReadonlyField();a===$e?this.$readOnly.prop("indeterminate",!0):(this.$readOnly.prop("indeterminate",!1),this.$readOnly.prop("checked",a));var o=this.binding.isRequiredField();o===$e?this.$required.prop("indeterminate",!0):(this.$required.prop("indeterminate",!1),this.$required.prop("checked",o));var r=this.binding.getBorderStyle();r===$e?this.$borderStyle.val(void 0):this.$borderStyle.val(r);var l=this.binding.getBorderWidth();l===$e?this.$borderWidth[0].value="":this.$borderWidth.val(l);var s=this.binding.getRotation();s===$e?this.$orientation.val(void 0):this.$orientation.val(s);var d=this.binding.getBorderColor();this.setColor("border",d,!1);var c=this.binding.getFillColor();this.setColor("fill",c,!1);var u=this.binding.getTextColor();this.setColor("textColor",u,!1),this.$textColor.prop("disabled",this.binding.shouldLockTextColorComponent());var p=this.binding.getFontName(this.customFontFamilies||[]);if(p===Ee||p===$e)this.$fontName.val(void 0);else{if(void 0===Ue[p])for(var f=Object.entries(this.customFontFamiliesMap),v=0;v<f.length;v++){var g=f[v];if(g[1]==p){p=g[0];break}}this.$fontName.val(p)}var m=this.binding.getDirection();m===$e?this.$directionRTL.prop("disabled",!0).prop("checked",!1):(this.$directionRTL.prop("disabled",e),this.$directionRTL.filter("[value=".concat(m,"]")).prop("checked",!0)),this.tabs.forEach((function(e){return e.setValue&&e.setValue()}))}},{key:"lockedHandler",value:function(e){Re(".lock-mask",this.$dialog).toggle(e)}},{key:"emitAnnotUpdateEvent",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot;this.PDFUI.eventEmitter.emit(Le.annotationUpdated,[i],i.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(Le.annotationAppearanceUpdated,[i],i.getPDFPage())}}]),e}(),Ke=__webpack_require__(174),Ge=__webpack_require__.n(Ke);var Je={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},Xe=(Object.keys(Je).reduce((function(e,t){return e[Je[t]]=Number(t),e}),{}),Promise.resolve()),Ye="hideFormFieldSimplePropertyBox",Qe=m.vendors.jQuery,Ze=PDFViewCtrl.ViewerEvents,et=PDFViewCtrl.PDF.form.constant.Field_Flag,tt=PDFViewCtrl.PDF.constant.AnnotUpdatedType,it=PDFViewCtrl.PDF.form.constant.Field_Type,nt=m.PDFViewCtrl.shared.createDeferred,at="Yes",ot=function(){function e(t,n){var a=this;(0,i._)(this,e),this.PDFUI=t,this.addon=n,this.PDFUI.getStore().then((function(e){var t=e.subscribe(Ye,(function(e){a.hide()}));a.PDFUI.getPDFViewer().then((function(e){e.addDestroyHook((function(){t()}))}))})),this.destroyHook=[]}return(0,n._)(e,[{key:"initDialog",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.PDFUI;this.isDestroyed=!1;var i=Ge()();this.dialog=this.PDFUI.parseTemplate(i),this.dialog.localize(),this.dialog.mounted(),this.$dialog=Qe(this.dialog.element),this.$name=Qe("input[name=Name]",this.$dialog),this.$label=Qe("input[name=Label]",this.$dialog),this.$exportValue=Qe("input[name=ExportValue]",this.$dialog),this.$required=Qe("input[name=Required]",this.$dialog),this.$allProperties=Qe("[name=AllProperties]",this.$dialog),t.getComponentByName("template-container").then((function(t){t.append(e.dialog)})),this.bindEvent()}},{key:"show",value:function(e){var t=this;this.resetForm();var i=this.annot.getPage().getIndex();return this.$pageContainer=Qe('.fv__pdf-page-container[data-index="'+i+'"]').get(0),Qe(this.$pageContainer).on("mousedown",(function(e){return t.hide()})),setTimeout((function(){t.dialog.open(t.$pageContainer),t.setDialogPosition(e).then((function(){t.$name[0].focus({preventScroll:!0})}))}),0),this}},{key:"setDialogPosition",value:function(e){var t=this,i=document.getElementsByClassName("fv__ui-simple-form-properties-dialog")[0],n=document.getElementsByClassName("fv__shape-control-move-area")[0],a=n?n.getBoundingClientRect().height:0,o=i.getBoundingClientRect().width,r=i.getBoundingClientRect().height;var l=function(){return t.$pageContainer.getBoundingClientRect()},s=nt();return this.PDFUI.getPDFViewerRender().then((function(e){e.getScaleRatio().then((function(e){!function(e){var i=l(),n=i.width,a=i.height;t.annot&&(t.$dialog.css({top:"".concat(e.top/a*100,"%"),left:"".concat(e.left/n*100,"%")}),s.resolve())}(function(e){if(t.annot){var i,n,s=l(),d=s.width,c=s.height,u=t.PDFUI.pdfViewer.pdfViewerRender.getRotation(),p=t.annot.getDeviceRect(e,u);return 0===u?(i=p.left,c-(n=p.bottom+10)<r&&(n=p.top-r-10)):(i=p.left,c-(n=p.top+a+10)<r&&(n=p.bottom-r-a-10)),d-i<o&&(i=d-o),i=Math.max(0,i),{top:n=Math.max(0,n),left:i}}}(e))}))})),this.PDFUI.getPDFViewer().then((function(e){t.destroyHook.push(e.addEventListener(Ze.beforeOpenFile,(function(e){delete t.annot})))})),s.promise}},{key:"resetForm",value:function(){this.$label.val(""),this.$exportValue.val(at),this.$required.prop("checked",!1)}},{key:"hide",value:function(){if(this.dialog&&this.dialog.isVisible){var e=document.activeElement;return this.dialog.element.contains(document.activeElement)&&e&&e.blur&&e.blur(),this.dialog.hide(),this}}},{key:"setAnnot",value:function(e){var t=this;this.annot=e,this.dialog||this.initDialog();var i=(Object.keys(it).find((function(t){return it[t]===e.getField().getType()}))||"").toLowerCase();return Object.keys(it).forEach((function(e){return t.$dialog.removeClass("fv__ui-form-".concat(e.toLowerCase()))})),this.$dialog.addClass("fv__ui--simple-form-".concat(i)),this.$dialog.find("[show-in-types]").each((function(e,t){Qe(t).toggle(Qe(t).attr("show-in-types").indexOf(i)>-1)})),this.$dialog.find("[disabled-in-types]").each((function(e,t){Qe(t).prop("disabled",Qe(t).attr("disabled-in-types").indexOf(i)>-1),Qe(t).prop("disabled")?Qe(t).parent().addClass("disabled"):Qe(t).parent().removeClass("disabled")})),this.setValue(),this}},{key:"setValue",value:function(){var e=this.annot.getField(),t=e.getFlags();this.$name.val(e.getName()),this.$required.prop("checked",!!et.isRequired(t))}},{key:"bindEvent",value:function(){var e=this;this.dialog.useJQuery((function(){Qe(document).on("mousedown",(function(t){return e.hide()})),Qe(e.$dialog).on("mousedown",(function(e){return e.stopPropagation()}))})),this.$name.on("input",(function(t){var i=Qe(t.target).val().trim(),n=e.annot.getField().getName(),a=e.annot.objectNumber;i&&i!==n&&e.PDFUI.getPDFViewer().then((function(t){t.getCurrentPDFDoc().loadPDFForm().then((function(t){t.validateFieldName(i,e.annot.info.fieldType).then((function(o){o?t.moveControl(n,i,a).then((function(t){if(!t)throw e.$name.val(n),new Error("Rename field error.");e.setLabel(e.annot),e.emitAnnotUpdateEvent(tt.titleUpdated,!1)})):(e.$name.val(n),e.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))})),this.$exportValue.on("change",(function(t){var i=e.annot.getField(),n=Qe(t.target).val().trim();n||(e.$exportValue.val(at),n=at),e.annot.getField().setExportValue(e.annot.info.control,n).then((function(e){i.setValue(n).then((function(e){return i.setDefaultValue(n)}))}))})),this.$label.on("input",(function(t){var i=Qe(t.target).val().trim();e.annot.setWidgetMkCaption("",i)})),this.$required.on("input",(function(t){e.annot.getField().setRequired(Qe(t.target).prop("checked")),e.emitAnnotUpdateEvent(tt.flagsUpdated,!0)})),this.$allProperties.on("click",(function(t){e.hide();var i=e.PDFUI.editingMgr.getAllActiveWidgets();i&&0!==i.length&&e.PDFUI.editingMgr.setFocusWidget(i[0],!0)})),this.$allProperties.on("keyup",(function(e){13==e.keyCode&&e.target.click()}))}},{key:"destroy",value:function(){this.isDestroyed||(this.destroyHook.forEach((function(e){return e()})),this.destroyHook=[],Qe(document).off("mousedown"),Qe(this.$pageContainer).off("mousedown"),this.$dialog&&this.$dialog.off("mousedown"),this.$required&&this.$required.off("change"),this.$allProperties&&this.$allProperties.off("click"),this.dialog&&this.dialog.destroy(),this.isDestroyed=!0)}},{key:"emitAnnotUpdateEvent",value:function(e,t){this.PDFUI.eventEmitter.emit(Ze.annotationUpdated,[this.annot],this.annot.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(Ze.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())}}]),e}(),rt=__webpack_require__(737),lt=__webpack_require__.n(rt),st=UIExtension.vendors.jQuery;const dt=function(){function e(t){(0,i._)(this,e),this.pdfViewer=t,this.$ui=st('<canvas class="fv_shapes_ui"></canvas>')}return(0,n._)(e,[{key:"initPageShapes",value:function(e){if(!this.targetPage||this.targetPage.index!=e)return(this.targetPage=this.pdfViewer.getPDFDocRender().getPDFPageRender(e)).$ui.append(this.$ui.show()),this}},{key:"setTarget",value:function(e){return this.target=e,this}},{key:"getPositions",value:function(){var e=this.$ui.offset(),t=this.$ui.parent().offset(),i=this.pdfViewer.getPDFDocRender(),n=this.target.getPage(),a=i.getPDFPageRender(n.getIndex()),o=e.left+1-t.left,r=e.top+1-t.top;return this.rects.map((function(e){return n.reverseDeviceRect({left:e.left+o,top:e.top+r,right:e.right+o,bottom:e.bottom+r},a.scale,a.rotate)}))}},{key:"drawShape",value:function(e){var t=e.columns,i=void 0===t?this.columns:t,n=e.rows,a=void 0===n?this.rows:n,o=e.marginLeft,r=void 0===o?this.marginLeft:o,l=e.marginTop,s=void 0===l?this.marginTop:l;this.$ui.show();var d=this.target.getPage().getIndex();this.initPageShapes(d),this.columns=i,this.rows=a,this.marginLeft=r,this.marginTop=s;var c=this.calculateRects(d,this.target,i,a,r,s);this.$ui.attr(c).css(c);var u=this.$ui[0],p=u.getContext("2d");p.clearRect(0,0,u.offsetWidth,u.offsetHeight),p.save(),p.beginPath(),p.strokeStyle="blue",p.lineWidth=2,this.rects.forEach((function(e){p.rect(e.left+1,e.top+1,e.width,e.height)})),p.stroke(),p.restore()}},{key:"move",value:function(e){var t=this.$ui.offset(),i=this.$ui.width(),n=this.$ui.height(),a=this.$ui.parent().width(),o=this.$ui.parent().height(),r=this.$ui.parent().offset(),l=t.left-r.left,s=t.top-r.top;switch(e){case"Left":l-2<0?l=1:l-=2;break;case"Right":l+i+2>a?l=a-i-1:l+=2;break;case"Up":s-2<0?s=1:s-=2;break;case"Down":s+2+n>o?s=o-n-1:s+=2}this.$ui.css({left:l,top:s})}},{key:"getMaxSize",value:function(e,t,i,n){var a=this.pdfViewer.getPDFDocRender().getPDFPageRender(e),o=(t=a.page.getDeviceRect(t,a.scale,a.rotate)).right-t.left,r=t.bottom-t.top;return[1+Math.floor((a.getShowWidth()-t.left-o)/(i+o)),1+Math.floor((a.getShowHeight()-t.top-r)/(n+r))]}},{key:"calculateRects",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=this.pdfViewer.getPDFDocRender().getAnnotRender(e,t.getId()).component.getRect(),l=r.right-r.left,s=r.bottom-r.top,d=this.rects=[],c=0;c<i;c++)for(var u=r.left+(a+l)*c,p=0;p<n;p++){var f=r.top+(o+s)*p;d.push({left:u-r.left,right:u+l-r.left,width:l,top:f-r.top,bottom:f+s-r.top,height:s})}return{left:r.left-1,top:r.top-1,width:l+(l+a)*(i-1)+2,height:s+(s+o)*(n-1)+2}}},{key:"show",value:function(){this.$ui.css("opacity",1).show()}},{key:"hide",value:function(){this.targetPage=null,this.$ui.hide()}},{key:"invisible",value:function(){return this.$ui.css("opacity",0),!1}},{key:"destroy",value:function(){delete this.pdfViewer,this.$ui.remove(),delete this.$ui}}]),e}();var ct=UIExtension.vendors.jQuery,ut=UIExtension.UIConsts.COMPONENT_EVENTS,pt=function(){function e(t){var n=this;(0,i._)(this,e),this.PDFUI=t;var a=lt()();this.dialog=t.parseTemplate(a),this.$element=ct(this.dialog.element),this.PDFUI.getPDFViewer().then((function(e){n.PDFViewer=e,n.previewer=new dt(e),n.onEvent()})),this.PDFUI.getRootComponent().then((function(e){e.append(n.dialog),n.dialog.localize(),n.dialog.mounted()})),this.destroyHooks=[]}return(0,n._)(e,[{key:"show",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.target=e,this.callback=i,this.PDFUI.getRootComponent().then((function(i){var n=(0,u._)(t.updateSize(t.target),2),a=n[0],o=n[1],r=t.$element.find("#columnSize").attr("max",o),l=t.$element.find("#rowSize").attr("max",a);a<2?l.val("1"):a=2,o<2?r.val("1"):o=2,t.dialog.open(i.element),t.previewer.setTarget(e).drawShape({columns:a,rows:o,marginLeft:10,marginTop:5})})),this}},{key:"onEvent",value:function(){var e=this,t=this.$element.find("#rowSize");t.on("change",(function(i){var n=i.target.value;isNaN(n)&&(n=e.maxColum<2?1:0,t.val(n)),(n=+n)<=0&&(n=1,t.val(1)),n>e.maxColum&&(n=e.maxColum,t.val(n)),e.previewer.drawShape({columns:n})}));var i=this.$element.find("#columnSize");i.on("change",(function(t){var n=t.target.value;isNaN(n)&&(n=e.maxRow<2?1:0,i.val(n)),(n=+n)<=0&&(i.val(1),n=1),n>e.maxRow&&(n=e.maxRow,i.val(n)),e.previewer.drawShape({rows:n})}));var n=this.$element.find("#marginHorizon"),a=this.$element.find("#marginVertical");n.on("change",(function(o){var r=o.target.value;(isNaN(r)&&(r=10,n.val("10")),(r=+r)<0&&(r=0,n.val("0")),r)&&(r=e.getMaxSpace(!0)[0],n.val(r));var l=(0,u._)(e.updateSize(e.target,r,+a.val()),2),s=l[0],d=l[1];t.attr("max",s),i.attr("max",d),e.previewer.drawShape({marginLeft:r})})),a.on("change",(function(o){var r=o.target.value;(isNaN(r)&&(r=5,a.val("5")),(r=+r)<0&&(r=0,a.val("0")),r)&&(r=e.getMaxSpace()[1],a.val(r));var l=(0,u._)(e.updateSize(e.target,+n.val(),r),2),s=l[0],d=l[1];t.attr("max",s),i.attr("max",d),e.previewer.drawShape({marginTop:r})})),this.$element.find("#moveLeft").on("click",(function(t){e.previewer.move("Left")})),this.$element.find("#moveRight").on("click",(function(t){e.previewer.move("Right")})),this.$element.find("#moveUp").on("click",(function(t){e.previewer.move("Up")})),this.$element.find("#moveDown").on("click",(function(t){e.previewer.move("Down")}));var o=this.$element.find(".fv__ui-dialog-cancel-button");o.on("click",(function(t){e.hide(),e.reset()}));var r=this.$element.find("#MPSubmit");r.on("click",(function(t){var i=e.$element.find("#sameName").is(":checked"),n=e.$element.find("#columnSize").val(),a=e.$element.find("#rowSize").val();e.callback(e.target,i,n,a,e.previewer.getPositions()),e.hide(),e.reset()}));var l=this.$element.find("#preview");l.on("change",(function(t){l.is(":checked")?e.previewer.show():e.previewer.invisible()}));var s=function(t){e.hide(),e.reset(),e.callback()};this.dialog.on(ut.HIDDEN,s),this.dialog.on(ut.CANCEL,s),this.destroyHooks.push((function(e){columnSize.off("change"),rowSize.off("change"),n.off("change"),a.off("change"),l.off("change"),o.off("click"),r.off("click")}))}},{key:"reset",value:function(){this.$element.find("#rowSize").val(2),this.$element.find("#columnSize").val(2),this.$element.find("#marginHorizon").val(10),this.$element.find("#marginVertical").val(5),this.$element.find("#preview").attr("checked","1")}},{key:"hide",value:function(){this.dialog.hide(),this.previewer.hide()}},{key:"updateSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=e.getRect(),a=(0,u._)(this.previewer.getMaxSize(e.getPage().getIndex(),n,t,i),2),o=a[0],r=a[1];return this.maxColum=o,this.maxRow=r,[o,r]}},{key:"destroy",value:function(){delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.callback,this.shapes.destroy(),delete this.shapes,delete this.$element,delete this.PDFViewer,this.destroyHooks.forEach((function(e){return e()})),this.destroyHooks=[]}},{key:"getMaxSpace",value:function(e){var t=this.target,i=t.getPage().getIndex(),n=this.PDFViewer.getPDFDocRender(),a=n.getPDFPageRender(i),o=n.getAnnotRender(i,t.getId()).component.getRect(),r=o.right-o.left,l=o.bottom-o.top,s=+this.$element.find("#columnSize").val(),d=+this.$element.find("#rowSize").val(),c=+this.$element.find("#marginHorizon").val(),u=+this.$element.find("#marginVertical").val();return e?o.left+r+(r+c)*(d-1)>a.getShowWidth()&&(c=Math.floor((a.getShowWidth()-r*d-o.left)/(d-1))):o.top+u*(s-1)+l*s>a.getShowHeight()&&(u=Math.floor((a.getShowHeight()-l*s-o.top)/(s-1))),[c,u]}}]),e}(),ft=__webpack_require__(45),vt=__webpack_require__.n(ft),gt=UIExtension.vendors.jQuery,mt=function(){function e(t){var n=this;(0,i._)(this,e),this.PDFUI=t;var a=vt()();this.dialog=t.parseTemplate(a),this.PDFUI.getRootComponent().then((function(e){e.append(n.dialog),n.dialog.localize(),n.dialog.mounted()})),this.onEvent()}return(0,n._)(e,[{key:"show",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return this.PDFUI.getRootComponent().then((function(e){t.dialog.open(e.element)})),this.PDFUI.getCurrentPDFDoc().then((function(e){var i=e.getPageCount();gt(t.dialog.element).find(".fv_range-start").attr("max",i).val("1"),gt(t.dialog.element).find(".fv_range-end").attr("max",i).val(i),gt(t.dialog.element).find(".fv_range-page-count").text(i)})),this.target=e,this.callback=a,this.maxValue=i,this.except=n,this}},{key:"onEvent",value:function(){var e=this,t=gt(this.dialog.element);t.find(".duplicateChoice").on("change",(function(e){if("range"===e.target.value)t.find(".fv_range").removeAttr("disabled").removeClass("disabled");else t.find(".fv_range").attr("disabled","1").addClass("disabled").val(""),t.find(".fv_duplicate-msg").html(""),t.find(".error").removeClass("error")})),t.find(".fv__ui-dialog-cancel-button").on("click",(function(t){e.hide()})),t.find(".fv__ui-dialog-ok-button").on("click",(function(i){var n=t.find(".duplicateChoice:checked").val(),a=t.find(".fv_range-start").val();if(isNaN(a))t.find(".fv_range-start").addClass("error");else{var o=t.find(".fv_range-end").val();if(isNaN(a))t.find(".fv_range-end").addClass("error");else if("range"!=n||e.checkRange(t.find(".fv_range-start"),t.find(".fv_range-end"))){var r=[],l=e.maxValue,s=e.except;switch(n){case"all":for(var d=1;d<=l;d++)-1==s.indexOf(d)&&r.push(d-1);break;case"odd":for(var c=1;c<=l;c+=2)-1==s.indexOf(c)&&r.push(c-1);break;case"even":for(var u=2;u<=l;u+=2)-1==s.indexOf(u)&&r.push(u-1);break;case"range":for(var p=parseInt(a);p<=parseInt(o);p++)-1==s.indexOf(p)&&r.push(p-1)}e.hide(),e.callback(e.target,r)}}})),t.find(".fv_range").on("change",(function(i){var n=t.find(".fv_range-start"),a=t.find(".fv_range-end");n.val().length&&a.val().length&&e.checkRange(n,a)})),this.dialog.on("hidden",(function(t){e.callback()}))}},{key:"hide",value:function(){gt(this.dialog.element).find(".defaultOpt").click(),this.dialog.hide()}},{key:"checkRange",value:function(e,t){var i=gt(this.dialog.element);if(i.find(".error").removeClass("error"),+e.val()>+t.val())return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRange")),e.addClass("error"),t.addClass("error"),!1;for(var n=0;n<2;n++){var a=0==n?e:t,o=+a.val();if(o-1<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeStart")),a.addClass("error"),!1;if(this.maxValue-o<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeEnd").replace("{max}",this.maxValue)),a.addClass("error"),!1;a.removeClass("error")}return i.find(".fv_duplicate-msg").html(""),!0}},{key:"destroy",value:function(){var e=gt(this.dialog.element);e.find(".duplicateChoice").off("change"),e.find(".fv__ui-dialog-cancel-button").off("click"),e.find(".fv__ui-dialog-ok-button").off("click"),e.find(".fv_range").off("change"),delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.maxValue,delete this.except}}]),e}(),ht=__webpack_require__(35),_t=__webpack_require__.n(ht),bt=UIExtension.vendors.jQuery,yt=function(){function e(t){(0,i._)(this,e),this.pdfUI=t,this.dialog=t.parseTemplate(_t()({fields:[]})),this.dialog.localize(),this.dialog.mounted(),this.$element=bt(this.dialog.element),this.bindEvent()}return(0,n._)(e,[{key:"show",value:function(e,t){var i=this,n=this.$element,a="";return this.oriOrder=e.join("\n"),e.forEach((function(e,t){a+='<div class="fv_CO-item '.concat(t?"":"active",'">').concat(e,"</div>")})),n.find(".fv__fields-list")[0].innerHTML=a,n.find("#COOK,#upButton").addClass("disabled"),n.find("#downButton").toggleClass("disabled",e.length<2),this.pdfUI.getRootComponent().then((function(e){i.dialog.open(e.element)})),this.callback=t,this.last=e.length-1,this}},{key:"hide",value:function(){this.dialog.hide()}},{key:"bindEvent",value:function(){var e=this,t=this.$element;t.on("click",".fv_CO-item",(function(i){t.find(".active").removeClass("active");var n=bt(i.target).addClass("active"),a=n.get(0);a.scrollIntoViewIfNeeded?a.scrollIntoViewIfNeeded():a.scrollIntoView({}),e.updateBtn(n.index())})),t.on("click","#upButton",(function(i){var n=t.find(".active").index();e.moveItemTo(n,n-1)})),t.on("click","#downButton",(function(i){var n=t.find(".active").index();e.moveItemTo(n,n+1)})),t.on("click","#COCancel",(function(t){return e.dialog.hide()})),t.on("click","#COOK",(function(t){var i=[];e.$element.find(".fv__fields-list>div").each((function(e,t){i.push(t.innerText)})),e.callback(i),e.hide()}))}},{key:"destroy",value:function(){}},{key:"updateBtn",value:function(e){var t=this.$element;t.find("#upButton").toggleClass("disabled",0==e),t.find("#downButton").toggleClass("disabled",e==this.last)}},{key:"moveItemTo",value:function(e,t){var i=this.$element.find(".fv__fields-list"),n=bt(i.children()[e]),a=bt(i.children()[t]);n.toggleClass("active"),a.toggleClass("active"),a.focus();var o=n.text();if(n.text(a.text()),a.text(o),this.updateBtn(t),a[0].scrollIntoViewIfNeeded)a[0].scrollIntoViewIfNeeded();else{a[0].scrollIntoView({block:"nearest",behavior:"smooth",inline:"nearest"})}this.$element.find("#COOK").toggleClass("disabled",i[0].innerText==this.oriOrder)}}]),e}(),xt={FoxitFixedOTF:"Courier",FoxitSansMM:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},Ct={1:"thin",2:"medium",3:"thick"},Ft="is-first-create-field";function wt(e,t,a,l){return function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"changePermission",value:function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e&&e.getUserPermission().getValue()})).then((function(i){var n=!e||e.isDestroyed,a=!n&&e.checkPermission(l.annotForm)&&e.checkPermission(l.modify);!n&&i&t.constructor.permission&&a&&!e.isStaticXFA()&&!e.isDynamicXFA()?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))}},{key:"handle",value:function(){r(o(a.prototype),"handle",this).call(this)}}]),a}(t.ext(a,e))}var kt,St=PDFViewCtrl.PDF.form.constant.Field_Type,At=m.UIEvents,Et=function(e){s(o,e);var a=v(o);function o(e){var t;return(0,i._)(this,o),(t=a.call(this,e)).textSizeList=["auto","6","8","10","12","14","16","18","20","22","24","26","28","30","32"],t.fontNameList=["Times Roman","Times Bold","Times Italic","Times BoldItalic","Helvetica","Helvetica Bold","Helvetica Oblique","Helvetica BoldOblique","Courier","Courier Bold","Courier Oblique","Courier BoldOblique","Symbol","ZapfDingbats"],e.editElement&&(e.editElement.style["text-align"]="left",e.editElement.addEventListener("blur",(function(i){if(!e.disabled){var n=e.editElement.value;t.selectFontSize(n)}}))),t}return(0,n._)(o,[{key:"update",value:function(){var e=this;return t((function(){var t,i,n;return g(this,(function(a){switch(a.label){case 0:return[4,e.getPDFUI().formDesignDialog.waitForInitBinding];case 1:return t=e.binding=a.sent(),"textSize"===e.component.name&&((i=t.getDAFontSize())===Ee||i===$e?e.component.setEditValue(""):e.component.setEditValue(i)),(n=t.getFieldTypes()).indexOf(St.Sign)>-1||n.indexOf(St.CheckBox)>-1||n.indexOf(St.RadioButton)>-1?e.component.disable():e.component.enable(),[2]}}))}))()}},{key:"postlink",value:function(){var e=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(At.activeElementChanged,(function(t){e.update()}))),this.update()}},{key:"selectFontSize",value:function(e){this.component.setEditValue(e),e=Number.parseFloat(e),Number.isNaN(e)&&(e=0),this.binding&&e!==this.binding.getDAFontSize()&&(this.binding.setDefaultAppearance({textSize:e}),this.binding.updateUI({type:"textSize",value:e}),this.pdfUI.eventEmitter.emit(S.fieldFontSizeChanged,e))}},{key:"selectFontName",value:function(e){if(this.component.setEditValue(e),this.binding){this.binding.setDefaultAppearance({fontName:e});var t={type:"fontName",value:e};this.binding.updateUI(t)}}}],[{key:"getName",value:function(){return"FieldPropertiesAppearanceController"}}]),o}(m.Controller);!function(e){e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_DISTANCE="createDistance",e.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",e.STATE_HANDLER_CREATE_AREA="createArea",e.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",e.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",e.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",e.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",e.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",e.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",e.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",e.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",e.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",e.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT="createDocumentAttachment"}(kt||(kt={}));var $t,Dt=kt.STATE_HANDLER_HAND,Tt=(kt.STATE_HANDLER_CHECK_THE_SEARCH,kt.STATE_HANDLER_CREATE_CARET),Pt=kt.STATE_HANDLER_CREATE_ARROW,Rt=kt.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,It=(kt.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,kt.STATE_HANDLER_CREATE_CIRCLE),Lt=kt.STATE_HANDLER_CREATE_FILE_ATTACHMENT,Ot=kt.STATE_HANDLER_CREATE_HIGHLIGHT,Nt=kt.STATE_HANDLER_CREATE_IMAGE,Vt=kt.STATE_HANDLER_CREATE_LINK,Ut=kt.STATE_HANDLER_CREATE_LINE,Mt=kt.STATE_HANDLER_CREATE_DISTANCE,Bt=kt.STATE_HANDLER_CREATE_PERIMETER,Ht=kt.STATE_HANDLER_CREATE_AREA,Wt=kt.STATE_HANDLER_CREATE_CIRCLE_AREA,jt=kt.STATE_HANDLER_CREATE_PENCIL,zt=kt.STATE_HANDLER_CREATE_POLYGON_CLOUD,qt=kt.STATE_HANDLER_CREATE_POLYGON,Kt=kt.STATE_HANDLER_CREATE_POLYLINE,Gt=kt.STATE_HANDLER_CREATE_REPLACE,Jt=kt.STATE_HANDLER_CREATE_SQUARE,Xt=kt.STATE_HANDLER_CREATE_SQUIGGLY,Yt=kt.STATE_HANDLER_CREATE_STAMP,Qt=kt.STATE_HANDLER_CREATE_STRIKE_OUT,Zt=kt.STATE_HANDLER_CREATE_TEXT,ei=kt.STATE_HANDLER_CREATE_UNDERLINE,ti=(kt.STATE_HANDLER_MARQUEE,kt.STATE_HANDLER_ERASER,kt.STATE_HANDLER_LOUPE,kt.STATE_HANDLER_SELECT_TEXT_ANNOTATION,kt.STATE_HANDLER_SELECT_TEXT_IMAGE,kt.STATE_HANDLER_SELECT_ANNOTATION,kt.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER),ii=kt.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,ni=kt.STATE_HANDLER_CREATE_FREETEXT_BOX,ai=(kt.STATE_HANDLER_SNAPSHOT_TOOL,kt.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT,kt.STATE_HANDLER_CREATE_FIELD_TEXT,kt.STATE_HANDLER_CREATE_FIELD_SIGNATURE,kt.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,kt.STATE_HANDLER_CREATE_RADIO_BUTTON,a($t={},Zt,"text"),a($t,Ot,"highlight"),a($t,Qt,"strikeout"),a($t,ei,"underline"),a($t,Xt,"squiggly"),a($t,Gt,"strikeout"),a($t,Tt,"caret"),a($t,ti,"freetext"),a($t,ii,"freetext"),a($t,ni,"freetext"),a($t,Jt,"square"),a($t,It,"circle"),a($t,Ut,"line"),a($t,Pt,"line"),a($t,qt,"polygon"),a($t,Kt,"polyline"),a($t,zt,"polygon"),a($t,Rt,"highlight"),a($t,jt,"ink"),a($t,Yt,"stamp"),a($t,Mt,"line"),a($t,Bt,"polyline"),a($t,Ht,"polygon"),a($t,Wt,"circle"),a($t,Lt,"fileattachment"),a($t,Nt,"screen"),a($t,Vt,"link"),a($t,"create-multi-media-state","screen"),a($t,"create-redaction-text-image-state","redact"),a($t,"create-redaction-state","redact"),[]),oi=m.PDFViewCtrl.ViewerEvents,ri=function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"init",value:function(){r(o(a.prototype),"init",this).call(this),this.taskExecutor=new m.PDFViewCtrl.shared.QueuedAsyncTaskExecutor,this.isAssistantEnabled=!1}},{key:"onclick",value:function(){var e=this,t=this.getPDFUI();this.taskExecutor.exec((function(){return e.isAssistantEnabled?t.stopFormDesginerAssist():t.startFormDesginerAssist()}))}},{key:"mounted",value:function(){var e=this;r(o(a.prototype),"mounted",this).call(this);var t=this.getPDFUI(),i=function(){t.getStateHandlerManager().then((function(t){var i=t.getCurrentStates();i&&e.handleStateHandlerChange(i)}))};this.addDestroyHook(t.addViewerEventListener(oi.designerAssistantStatusChanged,(function(t){e.isAssistantEnabled=t,t?e.active():e.deactive()})),t.addViewerEventListener(oi.switchStateHandler,(function(t,i){t&&e.handleStateHandlerChange(t,i)})),t.addViewerEventListener(oi.renderFileSuccess,i)),i()}},{key:"handleStateHandlerChange",value:function(e,t){var i=this,n=this.getPDFUI(),a=e.getStateName();if(ai.indexOf(a)>-1){if(t){var o=t.getStateName();if(ai.indexOf(o)>-1)return}if(this.enable(),this.isAssistantEnabled)return void this.active();this.taskExecutor.exec((function(){return n.startFormDesginerAssist()}))}else this.taskExecutor.exec((function(){return n.stopFormDesginerAssist().then((function(){i.disable()}))}))}}],[{key:"getName",value:function(){return"assistant-button"}}]),a}(m.SeniorComponentFactory.createSuperClass({template:'\n        <ribbon-button\n            text="form-designer:assistant.button-text" \n            icon-class="fv__icon-toolbar-designer-assistant"\n            name="form-assistant-button"\n            @tooltip \n            tooltip-title="form-designer:assistant.button-tooltip"\n            @on.click="$component.onclick()"\n        ></ribbon-button>\n    '})),li=m.PDFViewCtrl.ViewerEvents,si=m.vendors.Hammer;__webpack_require__(70);var di=m.PDFViewCtrl.keyboard,ci=(di.Keyboard,di.BuiltinCommand),ui=di.BuiltinShortcutContext,pi=m.PDFViewCtrl.shared.Disposable,fi=m.ServiceScope,vi=m.PDFViewCtrl.keyboard.interceptors.preventDefaultInterceptor,gi=function(e){s(r,e);var o=v(r);function r(){var e;return(0,i._)(this,r),a(p(e=o.call(this)),"pdfui",void 0),e}return(0,n._)(r,[{key:"serviceInjected",value:function(){var e=this;this.pdfui.getPDFViewer().then((function(i){var n,a=e;i.addEventListener("alignment",(n=t((function(e){var t,i,n;return g(this,(function(o){switch(o.label){case 0:return t=e.offsetWidth,i=e.offsetHeight,[4,a.pdfui.getAllActiveElements()];case 1:return(n=o.sent())&&0!==n.length?(n.forEach((function(e){a.setWidgetDeviceWidthHeight(e,{offsetWidth:t,offsetHeight:i},!0)})),[2]):[2]}}))})),function(e){return n.apply(this,arguments)})),e.bindShortcut(i)}))}},{key:"bindShortcut",value:function(e){var t=this,i=function(t,i){var n=e.getAllActiveElements();n&&0!==n.length&&i(t)};e.getKeyboard().withContext(ui.ACTIVATION_WIDGET,(function(n){t.addDestroyHook(n.keydown(ci.ALIGNMENT_REDUCE_HEIGHT,(function(){e.eventEmitter.emit("alignment",{offsetHeight:-1})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_RAISE_HEIGHT,(function(){e.eventEmitter.emit("alignment",{offsetHeight:1})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_REDUCE_WIDTH,(function(){e.eventEmitter.emit("alignment",{offsetWidth:-1})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_RAISE_WIDTH,(function(){e.eventEmitter.emit("alignment",{offsetWidth:1})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_REDUCE_STEP_HEIGHT,(function(){e.eventEmitter.emit("alignment",{offsetHeight:-10})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_RAISE_STEP_HEIGHT,(function(){e.eventEmitter.emit("alignment",{offsetHeight:10})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_REDUCE_STEP_WIDTH,(function(){e.eventEmitter.emit("alignment",{offsetWidth:-10})}),{interceptors:[i,vi()]}),n.keydown(ci.ALIGNMENT_RAISE_STEP_WIDTH,(function(){e.eventEmitter.emit("alignment",{offsetWidth:10})}),{interceptors:[i,vi()]}))}))}},{key:"setWidgetDeviceWidthHeight",value:function(e,t){var i=t.deviceWidth,n=t.deviceHeight,a=t.offsetWidth,o=t.offsetHeight,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=e.pageRender||e.annotsRender.pageRender,s=e.annot,d=s.page,c=l.getScale(),u=l.getRotation(),p=this.getWidgetDeviceRect(e);if(void 0!==i?p.right=p.left+i:void 0!==a&&(p.right+=a),void 0!==n?p.bottom=p.top+n:void 0!==o&&(p.bottom+=o),r&&this.isBoundsOut(l,p))return Promise.resolve();if(p=this.checkBoundsOut(l,p),"widget"===s.getType()){var f=d.reverseDeviceRect(p,c,u);return s.setRect(f).then((function(){if(s.updateUI){s.updateUI({});var e=s.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t);var i=l.getAnnotRender(s.getId()).component;i.render(i.scale,i.rotate,!0)}}))}var v=l.getAnnotRender(s.getId()).component;return v.setRect({left:p.left,top:p.top,width:p.right-p.left,height:p.bottom-p.top}).then((function(e){v.movedByOther()}))}},{key:"getWidgetDeviceRect",value:function(e){var t=e.annot,i=e.pageRender||e.annotsRender.pageRender,n=i.getScale(),a=i.getRotation();return t.getDeviceRect(n,a)}},{key:"isBoundsOut",value:function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),l=r.deviceHeight,s=r.deviceWidth;return i<0||n<0||a>l||o>s}},{key:"getPageDeviceInfo",value:function(e){return{deviceWidth:e.getShowWidth(),deviceHeight:e.getShowHeight()}}},{key:"checkBoundsOut",value:function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),l=r.deviceHeight,s=r.deviceWidth;return i<0&&(i=0),n<0&&(n=0),o>s?(n-=o-s,o=s):o-n<10&&(o=n+10),a>l?(i-=a-l,a=l):a-i<10&&(a=i+10),{top:i,left:n,bottom:a,right:o}}}],[{key:"scope",value:function(){return fi.SINGLETON}},{key:"inject",value:function(){return{pdfui:m.PDFUI}}},{key:"isLazy",value:function(){return!1}}]),r}(pi),mi=UIExtension.vendors.Hammer,hi=(PDFViewCtrl.shared.activation.ActivationGroup,PDFViewCtrl.keyboard),_i=hi.BuiltinShortcutContext,bi=hi.BuiltinCommand,yi=hi.interceptors,xi=PDFViewCtrl.shared.keyboardStatus,Ci=PDFViewCtrl.BrowserInfo,Fi=Ci.isIE,wi=Ci.isIE10,ki=PDFViewCtrl.ViewerEvents,Si=PDFViewCtrl.PDF.annots.constant.Annot_Flags,Ai=UIExtension.vendors.jQuery,Ei=function(){function e(t,n,a,o){var r=this;(0,i._)(this,e),this.editingMgr=t,this.pdfViewer=t.pdfViewer,this.pageRender=n,this.widget=a,this.annot=a;var l=a.getField().getName(),s=this.$ui=Ai('<div class=\'fv_\'>\n                <div class="fv_form-editing-label">\n                    <div class="fv_form-editting-label-text"></div>\n                </div>\n            </div>');n.$ui.find(".fv__pdf-form-designer-container").append(s),this.$label=s.find(".fv_form-editing-label"),this.$label.find(".fv_form-editting-label-text").text(l),this.shapeControl=new PDFViewCtrl.ShapeControl({emitter:this.pdfViewer.eventEmitter,prestart:function(e,t,i){return r.shapeControlOnStart(e,t,i)},moving:function(e,t){return r.shapeControlOnMoving(e,t)},end:function(e,t,i){return r.shapeControlOnEnd(e,t,i)},afterEnd:function(e){return r.onAfterShapeCtrlEnd(e)},resizable:!0,enableDiagonally:!0,auxiliaryLine:void 0}),this.shapeControl.ui.setAttribute("tabindex",-1),this.bindEvent(),this.active(o)}return(0,n._)(e,[{key:"getAnnotFlag",value:function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)}},{key:"shapeControlOnStart",value:function(e,t,i){this.hideSimpleProperties()}},{key:"shapeControlOnMoving",value:function(e,t){this.$label.css(e)}},{key:"onAfterShapeCtrlEnd",value:function(){this.shapeControl.clearCompanions()}},{key:"shapeControlOnEnd",value:function(e,t,i){var n=this,a=this.pageRender.getAnnotRender(this.widget.getId()).component;e.right=e.left+e.width,e.bottom=e.top+e.height,n.$label.css(e),n.pageRender.reverseDeviceRect(e).then((function(e){return a.annot.setRect(e)})).then((function(e){return a.render(a.scale,a.rotate,!0)})).then((function(e){var t=n.widget.getField(),i=t.getType();if(4===i||6===i){var a=t.getDisplayValue();a&&t.showDisplayValue(a)}}))}},{key:"bindEvent",value:function(){var e=this,t=this.$ui,i=this.editingMgr,n=this.hammer=new mi.Manager(t[0]);n.add(new mi.Tap({event:"doubletap",taps:2})),n.add(new mi.Tap({event:"singletap",interval:100})),n.get("doubletap").recognizeWith("singletap"),n.get("singletap").requireFailure("doubletap"),n.on("singletap",(function(t){e.pdfViewer.isMultiSelectActive()&&e.editingMgr.getAllActiveWidgets().find((function(t){return t===e}))&&!xi.isShiftDown?i.unActiveElement(e):i.activeElement(e)})),n.on("doubletap",(function(t){var n=t.srcEvent.ctrlKey;i.activeElement(e,n),e.editingMgr.isMultipleSelection()||i.setFocusWidget(e,!0)})),t.on("contextmenu",(function(t){if(t.ctrlKey)return t.preventDefault(),void t.stopPropagation();var n=!1;return i.pdfui.getComponentByName("fv-field-sidebar-panel").then((function(e){if(!e||!e.isStartResetNumber)return i.pdfui.getComponentByName("contextmenu-form-designer")})).then((function(a){if(a){a.trigger("shown"),!e.isActive&&i.activeElement(e);var o=7==e.widget.getField().getType();o?a.children().forEach((function(e){-1===["propertiesMenu","deleteTarget","setTabOrdern","alignment-menu","fv--contextmenu-item-field-store-props"].indexOf(e.name)&&e.hide()})):a.children().forEach((function(e){e.show()}));var r=e.widget.getFlags(),l=a.getComponentByName("deleteTarget");r&Si.locked||r&Si.readOnly?l&&l.disable():l&&l.enable(),l=a.getComponentByName("copyToPage"),o||1==e.widget.page.doc.getPageCount()?l.disable():l.enable(),a.setCurrentTarget(e.widget),a.showAt(t.clientX,t.clientY);var s=!0,d=!1,c=void 0;try{for(var u,p=e.editingMgr.getAllActiveWidgets()[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){if(128&u.value.widget.getFlags()){n=!0;break}}}catch(e){d=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(d)throw c}}return i.pdfui.getComponentByName("dropdown-align")}})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>1?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-distribute")})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>2?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-size")})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>1?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-center")})).then((function(e){e&&(n?e.disable():e.enable())})),!1}));var a=this.$ui[0],o=wi?"MSPointerDown":"pointerdown",r=function(t){if(e.hideSimpleProperties(),1===t.which&&!e.pdfViewer.isMultiSelectActive()){var n,r;e.isActive||(i.activeElement(e,!0),(r=a.querySelector(".fv__shape-control-move-area"))&&(Fi?((n=document.createEvent("MouseEvent")).initMouseEvent(o,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),n.pointerId=t.pointerId):n=new PointerEvent("pointerdown",t),r.dispatchEvent(n)))}};a.addEventListener(o,r),this.pdfViewer.addDestroyHook((function(){n.destroy(),a.removeEventListener(o,r)}))}},{key:"hideSimpleProperties",value:function(){this.pdfViewer.getStore().dispatch(Ye,!0)}},{key:"active",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.widget.getField(),i=t&&t.eSignChina,n=this.editingMgr.pdfui.customs.isAccountExpired;if(!(!!n&&n(!1))||i){if(e&&(this.$label.addClass("active"),this.shapeControl.show(),this.shapeControl.ui.focus(),this.isActive=!0,this.editingMgr.setFocusWidget(this)),this.$ui.addClass("fv_form-editing"),this.updateSize(),Si.locked&this.widget.getFlags()?this.shapeControl.disable():this.shapeControl.enable(),this.isActive){var a=this.widget.getId(),o=this.pageRender.getAnnotRender(a);o&&this.pdfViewer.eventEmitter.emit(ki.activeAnnotation,o,a,o.parent())}}else this.$ui.hide()}},{key:"changeSize",value:function(){var e=this.pageRender,t=e.page;if(e&&t){var i=t.getDeviceRect(this.widget.getRect(),this.pageRender.scale,this.pageRender.rotate);if(this.$label.css(i),this.shapeControl&&this.shapeControl.shape){var n=this.shapeControl.shape,a=n.boundary;i=n.freeBoundary||a}if(i.width=i.right-i.left,i.height=i.bottom-i.top,this.isActive){var o=this.shapeControl;o.active(this.$ui,i,{left:0,top:0,right:this.pageRender.getShowWidth(),bottom:this.pageRender.getShowHeight()});var r=e.pdfViewer.getSnapGrid();r&&(r=e.formatGridOptions(r),o.setSnapGrid(r))}}}},{key:"updateSize",value:function(){var e=this.pageRender,t=e.page;if(e&&t){var i=t.getDeviceRect(this.widget.getRect(),this.pageRender.scale,this.pageRender.rotate);if(i.width=i.right-i.left,i.height=i.bottom-i.top,this.$label.css(i),this.isActive){var n=this.shapeControl;n.active(this.$ui,i,{left:0,top:0,right:this.pageRender.getShowWidth(),bottom:this.pageRender.getShowHeight()});var a=e.pdfViewer.getSnapGrid();a&&(a=e.formatGridOptions(a),n.setSnapGrid(a))}}}},{key:"unActive",value:function(){this.$label&&this.$label.removeClass("active"),this.shapeControl.hide(),this.isActive=!1;var e=this.widget.getId(),t=this.pageRender.getAnnotRender(e);t&&this.pdfViewer.eventEmitter.emit(ki.unActiveAnnotation,t,e,t.parent())}},{key:"out",value:function(){this.hammer.destroy(),this.$label.remove(),this.$ui.off("mouseup contextmenu"),this.shapeControl.destroy(),this.shapeControl=null,this.$label=null,this.editingMgr=null,this.pageRender=null,this.$ui=null,this.isActive=!1}}]),e}(),$i=function(){function e(t,n,a,o,r){var l=this;(0,i._)(this,e),this.pdfui=t,this.pdfViewer=n,this.dialogs=a,this.annots={},this.pages={},this.propertyDialog=o,this.simplePropertiesDialog=r,this.simplePropertiesDialog.setLabel=this.propertyDialog.setLabel=function(e){e.getField().controls.forEach((function(e){l.updateLabel(e.getWidget())}))},this.shortcutEnable=!0;var s=n.getKeyboard(),d=function(e,t){l.shortcutEnable&&t(e)},c=function(e,t){l.getAllActiveWidgets().length&&t(e)};s.withContext(_i.ACTIVATION_ANY,(function(e){e.keydown(bi.DELETE_SELECTED_OBJECT,(function(){l.getAllActiveWidgets().forEach((function(e){var t=e.widget;l.removeAnnot(t)})),t.formDesignDialog.lockedHandler(!0)}),{interceptors:[d,yi.excludeEditableElementInterceptor(),c,yi.preventDefaultInterceptor()]})})),s.withContext(_i.ACTIVATION_WIDGET,(function(e){e.keydown(bi.UNSELECT_OBJECT,(function(){t.editingMgr.type&&Object.keys(l.dialogs).sort().some((function(e){var t=l.dialogs[e];t&&t.dialog&&t.dialog.isVisible&&t.hide()}))}),{interceptors:[c]})})),this._onRenderPageSuccessListener=function(e){for(var t in l.annots){var i=l.annots[t];i.widget.page.getIndex()===e.index&&i.changeSize()}},this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextSuccess,(function(){return l.copiedData=""})),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextFailed,(function(){return l.copiedData=""}))}return(0,n._)(e,[{key:"enableShortcut",value:function(e){this.shortcutEnable=e}},{key:"updateAnnots",value:function(e,t,i){var n=this;if("rect-updated"!=i){var a=this.focusedEle;a&&e.forEach((function(e){e==a.widget&&(Si.locked&e.getFlags()?a.shapeControl.disable():a.shapeControl.enable())}))}else e.forEach((function(e){var t=n.annots[e.getId()];t&&t.updateSize()}))}},{key:"updateLabel",value:function(e){this.annots[e.getId()].$ui.find(".fv_form-editting-label-text").text(e.getField().getName())}},{key:"destroy",value:function(){var e=this;this.pdfViewer.eventEmitter.off(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.clearEditingWidgets(),delete this.propertyDialog.setLabel,delete this.propertyDialog,this.pdfui=null,this.annots={},this.pages={},delete this.focusedEle,this.shortcuts&&(this.shortcuts.forEach((function(t){var i;(i=e.pdfViewer).offShortcutKey.apply(i,x(t))})),delete this.shortcuts),this.pdfViewer=null,delete this.pasteHandler,delete this.focusedEle}},{key:"startEditingMode",value:function(e){var t=this.pdfViewer;if(!t.customs.isCollaborationMode||!t.customs.isCollaborationMode()){try{t.getCurrentPDFDoc().getPDFForm().checkDesignPerm()}catch(e){return}this.type;switch(this.clearEditingWidgets(),e){case"select-annotation":this.type=8;break;case"CreatePushButtonStateHandler":case"CreateImageStateHandler":this.type=1;break;case"CreateCheckBoxStateHandler":this.type=2;break;case"CreateRadioButtonStateHandler":this.type=3;break;case"CreateComboBoxStateHandler":this.type=4;break;case"CreateListBoxStateHandler":this.type=5;break;case"CreateTextStateHandler":case"CreateDateStateHandler":this.type=6;break;case"CreateSignStateHandler":this.type=7;break;default:this.type=0,this.propertyDialog&&this.propertyDialog.hide()}this.showAllEditingWidget()}}},{key:"setFocusWidget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.propertyDialog.setAnnot(e.widget),this.propertyDialog.isOpened()&&!t&&this.propertyDialog.updateContent(),t&&this.propertyDialog.show(),this.focusedEle=e}},{key:"showAllFormHighLight",value:function(e){var t=this.pdfViewer.getPDFDocRender().formRender;t&&t.setRuntimeHighlight(e),this.pdfViewer.setHighlightControlsUI(!1)}},{key:"showAllEditingWidget",value:function(e){var t=this;if(this.type){this.pdfViewer.getIoC().getInstanceByClass(gi);var i=this.pdfViewer.getPDFDocRender();e||(e=i.getContainerVisiblePageIndexes()),e.forEach((function(e){if(!t.pages[""+e+t.type]){t.pages[""+e+t.type]=1;var n=i.getPDFPageRender(e);n.$ui.find(".fv__pdf-form-designer-container").remove(),n.$ui.append("<div class='fv__pdf-form-designer-container'></div>"),i.doc.getPageByIndex(e).then((function(e){return e.getAnnots()})).then((function(e){e.forEach((function(e){if("widget"===e.getType()){var i=e.getField();(i&&i.getType()==t.type||8==t.type)&&t.showEditingWidget(n,e,!1)}}))}))}}))}}},{key:"showEditingWidget",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.getField()){var n=new Ei(this,e,t,i);return this.annots[t.getId()]=n,n}}},{key:"afterWidgetsAdded",value:function(e,t){var i=this;if(this.type){var n=this.pdfViewer.getPDFDocRender();t.forEach((function(t){var a=n.getPDFPageRender(e);i.showEditingWidget(a,t,!1)}))}}},{key:"removeElement",value:function(e){var t=this.pdfViewer.getCurrentActivatable();t&&(this.isMultipleSelection()?t.remove&&t.remove(e):(t.clear&&t.clear(),t.add&&t.add(e)))}},{key:"activeElementByAnnotId",value:function(e,t,i){var n=this.annots[t];n&&this.activeElement(n,i)}},{key:"activeElement",value:function(e,t){this.pdfViewer.keyboard.defaultDeleteBinderName="formDesigner",this.pdfViewer.activeElement(e),this.pdfViewer.eventEmitter.emit(S.fieldActivated,e.widget,t)}},{key:"unActiveElement",value:function(e){this.pdfViewer.unActiveElement(e)}},{key:"clearEditingWidgets",value:function(){this.type=0,this.pages={};var e=!0;for(var t in this.annots)e=!1;if(!e){this.pdfui.activeElement(),delete this.focusedEle;var i=this.pdfViewer.getCurrentActivatable();for(var n in i&&(i.unActive(),i.clear&&i.clear()),this.annots)this.annots[n].unActive(),this.annots[n].out();this.annots={}}}},{key:"restoreHighlight",value:function(){}},{key:"isMultipleSelection",value:function(){return!!this.pdfViewer.isShortcutKeyEnabled()&&(PDFViewCtrl.DeviceInfo.isMac?xi.isWin:xi.isCtrl||xi.isShift||this.copying)}},{key:"removeAnnot",value:function(e){if(!(128&e.getFlags())){this.pdfViewer.getCurrentPDFDoc().getPDFForm().removeControl(e.getField().getName(),e.getObjNum()),this.pdfui.getComponentByName("contextmenu-form-designer").then((function(e){return e.hide()}));var t=this.annots[e.getId()];t&&(t.unActive(),t.out(),delete this.annots[e.getId()]);var i=-1;if(this.getAllActiveWidgets().forEach((function(t,n){t.widget==e&&(i=t)})),-1!==i){var n=this.pdfViewer.getCurrentActivatable();n&&n.remove&&n.remove(i)}this.pdfViewer.eventEmitter.emit(S.fieldRemove,[e],e.page)}}},{key:"zoom",value:function(e){for(var t in this.annots)this.annots[t].updateSize()}},{key:"getAllActiveWidgets",value:function(){return this.pdfViewer.getAllActiveElements().filter((function(e){return(0,d._)(e,Ei)}))}}]),e}(),Di=m.PDFViewCtrl.keyboard,Ti=(Di.BuiltinCommand,Di.BuiltinShortcutContext,m.PDFViewCtrl.keyboard.interceptors.preventDefaultInterceptor,function(e){s(o,e);var a=v(o);function o(e){var t;return(0,i._)(this,o),(t=a.call(this,e)).pdfUI=e.pdfUI,t}return(0,n._)(o,[{key:"mounted",value:function(){var e=this;this.contextmenu=this.component.getClosestComponentByType("contextmenu"),this.pdfUI.getPDFViewer().then((function(t){e.pdfViewer=t})),this.contextmenu.on("beforeshow",(function(t){e.pdfUI.getGroupCount().then((function(t){var i=(0,u._)(t,2),n=i[0],a=i[1];n+a<2&&e.contextmenu.getComponentByName("dropdown-align").disable(),n+a<3&&e.contextmenu.getComponentByName("dropdown-distribute").disable()}))}))}},{key:"align",value:function(e){var i=this;return t((function(){var t,n,a,o,r;return g(this,(function(l){switch(l.label){case 0:return i.pdfUI.checkAppSignIn()?(i.contextmenu.hide(),t=i.component.parent.currentTarget,[4,i.pdfUI.getAllActiveElements()]):[2];case 1:return n=l.sent(),a=i.parseWidgetToEditingWidget(t),o=i.getWidgetDeviceRect(a),r=i.getActiveGroupDeviceCenter([a]),n.forEach((function(t){if(t.annot.objectNumber!==a.annot.objectNumber)switch(e){case"left":i.moveToDevicePosition(t,o.left);break;case"right":var n=i.getWidgetDeviceRect(t),l=o.right-n.right+n.left;i.moveToDevicePosition(t,l);break;case"top":i.moveToDevicePosition(t,void 0,o.top);break;case"bottom":var s=i.getWidgetDeviceRect(t),d=o.bottom-s.bottom+s.top;i.moveToDevicePosition(t,void 0,d);break;case"vertically":var c=i.getActiveGroupDeviceCenter([t]),u={x:r.x-c.x,y:r.y-c.y};i.moveToDevicePoint(t,u.x,null);break;case"horizontally":var p=i.getActiveGroupDeviceCenter([t]),f={x:r.x-p.x,y:r.y-p.y};i.moveToDevicePoint(t,null,f.y)}else i.moveToDevicePoint(t,0,0)})),[2]}}))}))()}},{key:"center",value:function(e){var i=this;return t((function(){var t,n,a,o;return g(this,(function(r){switch(r.label){case 0:return i.pdfUI.checkAppSignIn()?(i.contextmenu.hide(),[4,i.pdfUI.getAllActiveElements()]):[2];case 1:return t=r.sent(),n=i.getActiveGroupPageDeviceCenter(t[0].pageRender||t[0].annotsRender.pageRender),a=i.getActiveGroupDeviceCenter(t),o={x:n.x-a.x,y:n.y-a.y},t.forEach((function(t){switch(e){case"vertically":i.moveToDevicePoint(t,null,o.y);break;case"horizontally":i.moveToDevicePoint(t,o.x,null);break;case"both":i.moveToDevicePoint(t,o.x,o.y)}})),[2]}}))}))()}},{key:"distribute",value:function(e){var i=this;return t((function(){var t,n,a,o,r,l,s,d,c,u,p,f,v,m,h,_;return g(this,(function(g){switch(g.label){case 0:return i.pdfUI.checkAppSignIn()?(i.contextmenu.hide(),[4,i.pdfUI.getAllActiveElements()]):[2];case 1:switch(r=g.sent(),l=[],s=[],d=[],r.forEach((function(e){var t=i.getActiveGroupDeviceCenter([e]);l.push(t.x),s.push(t.y),e.deviceCenter=t,d.push(e)})),c=(t=Math).min.apply(t,x(l)),u=(n=Math).max.apply(n,x(l)),p=(a=Math).min.apply(a,x(s)),f=(o=Math).max.apply(o,x(s)),v=(u-c)/(r.length-1),m=(f-p)/(r.length-1),e){case"horizontally":d.sort((function(e,t){return e.deviceCenter.x-t.deviceCenter.x>0?1:-1})),h=1,d.forEach((function(e){var t=e.deviceCenter;if(t.x!==c&&t.x!==u){var n=c+v*h;i.moveToDevicePoint(e,n-t.x),h+=1}else i.moveToDevicePoint(e,0,0)}));break;case"vertically":d.sort((function(e,t){return e.deviceCenter.y-t.deviceCenter.y>0?1:-1})),_=1,d.forEach((function(e){var t=e.deviceCenter;if(t.y!==p&&t.y!==f){var n=p+m*_;i.moveToDevicePoint(e,void 0,n-t.y),_+=1}else i.moveToDevicePoint(e,0,0)}))}return[2]}}))}))()}},{key:"size",value:function(e){var i=this;return t((function(){var t,n,a,o,r,l;return g(this,(function(s){switch(s.label){case 0:return i.pdfUI.checkAppSignIn()?(i.contextmenu.hide(),t=i.component.parent.currentTarget,[4,i.pdfUI.getAllActiveElements()]):[2];case 1:return n=s.sent(),a=i.parseWidgetToEditingWidget(t),o=i.getWidgetDeviceRect(a),r=o.right-o.left,l=o.bottom-o.top,n.forEach((function(t){if(t.annot.objectNumber!==a.annot.objectNumber)switch(e){case"height":i.setWidgetDeviceWidthHeight(t,{deviceHeight:l});break;case"width":i.setWidgetDeviceWidthHeight(t,{deviceWidth:r});break;case"both":i.setWidgetDeviceWidthHeight(t,{deviceWidth:r,deviceHeight:l})}else i.moveToDevicePoint(t,0,0)})),[2]}}))}))()}},{key:"getWidgetDeviceRect",value:function(e){var t=e.annot,i=e.pageRender||e.annotsRender.pageRender,n=i.getScale(),a=i.getRotation();return t.getDeviceRect(n,a)}},{key:"getActiveGroupDeviceCenter",value:function(){var e,t,i,n,a=this,o=[],r=[],l=[],s=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){var t=a.getWidgetDeviceRect(e);o.push(t.left),r.push(t.top),l.push(t.right),s.push(t.bottom)}));var d=(e=Math).min.apply(e,x(o)),c=(t=Math).min.apply(t,x(r));return{x:(d+(i=Math).max.apply(i,x(l)))/2,y:(c+(n=Math).max.apply(n,x(s)))/2}}},{key:"getActiveGroupPageDeviceCenter",value:function(e){var t=this.getPageDeviceInfo(e),i=t.deviceHeight;return{x:t.deviceWidth/2,y:i/2}}},{key:"getPageDeviceInfo",value:function(e){return{deviceWidth:e.getShowWidth(),deviceHeight:e.getShowHeight()}}},{key:"moveToDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.getWidgetDeviceRect(e),a=n.left,o=n.top,r=n.right,l=n.bottom;a+=t,o+=i,r+=t,l+=i,this.moveTo(e,{left:a,top:o,right:r,bottom:l})}},{key:"moveToDevicePosition",value:function(e,t,i){var n=this.getWidgetDeviceRect(e);t=void 0===t?n.left:t,i=void 0===i?n.top:i;var a=t-n.left+n.right,o=i-n.top+n.bottom;this.moveTo(e,{left:t,top:i,right:a,bottom:o})}},{key:"moveTo",value:function(e,t){var i=t.left,n=t.top,a=t.right,o=t.bottom,r=e.pageRender||e.annotsRender.pageRender,l=e.annot,s=l.page,d=r.getScale(),c=r.getRotation(),u=this.checkBoundsOut(r,{left:i,top:n,right:a,bottom:o}),p=s.reverseDeviceRect(u,d,c);"widget"===l.getType()?l.setRect(p).then((function(){l.updateUI({});var e=l.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t)})):e.moveTo(u.left,u.top,"move",!0).then((function(){e.active()}))}},{key:"esignCNStampsMove",value:function(e,i){var n=this;return t((function(){var t,a,o,r,l,s,d,c,u,p,f,v,m,h;return g(this,(function(g){switch(g.label){case 0:return[3,14];case 1:return r<o?[4,a.getPageByIndex(r)]:[3,14];case 2:return[4,g.sent().getAnnots()];case 3:l=g.sent(),s=!0,d=!1,c=void 0,g.label=4;case 4:g.trys.push([4,11,12,13]),u=l[Symbol.iterator](),g.label=5;case 5:return(s=(p=u.next()).done)?[3,10]:(f=p.value,v=f.getId(),t.includes(v)&&v!==e.getId()?(m=n.pdfViewer.getAnnotRender(r,v))&&m.component?[3,7]:[4,n.pdfViewer.getPDFPageRender(r).getAnnotRenderSafely(v)]:[3,9]);case 6:m=g.sent(),g.label=7;case 7:return[4,m.component.moveTo(i.left,i.top,"move",!0)];case 8:g.sent(),g.label=9;case 9:return s=!0,[3,5];case 10:return[3,13];case 11:return h=g.sent(),d=!0,c=h,[3,13];case 12:try{s||null==u.return||u.return()}finally{if(d)throw c}return[7];case 13:return r++,[3,1];case 14:return[2]}}))}))()}},{key:"setWidgetDeviceWidthHeight",value:function(e,t){var i=t.deviceWidth,n=t.deviceHeight,a=t.offsetWidth,o=t.offsetHeight,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.alignmentControllerService.setWidgetDeviceWidthHeight(e,{deviceWidth:i,deviceHeight:n,offsetWidth:a,offsetHeight:o},r)}},{key:"checkBoundsOut",value:function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),l=r.deviceHeight,s=r.deviceWidth;return i<0&&(i=0),n<0&&(n=0),o>s?(n-=o-s,o=s):o-n<10&&(o=n+10),a>l?(i-=a-l,a=l):a-i<10&&(a=i+10),{top:i,left:n,bottom:a,right:o}}},{key:"isBoundsOut",value:function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),l=r.deviceHeight,s=r.deviceWidth;return i<0||n<0||a>l||o>s}},{key:"parseWidgetToEditingWidget",value:function(e){var t;return e.getType&&"widget"===e.getType()?t=e.getPage():(t=e.getPDFPage(),e=e.annot),{widget:e,pageRender:this.pdfViewer.getPDFPageRender(t.getIndex()),annot:e}}}],[{key:"getName",value:function(){return"AlignmentController"}},{key:"services",value:function(){return{alignmentControllerService:gi}}}]),o}(m.Controller)),Pi=function(){},Ri=m.PDFViewCtrl.Events,Ii=PDFViewCtrl.PDF.constant.User_Permissions,Li=function(e){s(l,e);var t=v(l);function l(){return(0,i._)(this,l),t.apply(this,arguments)}return(0,n._)(l,[{key:"mounted",value:function(){var e=this;r(o(l.prototype),"mounted",this).call(this);var t,i=this.getPDFUI();this.addDestroyHook(this.getPDFUI().addViewerEventListener((a(t={},PDFViewCtrl.ViewerEvents.openFileSuccess,(function(t){e.changePermission(t)})),a(t,S.fieldAdded,(function(t,n,a){i.getCurrentPDFDoc().then((function(t){e.changePermission(t)}))})),a(t,Ri.annotationRemoved,(function(t){i.getCurrentPDFDoc().then((function(t){e.changePermission(t)}))})),t)))}},{key:"handle",value:function(){var e=this.getPDFUI();e.confirm({message:"form-designer:resetFieldsConfirm",level:"warning"}).then((function(){e.getPDFDocRender().then((function(e){var t=e.getPDFDoc().getPDFForm(),i=t.getFieldCount(),n=e.formRender;if(i>0){for(var a=[],o=0;o<i;o++){var r=t.getFieldByIndex(o);a.push(r.getName())}Promise.resolve(n.blurControl()).then((function(e){t.resetForm(a,0,null,{setValue:function(e,t,i){if(e!==t){var a=i.getAction(P.FieldKeyStroke);a&&n.execAction("Field",a,null,i,P.FieldKeyStroke,{change:e,willCommit:!0}),(a=i.getAction(P.FieldValueChanged))&&n.execAction("Field",a,null,i,P.FieldValueChanged)}}})}))}}))}),Pi)}},{key:"changePermission",value:function(e){var t=this,i=this.getPDFUI().getPDFDocRender().then((function(e){return e&&e.getUserPermission().getValue()}));Promise.all([e&&!e.isDestroyed&&e.hasForm(),i]).then((function(e){var i=(0,u._)(e,2),n=i[0];i[1]&t.constructor.permission&&n?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))}}],[{key:"getName",value:function(){return"ResetFormController"}},{key:"permission",get:function(){return Ii.fillForm}}]),l}(m.Controller),Oi=m.PDFViewCtrl.Events,Ni=PDFViewCtrl.PDF.constant.User_Permissions,Vi=function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"mounted",value:function(){var e=this;r(o(a.prototype),"mounted",this).call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(Oi.openFileSuccess,(function(t){e.changePermission(t)})))}},{key:"handle",value:function(){this.getPDFUI().addTooltipsForAllFormFields()}},{key:"changePermission",value:function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e&&e.getUserPermission().getValue()})).then((function(e){e&t.constructor.permission&&e&Ni.annotForm?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))}}],[{key:"getName",value:function(){return"AddTooltipController"}},{key:"permission",get:function(){return Ni.fillForm}}]),a}(m.Controller),Ui=m.shared.replaceRibbonButton2XButton,Mi=PDFViewCtrl.STATE_HANDLER_NAMES,Bi=(Mi.STATE_HANDLER_SELECT_TEXT_IMAGE,Mi.STATE_HANDLER_SELECT_ANNOTATION),Hi=PDFViewCtrl.PDF.form.constant.Field_Flag,Wi=PDFViewCtrl.ViewerEvents,ji=PDFViewCtrl.PDF.constant.AnnotUpdatedType,zi=PDFViewCtrl.AnnotComponent,qi={MultipleCopy:pt,Duplicate:mt,PickField:m.FieldsPickDialog,JSInput:m.ScriptInputDialog},Ki=m.vendors,Gi=Ki.jQuery,Ji=(Ki.i18next,Ki.i18nextChainedBackend,Ki.i18nextLocalStorageBackend,Ki.i18nextXHRBackend,Ki.dialogPolyfill,Ki.Hammer,Ki.EventEmitter,Gi),Xi=m.StatefulController,Yi=PDFViewCtrl.PDF.constant.User_Permissions,Qi=PDFViewCtrl.IStateHandler,Zi=PDFViewCtrl.ShapeControl,en=(PDFViewCtrl.PDF.form.constant.Field_Type,[{name:"CreateUnknown",type:0},{name:"CreatePushButton",type:1},{name:"CreateCheckBox",type:2},{name:"CreateRadioButton",type:3},{name:"CreateComboBox",type:4},{name:"CreateListBox",type:5},{name:"CreateText",type:6},{name:"CreateSign",type:7},{name:"CreateDate",type:6},{name:"CreateImage",type:1}]),tn=en.map((function(e){return function(e,t,a,l){return ai.push(a),function(e){s(c,e);var d=v(c);function c(e){var t;return(0,i._)(this,c),(t=d.call(this,e)).cursorStyle="fv__cursor-crosshair",t}return(0,n._)(c,[{key:"correctPosition",value:function(e){var t=this.pageRender.getShowWidth(),i=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(t,e.x)),y:Math.max(0,Math.min(i,e.y))}}},{key:"start",value:function(e,i,n){var a=i.left,o=i.top,r=this.shapeControl;r||(r=this.shapeControl=new t({resizable:!1,enableDiagonally:!0})).active(e.$handler,e.$handler,{left:a,top:o,width:0,height:0}),r.setSnapGrid(n)}},{key:"adjust",value:function(e,t,i){var n=t.x,a=t.y,o=i.x,r=i.y,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var s,d;s=Math.min(n,o),d=Math.min(a,r);var c=Math.abs(n-o),u=Math.abs(a-r);l&&(c=u=Math.min(c,u),o<n&&(s=n-c),r<a&&(d=a-u));var p={left:s,top:d,width:c=Math.max(c,1),height:u=Math.max(u,1)},f={left:s,top:d,right:s+c,bottom:d+u};f=e.getSnapMaxRect(f),p.width=f.right-f.left+2,p.height=f.bottom-f.top+2,p.top=f.top,p.left=f.left,e._applyAnnotBoundary(p),e.shape.boundary=f,e.shape.shape=p,e._updatePreviewer()}}},{key:"pageHandler",value:function(e){var t=this;this.assistantExecutor=new m.PDFViewCtrl.shared.ThrottleAsyncTaskExecutor(20,!0);var i=!1;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var a=this.hammer=new si.Manager(n);a.add(new si.Pan({direction:si.DIRECTION_ALL})),a.add(new si.Tap),a.on("tap",(function(e){t.isAbleCreateField()&&(t.hideSimpleProperties(),i=!0,t.assistantExecutor.waitForLastTask(null).then((function(i){if(i&&(i.right-i.left)*(i.top-i.bottom)!=0)return t.removeDesignerRect(),t.create(i,e,!0)})).finally((function(){i=!1})))})),a.on("panstart",(function(i){if(t.hideSimpleProperties(),t.isAbleCreateField()){var n=e.getPDFPointFromClientPoint(i.srcEvent.clientX-i.deltaX,i.srcEvent.clientY-i.deltaY,!0);t.startPoint={x:n[0],y:n[1]};var a=(0,u._)(e.getPDFPointFromClientPoint(i.srcEvent.clientX-i.deltaX,i.srcEvent.clientY-i.deltaY),2),o=a[0],r=a[1],l=e.pdfViewer.getSnapGrid();l&&(l=e.formatGridOptions(l)),t.start(e,{left:o,top:r},l)}})),a.on("panmove",(function(e){var i=t.correctPosition({x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY}),n=t.currentPoint||{x:0,y:0},a=n.x,o=n.y;if(!(Math.abs(a-i.x)<Number.EPSILON&&Math.abs(o-i.y)<Number.EPSILON))return t.currentPoint=i,t.adjust(t.shapeControl,t.startPoint,t.currentPoint,e.srcEvent.shiftKey)})),a.on("panend",(function(e){t.shapeControl&&t.create(t.shapeControl.shape.boundary,e)})),a.on("pancancel",(function(e){t.shapeControl.destroy(),t.shapeControl=null})),this.designerAssistantStatusChangeListener=function(a){a?e.getPDFPage().then((function(a){var o=!1;t.mouseoutEventListener&&n.removeEventListener("mouseout",t.mouseoutEventListener),t.moveEventListener&&n.removeEventListener("mousemove",t.moveEventListener),t.moveEventListener=function(n){if(o=!1,i)t.removeDesignerRect();else{var r=t.pdfViewer.getCurrentPDFDoc();t.assistantExecutor.exec((function(){var i=n.offsetX,l=n.offsetY,s=a.reverseDevicePoint([i,l],e.scale,e.rotate);if(!a.isDestroyed){var d=r.getPDFForm();return d?d.getFieldAtPosition(a.getIndex(),s[0],s[1])?(t.renderSuggestedFormDesignerRect(null),Xe):a.getSuggestedFormDesignerRect(s).then((function(i){if(!o&&!a.isDestroyed){if(i){var n=a.getDeviceRect(i,e.scale,e.rotate);t.renderSuggestedFormDesignerRect(n)}else t.renderSuggestedFormDesignerRect(null);return i}}),(function(e){throw t.renderSuggestedFormDesignerRect(null),e})):Xe}}))}},t.mouseoutEventListener=function(){o=!0,t.removeDesignerRect(),t.assistantExecutor.cancel()},n.addEventListener("mousemove",t.moveEventListener),n.addEventListener("mouseout",t.mouseoutEventListener)})):(t.removeDesignerRect(),n.removeEventListener("mouseout",t.mouseoutEventListener),n.removeEventListener("mousemove",t.moveEventListener))},this.pdfViewer.isDesignerAssistantEnabled&&this.designerAssistantStatusChangeListener(!0),this.pdfViewer.eventEmitter.on(li.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener),this.setStoreFirstCreateField(!0)}},{key:"create",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.pageRender;return a.docRender.getPDFDoc().loadPDFForm().then((function(o){return a.getPDFPage().then((function(r){var s=i.getFieldType(),d=i.autoFieldName(o,s),u=n?e:r.reverseDeviceRect(e,a.scale,a.rotate),p={mkRotate:((a.rotate/90||0)+r.getRotation())%4};return 7==s?o.addSignature(a.index,u,d,p).then((function(e){return e.getControlByIndex(0).getWidget()})).then((function(e){return i.afterAdded(a,e,t)})).catch((function(e){throw i.afterAdded(a,null,t),new Error(e.message)})).catch((function(e){i.afterAdded(a,null,t,!0),i.pdfViewer.eventEmitter.emit(S.fieldAddedFailed,s)})):("CreateDateStateHandler"===c.getStateName()&&(p.stateName=c.getStateName()),"CreateImageStateHandler"===c.getStateName()&&(p.stateName=c.getStateName(),p.imagePath=__webpack_require__(28)),o.addControl(a.index,d,l,u,p).then((function(e){if(e.success){var t=o.getField(e.newFieldName);if("CreateDateStateHandler"==p.stateName){var i="m/d/yy",n='AFDate_KeystrokeEx("'+i+'");',a='AFDate_FormatEx("'+i+'");';return t.setAction(k.Mp.format,a).then((function(){return t.setAction(k.Mp.keyStroke,n)})).then((function(){var e=t.getLoadedWidgets();return e[e.length-1]}))}var r=t.getLoadedWidgets();return r[r.length-1]}})).then((function(e){return i.afterAdded(a,e,t)})))}))}))}},{key:"renderSuggestedFormDesignerRect",value:function(e){var t=this.pageRender.$handler.get(0);e?(this.eDesignerRect||(this.eDesignerRect=document.createElement("div"),this.eDesignerRect.classList.add("fv__form-designer-suggested-designer-rect")),this.eDesignerRect.style.cssText+="\n                left: ".concat(e.left,"px;\n                top: ").concat(e.top,"px;\n                width: ").concat(e.right-e.left,"px;\n                height: ").concat(e.bottom-e.top,"px;\n            "),this.eDesignerRect.parentElement!=t&&t.appendChild(this.eDesignerRect)):this.removeDesignerRect()}},{key:"afterAdded",value:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.shapeControl&&this.shapeControl.destroy(),this.shapeControl=null,!n&&t&&(this.pdfViewer.eventEmitter.emit(S.fieldAdded,e,t,i),this.setStoreFirstCreateField(!1))}},{key:"getStoreFirstCreateField",value:function(){return this.pdfViewer.getStore().getCurrentValue(Ft)}},{key:"setStoreFirstCreateField",value:function(e){this.pdfViewer.getStore().dispatch(Ft,e)}},{key:"isAbleCreateField",value:function(){var e=this.pdfViewer,t=e.getStateHandlerManager(),i=e.getStore().getCurrentValue("set_form_creation_continuously");return!(!this.getStoreFirstCreateField()&&!i&&(t.switchTo(Dt),1))}},{key:"hideSimpleProperties",value:function(){this.pdfViewer.getStore().dispatch(Ye,!0)}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle);var e=this.pageRender.$handler.get(0);this.moveEventListener&&(e.removeEventListener("mousemove",this.moveEventListener),e.removeEventListener("mouseout",this.mouseoutEventListener)),this.pdfViewer.eventEmitter.off(li.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener),this.removeDesignerRect(),this.pageRender.page&&this.pageRender.page.clearDesignerAssitCache()}},{key:"out",value:function(){r(o(c.prototype),"out",this).call(this),this.destroyPageHandler()}},{key:"removeDesignerRect",value:function(){var e=this.pageRender.$handler.get(0);this.eDesignerRect&&this.eDesignerRect.parentElement===e&&e.removeChild(this.eDesignerRect)}},{key:"getFieldType",value:function(){return l}},{key:"getFieldName",value:function(e,t){for(var i=e.countField(t),n=this.pdfViewer.i18n.t("form-designer:prefix."+t),a=n+i;e.getField(a);)a=n+ ++i;return a}},{key:"autoFieldName",value:function(e,t){var i=c.getStateName(),n="",a=!1,o=!1;"CreateDateStateHandler"===i?(n=this.pdfViewer.i18n.t("form-designer:prefix.9"),a=!0):"CreateImageStateHandler"===i?(n=this.pdfViewer.i18n.t("form-designer:prefix.8"),o=!0):n=this.pdfViewer.i18n.t("form-designer:prefix."+t);var r="",l=e.countField(t,a,o),s="";do{s=n+l,r=e.fieldsNameMap[s],l+=1}while(r);return s}}],[{key:"getStateName",value:function(){return a}}]),c}(e)}(Qi,Zi,e.name+"StateHandler",e.type)})),nn=function(e){s(p,e);var l=v(p);function p(){return(0,i._)(this,p),l.apply(this,arguments)}return(0,n._)(p,[{key:"getDialog",value:function(e){return this.dialogs[e]||(this.dialogs[e]=new qi[e](this.pdfUI))}},{key:"init",value:function(e){var t=this;if(!p.isBlockedFeature()){this.pdfUI=e,e.getPDFViewer().then((function(e){var t=e.getStateHandlerManager();tn.forEach((function(e){t.register(e)}))})),this.destroyHooks=[],this.callbacks={},this.defaultFormFieldProps={};var i,n=e.formDesignDialog=new qe(e,this),o=e.simplePropertiesDialog=new ot(e,this);this.dialogs={zFieldProperty:n},this.destroyHooks.push(e.addViewerEventListener((a(i={},S.fieldAddedFailed,(function(t){console.log("FormDesigner -> on fieldAddedFailed -> type",t),e.alert({message:"form-designer:tips.CreateFailed",level:"error"})})),a(i,S.fieldAdded,(function(i,a,r){var l=!1,s=function(){l||(l=!0,e.editingMgr.activeElementByAnnotId(i.index,a.getId()),setTimeout((function(){t.hideFormFieldProperty||(n.isOpened()?n.setAnnot(a):(o.setAnnot(a),o.show(r)))})))},d=a,c=d.getField(),u=d.info.fieldType,p=t.defaultFormFieldProps[u];if(void 0!==p){var f=[],v=p.DA,g=p.annotFlags,m=p.alignment,h=p.fieldFlags,_=p.fillColor,b=p.border;f.push(d.setFlagValue(g,!0)),f.push(c.setAlignment(m)),f.push(c.setReadonly(!!Hi.isReadOnly(h))),f.push(c.setRequired(!!Hi.isRequired(h))),f.push(c.setBorderStyle(b.borderStyle)),f.push(c.setBorderColor(b.borderColor)),f.push(c.setBorderWidth(b.borderWidth)),f.push(c.setFillColor(_)),f.push(d.setDefaultAppearance(v).then((function(){Object.keys(v).forEach((function(e){var t={type:e,value:v[e]};d.updateUI(t)})),d.updateUI({type:"borderStyle",value:b.borderStyle}),d.updateUI({type:"borderWidth",value:b.borderWidth}),d.updateUI({type:"display",value:g}),t.pdfUI.eventEmitter.emit(Wi.annotationUpdated,[d],d.getPDFPage(),ji.flagsUpdated),t.pdfUI.eventEmitter.emit(Wi.annotationAppearanceUpdated,[d],d.getPDFPage())}))),Promise.all(f).then((function(){s()})).catch((function(e){s(),console.log("FormDesigner -> on fieldAdded -> err",e)}))}else s()})),a(i,"switch-state-handler",(function(t){var i=t.getStateName();o.hide(),e.getCurrentPDFDoc().then((function(e){return Promise.all([e&&e.isStaticXFA(),e&&e.isXFARemoved()])})).then((function(e,t){return e?t:e})).then((function(t){return!t&&e.editingMgr&&e.editingMgr.startEditingMode(i)}))})),a(i,"render-page-success",(function(t){e.editingMgr.showAllEditingWidget([t.index])})),a(i,"will-close-document",(function(){o.hide(),n.hide(),e.editingMgr.clearEditingWidgets(),e.editingMgr.restoreHighlight()})),a(i,"annotation-add",(function(t,i){t=t.filter((function(e){return"widget"===e.getType()})),e.editingMgr.afterWidgetsAdded(i.getIndex(),t)})),a(i,PDFViewCtrl.ViewerEvents.annotationUpdated,(function(t,i,a){e.editingMgr.updateAnnots(t,i,a),n.isOpened()&&n.setValue()})),a(i,PDFViewCtrl.ViewerEvents.tapPage,(function(){e.formDesignDialog.lockedHandler(!0)})),a(i,"zoom-to-success",(function(t,i){e.editingMgr.zoom(t)})),a(i,"page-rotation-change",(function(t){e.getStateHandlerManager().then((function(e){e.switchTo()}))})),a(i,"fit-width-resize-viewport",(function(){e.editingMgr.zoom(1)})),a(i,"tab-active",(function(t){var i=t.id,n=t.getPage().getIndex();e.editingMgr.annots[i]&&e.getRootComponent().then((function(t){var a=t.querySelector("@field");a&&(a.controller.component.isStartResetNumber=!1),e.editingMgr.activeElementByAnnotId(n,i,!1)}))})),a(i,"active-widgets-for-multi-select",(function(t){var i=t.widgets,n=void 0===i?[]:i,a=t.activationGroup;n.length&&a&&e.getPDFViewer().then((function(t){n.forEach((function(t){var i=e.editingMgr.annots[t.getId()],n=a.activations.find((function(e){return e.annot===t}));n&&a.remove(n),i&&a.add(i),a.remove(t)})),t.bindMultiSelectActiveEvents(a),t.activationManager.active(a),t.getPDFDocRender().setCurrentAnnotHandler(),t.eventEmitter.emit(Wi.activeElementChanged);var i=a.getAllActivations().map((function(e){return"widget"===e.annot.getType()?e.pageRender.getAnnotRender(e.widget.getId()):e.annotsRender.getAnnotRender(e.getId())}));if(i.length){if(1===i.length)return t.eventEmitter.emit(Wi.activeAnnotation,i[0]);t.eventEmitter.emit(Wi.activeMultipleAnnotations,i)}}))})),i))),e.getPDFViewer().then((function(i){e.editingMgr=new $i(e,i,t.dialogs,n,o)})),this.destroyHooks.push((function(){var i=e.editingMgr;for(var n in i.destroy(),e.formDesignDialog.destroy(),e.formDesignDialog=null,e.simplePropertiesDialog.destroy(),e.simplePropertiesDialog=null,t.dialogs){var a=t.dialogs[n];!a.isDestroyed&&a.destroy()}t.dialogs={}})),e.getStore().then((function(e){e.subscribe("update-form-field-default-props",(function(e){t.defaultFormFieldProps=c({},e)})),e.subscribe("get-form-field-default-props",(function(e){var i=c({},t.defaultFormFieldProps);i[e.fieldType]=e.value,t.callbacks&&t.callbacks.onFormFieldPropsChanged&&t.callbacks.onFormFieldPropsChanged(i)})),e.subscribe("hideFormFieldPropertyBox",(function(e){t.hideFormFieldProperty=e}))}));var r=!(!e.customs||!e.customs.supportFormAsDefaultProps)?'<contextmenu-item name="fv--contextmenu-item-field-store-props" @controller="form-designer:SetAsDefaultPropertiesController">contextmenu.annot.as-default</contextmenu-item>':"";e.getRootComponent().then((function(e){e.append('\n                <template>\n                    <contextmenu name="contextmenu-form-designer" @lazy-content="shown">\n                        <contextmenu-item name="copyTarget" @controller="form-designer:Copy">contextmenu.annot.copyAnnot</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="deleteTarget" @controller="form-designer:Delete">contextmenu.annot.delete</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="propertiesMenu" @controller="form-designer:ShowPropertiesController">contextmenu.annot.properties</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="multipleCopy" @controller="form-designer:MultipleCopy">form-designer:contextMenu.multipleCopy</contextmenu-item>\n                        <contextmenu-item name="copyToPage" @controller="form-designer:CopyToPage">form-designer:contextMenu.copyToPage</contextmenu-item>\n                        <contextmenu-item name="setTabOrdern" @controller="form-designer:SetTabOrder">form-designer:contextMenu.setTabOrder</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <form-designer:alignment-menu></form-designer:alignment-menu>\n                        '.concat(r,"\n                    </contextmenu>\n                </template>\n            "))}))}}},{key:"destroy",value:function(){this.destroyHooks.forEach((function(e){return e()})),this.destroyHooks=[]}},{key:"getAnnotRenderById",value:function(e,t){return this.pdfUI.getPDFPageRender(t).then((function(t){return t?{annot:t.page.annotIdMap[e],pageRender:t}:Promise.reject(new Error("cannot found widget by id:"+e))}))}},{key:"receiveAction",value:function(e,t){var i=this;if(!p.isBlockedFeature()){var n=this.pdfUI,a=t.id,o=t.pageIndex;switch(e){case"activeWidget":n.getPDFPageRender(o).then((function(e){return e.isRendered?Promise.resolve():n.goToPage(o,0,0,!1)})).then((function(){return n.getStateHandlerManager()})).then((function(e){return n.getComponentByName(Bi).then((function(t){var r=n.customs.isAccountExpired;return!!r&&r(!1)||t.isLocked||e.switchTo(Bi),i.getAnnotRenderById(a,o)}))})).then((function(e){var t=e.annot,i=e.pageRender,r=t.getDeviceRect(i.getScale(),i.getRotation()),l=r.left,s=r.top;n.goToPage(o,s,l,!1).then((function(){var e=function(){var t=n.editingMgr;t.type?t.activeElementByAnnotId(0,a):setTimeout(e,200)};e()}))}));break;case"showPropertiesDialog":var r=n.formDesignDialog;this.getAnnotRenderById(t.id,t.pageIndex).then((function(e){var t=e.annot;r.setAnnot(t),r.show()}));break;case"removeWidget":this.getAnnotRenderById(a,o).then((function(e){var t=e.annot;n.editingMgr.removeAnnot(t)}));break;case"multipleCopy":this.getAnnotRenderById(a,o).then((function(e){var t=e.annot,i=n.multipleCopyDialog;if(i||(i=n.multipleCopyDialog=new pt(n)),t.getField().controls.length>1)return n.alert({message:"form-designer:dialog.numberError",level:"warning"});n.editingMgr.enableShortcut(0),i.show(t,(function(e,t,i,a,o){if(n.editingMgr.enableShortcut(1),e){var r=e.getField(),l=e.getPage();if(t){var s=o.shift();return e.setRect(s).then((function(t){return e.updateUI({type:"rect",value:s}),o.length<1?Promise.resolve():r.form.copyControls(e,l,o.map((function(t){return{rect:t,fieldName:r.getName(),srcObjectNumber:e.getObjNum()}})))}))}return r.form.duplicateField(r.getName(),e,i,a,o).then((function(t){return n.editingMgr.updateLabel(e)}))}}))}));break;case"duplicate":this.getAnnotRenderById(a,o).then((function(e){var t=e.annot;n.editingMgr.enableShortcut(0),i.getDialog("Duplicate").show(t,t.page.doc.getPageCount(),[],(function(e,t){if(n.editingMgr.enableShortcut(1),e){var i=e.page.getIndex();t=t.filter((function(e){return e!=i})),n.getPDFDocRender().then((function(i){var n=i.getPDFDoc().pageCache,a=[];n.forEach((function(e){e&&a.push(e.getIndex())})),e.getField().form.duplicateWidget(t,e.getField().getName(),e.getObjNum(),a)}))}}))}))}this.pdfUI.getStore().then((function(n){switch(e){case"ev-receive-form-field-default-props":if(!i.callbacks)return;var a=function(){};"function"==typeof t?a=t:t&&t.length>0&&"function"==typeof t[0]&&(a=t[0]),i.callbacks.onFormFieldPropsChanged=a;break;case"ev-update-form-field-default-props":var o=c({},t);n.dispatch("update-form-field-default-props",o)}}))}}}],[{key:"getName",value:function(){return"FormDesigner"}},{key:"getLoader",value:function(){return _()}},{key:"isBlockedFeature",value:function(){return!1}},{key:"initOnLoad",value:function(){if(!p.isBlockedFeature()){for(var e=m.modular.module("form-designer",[]),l=[],c=1;c<en.length;c++){var f=wt(en[c].name+"Controller",Xi,tn[c],Yi);l.push(en[c].name+"StateHandler"),e.registerController(f)}e.registerComponent(ri),e.registerController(Et),e.registerController(function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"mounted",value:function(){var e=this;r(o(a.prototype),"mounted",this).call(this);var t=this.component;t.parent.on("shown",(function(){e.getPDFUI().getAllActiveElements().then((function(e){var i=e.filter((function(e){return e.annot&&"widget"===e.annot.getType()})).length;0===e.length||e.length!==i?t.disable():t.enable()}))}))}},{key:"handle",value:function(){var e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()}}],[{key:"getName",value:function(){return"ShowPropertiesController"}}]),a}(m.Controller)),e.registerController(function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"handle",value:function(){var e=this;this.getPDFUI().getPDFViewer().then((function(t){t.getAllActiveElements().forEach((function(t){(0,d._)(t,zi)?t.removeAnnot():(e.getPDFUI().editingMgr.removeAnnot(t.widget),e.getPDFUI().formDesignDialog.lockedHandler(!0))}))}))}}],[{key:"getName",value:function(){return"Delete"}}]),a}(m.Controller)),e.registerController(function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"handle",value:function(){var e=this.component.parent.getCurrentTarget();this.pdfUI.getStore().then((function(t){if(!e||"widget"!==e.info.type)throw new Error("set default properties: invalid parameters!");var i=e,n=i.getField(),a=n.info.type,o=i.getFlags(),r=n.getFlags(),l=n.getAlignment(),s=n.getBorderColor(),d=n.getBorderStyle(),c=Ct[n.getBorderWidth()]||0,u=n.getFillColor(),p=i.getDefaultAppearance(),f=i.getDAFontColor(),v=p.fontName,g=p.textSize,m={fieldType:a,value:{annotFlags:o,fieldFlags:r,alignment:l,DA:{textColor:f,fontName:xt[v]?xt[v]:v,textSize:g},fillColor:u,border:{borderColor:s,borderStyle:d,borderWidth:c}}};t.dispatch("get-form-field-default-props",m)}))}}],[{key:"getName",value:function(){return"SetAsDefaultPropertiesController"}}]),a}(m.Controller)),en.forEach((function(t){var i=t.name.replace(/[A-Z]/g,(function(e,t){return 0===t?e.toLowerCase():"-"+e.toLowerCase()})),n={template:'<ribbon-button name="fv--form-designer-'.concat(i,'-btn" icon-class="fv__icon-toolbar-form-').concat(i,'" @tooltip tooltip-title="form-designer:tips.').concat(t.name,'" @controller="form-designer:').concat(t.name,'Controller">form-designer:tips.').concat(t.name,"</ribbon-button>")};e.registerPreConfiguredComponent(i+"-ribbon",n),e.registerPreConfiguredComponent(i,Object.assign({},n,{template:Ui(n.template)}))})),e.controller("Copy",{mounted:function(){m.Controller.prototype.mounted.apply(this,arguments),_.call(this)},handle:function(){this.getPDFUI().getPDFViewer().then((function(e){return e.copy()}))}}),e.controller("Cut",{mounted:function(){m.Controller.prototype.mounted.apply(this,arguments),_.call(this)},handle:function(){var e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()}}),e.controller("MultipleCopy",{mounted:function(){m.Controller.prototype.mounted.apply(this,arguments),_.call(this)},handle:function(){var e=this.getPDFUI(),t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("MultipleCopy"),i=this.component.parent.getCurrentTarget();if(i.getField().controls.length>1)return e.alert({message:"form-designer:dialog.numberError",level:"warning"});e.editingMgr.enableShortcut(0),t.show(i,(function(t,i,n,a,o){if(e.editingMgr.enableShortcut(1),t&&!t.isDeleted()){var r=t.getField(),l=t.getPage();if(i){var s=o.shift();return t.setRect(s).then((function(e){return t.updateUI({type:"rect",value:s}),o.length<1?Promise.resolve():r.form.copyControls(t,l,o.map((function(e){return{rect:e,fieldName:r.getName(),srcObjectNumber:t.getObjNum()}})))}))}return r.form.duplicateNewFields(t,o,l.getIndex()).then((function(){return e.getPDFDocRender().then((function(t){return t.loadFormRender(!0).then((function(){e.redraw()}))}))}))}}))}}),e.controller("CopyToPage",{mounted:function(){m.Controller.prototype.mounted.apply(this,arguments),_.call(this)},handle:function(){var e=this.getPDFUI(),t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("Duplicate"),i=this.component.parent.getCurrentTarget();e.editingMgr.enableShortcut(0),t.show(i,i.page.doc.getPageCount(),[],(function(t,n){e.editingMgr.enableShortcut(1),t&&e.getPDFDocRender().then((function(e){if(!i.isDeleted()){var a=e.getPDFDoc().pageCache,o=[];a.forEach((function(e){e&&o.push(e.getIndex())}));var r=i.page.getIndex();n=n.filter((function(e){return e!=r})),t.getField().form.duplicateWidget(n,t.getField().getName(),t.getObjNum(),o)}}))}))}}),e.controller("SetTabOrder",{mounted:function(){m.Controller.prototype.mounted.apply(this,arguments),_.call(this)},handle:function(){var e=this;this.getPDFUI().getComponentByName("sidebar").then((function(e){return e.querySelector("sidebar-field").trigger("active")})).then((function(){var t=e.component.parent.getCurrentTarget();e.pdfUI.eventEmitter.emit("set-tab-order",t)}))}}),e.registerPreConfiguredComponent("keep-tool-selected-checkbox",{template:'<checkbox @tooltip name="keep-tool-selected-checkbox" @controller="form-designer:KeepToolSelectedController" class="fv__icon-toolbar-keep-tool-selected noWarp"></checkbox>',config:{target:"keep-tool-selected-checkbox",tooltip:{title:"form-designer:tips.KeepToolSelected"},text:"form-designer:tips.KeepToolSelected",checked:!1,callback:function(e){s(a,e);var t=v(a);function a(){return(0,i._)(this,a),t.apply(this,arguments)}return(0,n._)(a,[{key:"mounted",value:function(){var e=this;r(o(a.prototype),"mounted",this).call(this),this.component.disable(),this.$keepToolSelectedCheckbox=Ji(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((function(t){e.$keepToolSelectedCheckbox.change((function(){t.setFormCreationContinuously(e.$keepToolSelectedCheckbox.prop("checked"))})),t.eventEmitter.on(Wi.switchStateHandler,(function(t,i){l.indexOf(t.getStateName())>-1?e.component.enable():e.component.disable()}))}))}}],[{key:"getName",value:function(){return"keep-tool-selected"}}]),a}(m.Controller)}}),e.registerPreConfiguredComponent("highlight-fields-checkbox",{template:'<checkbox @tooltip name="highlight-fields-checkbox" @controller="form-designer:HighlightFieldsController" tooltip-title="form-designer:tips.HighlightFields" text="form-designer:tips.HighlightFields" class="fv__icon-toolbar-highlight-fields noWarp"></checkbox>',config:{target:"highlight-fields-checkbox",checked:!0,callback:function(e){s(o,e);var t=v(o);function o(){return(0,i._)(this,o),t.apply(this,arguments)}return(0,n._)(o,[{key:"mounted",value:function(){var e,t=this,i=this.getPDFUI();this.addDestroyHook(i.addViewerEventListener((a(e={},PDFViewCtrl.ViewerEvents.openFileSuccess,(function(e){t.changePermission(e),t.getPDFUI().getPDFViewer().then((function(e){var t=e.highlightControls();e.setHighlightControlsUI(t)}))})),a(e,S.fieldAdded,(function(e,n,a){i.getCurrentPDFDoc().then((function(e){t.changePermission(e)}))})),a(e,Wi.annotationRemoved,(function(e){i.getCurrentPDFDoc().then((function(e){t.changePermission(e)}))})),e))),this.$highlightFieldsCheckbox=Ji(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((function(e){var n=!0,a=e.highlightControls();t.$highlightFieldsCheckbox[0].checked=a,t.$highlightFieldsCheckbox.change((function(){var i=t.$highlightFieldsCheckbox[0].checked;n?e.highlightForm(i):e.setHighlightControlsUI(i)})),e.eventEmitter.on(Wi.switchStateHandler,(function(a,o){var r=i.customs.isAccountExpired;!!r&&r(!1)||setTimeout((function(){l.indexOf(a.getStateName())>-1||a.getStateName()===Bi?e.highlightForm(n=!1):(n=!0,e.highlightForm(t.$highlightFieldsCheckbox[0].checked))}),100)})),e.eventEmitter.on(Wi.setFromFieldHighlight,(function(e){n&&t.$highlightFieldsCheckbox.prop("checked",e)}));var o=e.getCurrentPDFDoc();o&&t.changePermission(o)}))}},{key:"changePermission",value:function(e){var t=this,i=this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()}));Promise.all([e.hasForm(),i]).then((function(e){var i=(0,u._)(e,2),n=i[0];i[1]&t.constructor.permission&&n?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))}}],[{key:"getName",value:function(){return"HighlightFieldsController"}},{key:"permission",get:function(){return Yi.modify+Yi.annotForm+Yi.fillForm}}]),o}(m.Controller)}}),e.registerController(Li),e.registerPreConfiguredComponent("reset-form",{template:'<ribbon-button @tooltip name="fv--reset-field-btn" @controller="form-designer:ResetFormController" tooltip-title="form-designer:tips.ResetForm" icon-class="fv__icon-toolbar-reset-field">form-designer:tips.ResetForm</ribbon-button>'}),e.registerController(Vi),e.registerPreConfiguredComponent("add-tooltip",{template:'<ribbon-button @tooltip name="fv--add-tooltip-btn" @controller="form-designer:AddTooltipController" tooltip-title="form-designer:tips.AddTooltip" icon-class="fv__icon-toolbar-add-tooltip">form-designer:tips.AddTooltip</ribbon-button>'}),e.registerPreConfiguredComponent("showCO",{template:'<ribbon-button name="fv--showCO-btn" icon-class="fv__icon-toolbar-form-CO" @tooltip tooltip-title="form-designer:tips.showCO" @controller="form-designer:showCODialogController">form-designer:tips.showCO</ribbon-button>'}),e.controller("showCODialogController",{changePermission:function(e){var t=this,i=this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()}));Promise.all([e.hasForm(),i]).then((function(e){var i=(0,u._)(e,2),n=i[0];i[1]&Yi.modify+Yi.fillForm&&n?t.component.enable():t.component.disable()}))},mounted:function(){var e,t=this,i=this.getPDFUI(),n=function(e){var i=e.getPDFForm();i?i.getCO().length?t.changePermission(e):t.component.disable():t.component.disable()};i.getCurrentPDFDoc().then((function(e){return e&&n(e)})),i.addViewerEventListener((a(e={},PDFViewCtrl.ViewerEvents.renderFileSuccess,n),a(e,PDFViewCtrl.ViewerEvents.COChange,(function(e){e.length?t.component.enable():t.component.disable()})),e))},handle:function(){var e=this.getPDFUI(),t=e.CODialog;t||(t=e.CODialog=new yt(e),e.eventEmitter.emit("showCODialog"),e.getRootComponent().then((function(e){e.append(t.dialog)}))),e.getCurrentPDFDoc().then((function(e){var i=e.getPDFForm(),n=e.getPDFForm().getCO();t.show(n,(function(e){i.setCO(e)}))}))}});var h=function(e){s(l,e);var a=v(l);function l(){return(0,i._)(this,l),a.apply(this,arguments)}return(0,n._)(l,[{key:"mounted",value:function(){r(o(l.prototype),"mounted",this).call(this),this.adjustmentMenuPermission(),this.addDestroyHook(this.component.parent.on("shown",this.adjustmentMenuPermission.bind(this))),this.parentMenu=this.component.parent}},{key:"handle",value:function(e){var t=this.component;t.disabled||t.isContainer()&&t.children().length>1||this.parentMenu.hide()}},{key:"adjustmentMenuPermission",value:function(){var e=this;return t((function(){var i,n,a,o,r,l,s,d,c,u,p;function f(e){return v.apply(this,arguments)}function v(){return(v=t((function(e){return g(this,(function(t){switch(t.label){case 0:return e>=d.length?[2,!1]:[4,(i=d[e],u.getPermission(i.annot).then((function(e){var t=!0;return"function"==typeof i.moveDisabled&&(t=!i.moveDisabled()),(e.ignorable()||e.isModifiable())&&t})))];case 1:return t.sent()?[2,f(e+1)]:[2,!0]}var i}))}))).apply(this,arguments)}return g(this,(function(v){switch(v.label){case 0:return i=e.getPDFUI(),n=e.component.$container.$children,a=["strikeout","underline","caret","squiggly","highlight"],o=["polygon","polyline","PolygonCloud","LineArrow","ink","Line","LineDimension","freetext","fileattachment","FreeTextCallout","text","PolygonDimension","PolyLineDimension"].map((function(e){return e.toLowerCase()})),r=!1,l=!1,s=!1,[4,i.getAllActiveElements()];case 1:return d=v.sent(),c=!0,[4,Promise.all(d.map((m=t((function(e){var t,u,p,f,v;return g(this,(function(g){switch(g.label){case 0:return t=e.annot,[4,i.getAnnotAuthorityManager(t)];case 1:return[4,g.sent().getPermission(t)];case 2:return u=g.sent(),p=!0,"function"==typeof e.moveDisabled&&(p=!e.moveDisabled()),u.isModifiable()||(c=!1),t?(f=(t.getIntent()||t.getType()||"").toLowerCase(),((v=e.getAnnotFlag()).checkReadOnly()||v.checkLocked())&&(r=!0),a.indexOf(f)>-1&&(l=!0),o.indexOf(f)>-1&&(s=!0),n.forEach((function(e){switch(e.name){case"dropdown-align":r||l||d.length<=1?e.disable():e.enable();break;case"dropdown-center":r||l||!c||!p?e.disable():e.enable();break;case"dropdown-distribute":r||l||d.length<=2?e.disable():e.enable();break;case"dropdown-size":r||l||d.length<=1?e.disable():e.enable(),s?e.hide():e.show()}})),[2]):[2]}}))})),function(e){return m.apply(this,arguments)})))];case 2:return v.sent(),[4,i.getAnnotAuthorityManager()];case 3:return u=v.sent(),[4,i.getPDFDocRender()];case 4:return(p=v.sent())&&p.noInteraction&&(r=!0),r?[3,6]:[4,f(0)];case 5:r=v.sent(),v.label=6;case 6:return n.forEach((function(e){if(l)e.hide();else switch(e.show(),e.name){case"dropdown-align":r||d.length<=1?e.disable():e.enable();break;case"dropdown-center":r?e.disable():e.enable();break;case"dropdown-distribute":r||d.length<=2?e.disable():e.enable();break;case"dropdown-size":r||d.length<=1?e.disable():e.enable(),s?e.hide():e.show()}})),setTimeout((function(){var t=e.component.nextSiblings();t&&(l?t.hide():t.show())}),20),[2]}var m}))}))()}}],[{key:"getName",value:function(){return"AlignmentMenuController"}}]),l}(Ti);e.registerController(Ti),e.registerController(h),e.registerPreConfiguredComponent("alignment-menu",{template:'<div name="alignment-menu" @controller="form-designer:AlignmentMenuController as acl">\n                    <dropdown name="dropdown-align" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.align.title">\n                        <xbutton name="align-left" @on.click="acl.align(\'left\')">form-designer:contextMenu.align.left</xbutton>\n                        <xbutton name="align-right" @on.click="acl.align(\'right\')">form-designer:contextMenu.align.right</xbutton>\n                        <xbutton name="align-top" @on.click="acl.align(\'top\')">form-designer:contextMenu.align.top</xbutton>\n                        <xbutton name="align-bottom" @on.click="acl.align(\'bottom\')">form-designer:contextMenu.align.bottom</xbutton>\n                        <contextmenu-separator></contextmenu-separator>\n                        <xbutton name="align-vertically" @on.click="acl.align(\'vertically\')">form-designer:contextMenu.align.vertically</xbutton>\n                        <xbutton name="align-horizontally" @on.click="acl.align(\'horizontally\')">form-designer:contextMenu.align.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-center" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.center.title">\n                        <xbutton name="center-vertically" @on.click="acl.center(\'vertically\')">form-designer:contextMenu.center.vertically</xbutton>\n                        <xbutton name="center-horizontally" @on.click="acl.center(\'horizontally\')">form-designer:contextMenu.center.horizontally</xbutton>\n                        <xbutton name="center-both" @on.click="acl.center(\'both\')">form-designer:contextMenu.center.both</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-distribute" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.distribute.title">\n                        <xbutton name="distribute-vertically" @on.click="acl.distribute(\'vertically\')">form-designer:contextMenu.distribute.vertically</xbutton>\n                        <xbutton name="distribute-horizontally" @on.click="acl.distribute(\'horizontally\')">form-designer:contextMenu.distribute.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-size" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.size.title">\n                        <xbutton name="size-height" @on.click="acl.size(\'height\')">form-designer:contextMenu.size.height</xbutton>\n                        <xbutton name="size-width" @on.click="acl.size(\'width\')">form-designer:contextMenu.size.width</xbutton>\n                        <xbutton name="size-both" @on.click="acl.size(\'both\')">form-designer:contextMenu.size.both</xbutton>\n                    </dropdown>\n                </div>',config:{target:"alignment-menu"}})}function _(){var e=this.component,t=e.parent;if(t){var i=this.getPDFUI();this.addDestroyHook(t.on("shown",(function(){i.getAllActiveElements().then((function(t){var i=t.some((function(e){return!e.annot||"widget"!==e.annot.getType()})),n=t.filter((function(e){return e.annot&&"widget"===e.annot.getType()})),a=n.length,o=!1;a>0&&["copyTarget","multipleCopy","copyToPage"].includes(e.name)&&(o=n.some((function(e){return 7==e.annot.getField().getType()}))),o||i||a>1?e.hide():e.show()}))})))}}}}]),p}(m.UIXAddon)})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));