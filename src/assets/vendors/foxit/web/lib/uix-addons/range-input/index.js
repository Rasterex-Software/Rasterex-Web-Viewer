!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.RangeUIXAddon=t(require("UIExtension")):e.RangeUIXAddon=t(e.UIExtension)}(self,(e=>(()=>{var t={648:(e,t,n)=>{var r=n(779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).showPrefix,a=r.$escape,o=e.disabled,i=e.rangeVal,u=e.pageCount,s=e.showSample;return t+='<div class="range" name="range-input">\n<div class="d_f mtmb_10 range-input__row-one">\n',n&&(t+='\n<div class="w_80 range-input__prefix" data-i18n="range:page"></div>\n'),t+='\n<input\nclass="w_140 range-input__input"\ntype="text"\nautocomplete="off"\nname="page"\n',t+=a(o),t+='\nvalue="',t+=a(i),t+='">\n<span\nclass="ml_20 mr_20"\ndata-i18n="range:separator"></span>\n<span name="pageCount">',t+=a(u),t+="</span>\n</div>\n",s&&(t+='\n<div class="d_f" name="infoMessage">\n<div class="w_80"></div>\n<span data-i18n="range:sample"></span>\n<i class="range-input-hint"></i>\n</div>\n'),t+="\n</div>"}},65:(e,t,n)=>{n(779);e.exports=function(e){"use strict";e=e||{};return'<div class="d_f" name="infoMessage">\n<div class="w_80"></div>\n<span data-i18n="range:sample" class="range-sample__sample"></span>\n<i class="range-input-hint"></i>\n</div>','<div class="d_f" name="infoMessage">\n<div class="w_80"></div>\n<span data-i18n="range:sample" class="range-sample__sample"></span>\n<i class="range-input-hint"></i>\n</div>'}},156:e=>{e.exports=null},585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},a=Object.create(r),o=/["&'<>]/;function i(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?i(e.call(e)):JSON.stringify(e)),e}a.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var r="",a=void 0,i=void 0,u=void 0;for(a=n.index,i=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:u="&#34;";break;case 38:u="&#38;";break;case 39:u="&#39;";break;case 60:u="&#60;";break;case 62:u="&#62;";break;default:continue}i!==a&&(r+=t.substring(i,a)),i=a+1,r+=u}return i!==a?r+t.substring(i,a):r}(i(e))},a.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var a in e)t(e[a],a)},e.exports=a},779:(e,t,n)=>{"use strict";e.exports=n(585)},705:(e,t,n)=>{var r=n(639).Symbol;e.exports=r},239:(e,t,n)=>{var r=n(705),a=n(607),o=n(333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},561:(e,t,n)=>{var r=n(990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},607:(e,t,n)=>{var r=n(705),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[u]=n:delete e[u]),a}},333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},639:(e,t,n)=>{var r=n(957),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},279:(e,t,n)=>{var r=n(218),a=n(771),o=n(841),i=Math.max,u=Math.min;e.exports=function(e,t,n){var s,l,c,f,p,v,d=0,h=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=s,r=l;return s=l=void 0,d=t,f=e.apply(r,n)}function m(e){var n=e-v;return void 0===v||n>=t||n<0||g&&e-d>=c}function w(){var e=a();if(m(e))return x(e);p=setTimeout(w,function(e){var n=t-(e-v);return g?u(n,c-(e-d)):n}(e))}function x(e){return p=void 0,y&&s?b(e):(s=l=void 0,f)}function P(){var e=a(),n=m(e);if(s=arguments,l=this,v=e,n){if(void 0===p)return function(e){return d=e,p=setTimeout(w,t),h?b(e):f}(v);if(g)return clearTimeout(p),p=setTimeout(w,t),b(v)}return void 0===p&&(p=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(h=!!n.leading,c=(g="maxWait"in n)?i(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),P.cancel=function(){void 0!==p&&clearTimeout(p),d=0,s=v=l=p=void 0},P.flush=function(){return void 0===p?f:x(a())},P}},218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},448:(e,t,n)=>{var r=n(239),a=n(5);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},771:(e,t,n)=>{var r=n(639);e.exports=function(){return r.Date.now()}},841:(e,t,n)=>{var r=n(561),a=n(218),o=n(448),i=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}},616:t=>{"use strict";t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var a={};return(()=>{"use strict";function e(t,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):e(t,n)}function t(t,n){if(!e(t,n))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}r.d(a,{default:()=>Se});var f=r(616),p=r(156),v=r.n(p);function d(e,t,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n||e):a.value}},d(e,t,n||e)}var h=r(65),g=r.n(h),y=f.vendors.jQuery,b="range-sample__tool-tip";function m(){y("."+b).remove()}function w(t,n,r){if(!e(t,HTMLElement))return function(){};var a=function(e){var a=t.getBoundingClientRect();!function(e,t,n,r){m(),y('<div class="'.concat(b,'">\n        <header>').concat(n,"</header>\n        <main>").concat(r,"</main>\n    </div>")).css({left:e+"px",top:t+"px"}).appendTo("body")}(a.right,a.bottom,n.i18n.t("range:sampleHintTitle"),r=n.i18n.t(r||"range:sampleHintDescription"))},o=function(e){m()};return t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",o),function(){t.removeEventListener("mouseenter",a),t.removeEventListener("mouseenter",o)}}var x=function(e){u(r,e);var n=c(r);function r(){return t(this,r),n.apply(this,arguments)}return o(r,[{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"mounted",value:function(){d(s(r.prototype),"mounted",this).call(this);var e=this.element,t=this.attrs.desc,n=w(e.querySelector(".range-input-hint"),this.pdfUI,t);this.addDestroyHook((function(){return n()}))}}],[{key:"getName",value:function(){return"sample"}}]),r}(f.SeniorComponentFactory.createSuperClass({template:g()()}));function P(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){P(o,r,a,i,u,"next",e)}function u(e){P(o,r,a,i,u,"throw",e)}i(void 0)}))}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function C(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var S=r(279),A=r.n(S),D=r(648),L=r.n(D);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N,T,R=function(e){return String(e).replace(/[<>&"\s]/g,(function(e){return{" ":"&nbsp;","<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))},U=f.vendors.jQuery,V="range-input__notfound-tip",M="range-input__label-wrap",H="range-input__label-item";function B(e){return W.apply(this,arguments)}function W(){return(W=_((function(e){var t,n,r,a,o;return E(this,(function(i){switch(i.label){case 0:return[4,e.getPageLabels()];case 1:for(t=i.sent(),n={},r=0;r<t.length;r++)a=t[r],void 0===(o=n[a])?n[a]=r:Array.isArray(o)?n[a].push(r):n[a]=[o,r];return[2,{labels:t,labelsMap:n}]}}))}))).apply(this,arguments)}function F(e,t){var n,r=t=t.trim();(n=t.match(/\"([\s\S]+)\"$/))&&(r=n[1]);var a=[];return e.forEach((function(e,t){e.toLowerCase().startsWith(r.toLowerCase())&&a.push([e,t])})),a}function Q(e){return e.reduce((function(e,t){var n=$(t,2);return e+function(e,t){return'<li class="'.concat(H,'" data-label="').concat(R(e),'" data-index="').concat(t,'">').concat(R(e)," (").concat(t+1,")</li>")}(n[0],n[1])}),"")}function q(){"function"==typeof N&&N(),U("."+V).remove()}function X(){"function"==typeof T&&T(),U("."+M).remove(),Y&&Y(null)}function z(e,t,n){var r=Q(e),a=U("."+M);a.length||(a=U('<ul class="'.concat(M,'"><ul>'))),a.empty().append(r);var o=t.getBoundingClientRect();return a.css({top:o.bottom+"px",left:o.left+"px"}),document.body.contains(a[0])||(document.body.appendChild(a[0]),a.slideDown()),a.find(":first-child").addClass("active"),T=ne(t,n),new Promise((function(e,n){!function(e,t){if(Y=e,Z=t,te)return;document.body.addEventListener("mousedown",(function(e){U(e.target).hasClass(H)&&Y(e.target),X()}),{capture:!0}),window.addEventListener("resize",(function(e){G(Z),J(Z)})),te=!0}(e,t)}))}function G(e){var t=U("."+M);if(t.length){var n=e.getBoundingClientRect();t.css({top:n.bottom+"px",left:n.left+"px"})}}function J(e){var t=U("."+V);if(t.length){var n=e.getBoundingClientRect();t.css({left:n.left-13+"px"}),t.css({top:n.top-t[0].getBoundingClientRect().height-7+"px"})}}var Y,Z,K,ee,te=!1;function ne(e,t){if(t)return U("."+t).on("scroll",(function(){G(e),J(e)})),function(){U("."+t).off("scroll")}}!function(e){e[e.None=0]="None",e[e.Digit=1]="Digit",e[e.Letter=2]="Letter",e[e.Comma=3]="Comma",e[e.Sub=4]="Sub",e[e.Quote=5]="Quote",e[e.Other=6]="Other"}(K||(K={})),function(e){e[e.None=0]="None",e[e.Exp=1]="Exp",e[e.Term=2]="Term",e[e.PriExp=3]="PriExp",e[e.Other=4]="Other"}(ee||(ee={}));var re,ae=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t(this,e),O(this,"type",void 0),O(this,"word",void 0),O(this,"startPos",void 0),O(this,"endPos",void 0),O(this,"originWord",void 0),this.type=n,this.word=r,this.startPos=a,this.endPos=o,this.originWord=i},oe="",ie=[],ue=0,se=0,le={},ce=null;function fe(){return ce}function pe(e){for(var t="";e.length;)t+=e.shift();return t}function ve(e){for(var t=e.length-1,n=0;t>=0&&"\\"===e[t];)n++,t--;return n}function de(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return le=n,ue=0,oe="",oe=function(e){var t="",n=[],r=0;ie=[];var a="",o=-1,i=-1,u=!0,s=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p=c.value;if(o++,","===p||"-"===p)if(5===r)n.push(p),a+=p;else if(0===r)i=o,ie.push(new ae(","===p?3:4,p,o,o));else{var v=pe(n);ie.push(new ae(r,v,i+1,o-1)),ie.push(new ae(","===p?3:4,p,o,o)),i=o,r=0,t&&!a&&(t=a)}else if(p>="0"&&p<="9")0===r?r=1:5!==r&&2!==r||(a+=p),n.push(p);else if(p>="A"&&p<="Z"||p>="a"&&p<="z")0===r&&(r=2),n.push(p),a+=p;else if('"'===p)if(0==r)r=5,n.push(p),a+=p;else if(5==r)if("\\"==n[n.length-1]&&ve(n)%2!=0)n.push(p),a+=p;else{var d=pe(n);d+='"',ie.push(new ae(5,d,i+1,o)),i=o,r=0,a=""}else{var h=pe(n);a=h,ie.push(new ae(r,h,i+1,o-1)),i=o-1,a&&!t&&(t=a),n.push('"'),r=5,a=""}else"\\"===p?(n.push(p),a+=p,0===r&&(r=6)):" "===p?5===r&&n.push(p):(a+=p,n.push(p),0===r&&(r=6))}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}if(n.length){var g=pe(n);ie.push(new ae(r,g,i+1,o))}return a&&!t&&(t=a),t}(e),se=t,null,ce=null,oe||(!function(){var e=0,t=0,n=new ae(6);4===(e=be())&&(ge(),e=2);if(2===e)for(;;){if(he(n),0===n.type)return!0;if(3!==n.type)break;if(4!==(t=be())){if(0===t)return!0;if(2!=t)break}else ge()}return!1}()?(ge(),oe=ue>=0&&ue<ie.length?ie[ue].word:"?"):function(){function e(e){var t=e.word,n=e.type;if(!t)return oe=t,!1;if(5==n){var r,a=le[t];if(void 0!==a)return Array.isArray(a)?(r=a[0],oe||(oe=t)):r=a,e.type=1,t=String(r),e.originWord=e.word,e.word=t,!0;oe=t}else if(1==n){var o=+t;if(o>0&&o<=se)return--o,t=String(o),e.originWord=e.word,e.word=t,!0;oe=t}return!1}for(ue=0;ue<ie.length;++ue){var t=void 0;if((t=ie[ue])&&(5==t.type||1==t.type)){if(5==t.type){if(!me(t.word))return oe=t.word,!1;t.word=we(t.word,!0)}if(!e(t))return!1}}return!0}()&&(r?function(){var e=[],t=[];function n(){if(1===t.length){var n=t[0];if(t.pop(),e.includes(n))return;e.push(n)}else if(2===t.length){var r=t[0];t.shift();var a,o=t[0];if(t.shift(),r>o)r=(a=[o,r])[0],o=a[1];for(var i=r;i<=o;++i)e.includes(i)||e.push(i)}}for(var r=0;r<ie.length;++r){var a=ie[r];if(a)if(1==a.type){var o=+a.word;t.push(o)}else 3==a.type&&n()}return n(),e}():ce=ie.map((function(e){return Number.isInteger(+e.word)?+e.word+1:e.word})).join(""))),oe}function he(e){return ue>=0&&ue<ie.length?(e.word=ie[ue].word,e.type=ie[ue].type,++ue,!0):(e.type=0,!1)}function ge(){return ue>=1&&ue<=ie.length&&(--ue,!0)}function ye(){var e=new ae(6);return he(e),1==e.type||5==e.type?3:3==e.type||4==e.type?4:0}function be(){var e,t=new ae(6);if(3==(e=ye())){if(he(t),0==t.type)return 2;if(4!=t.type)return ge(),2;if(3==ye())return 2}return e}function me(e){var t;for(e=_e(e);t=e.match(/\\\\+\"|\\\\+/);){if(t[0].length%2==1)return!1;e=e.substring(t[0].length)}return!0}function we(e,t){return e?(t&&(e=_e(e)),e.replace(/\\\\/g,"\\").replace(/\\\"/g,'"')):e}function xe(e){if(e!==document.activeElement)return!1;if(ie.length<=0)return!1;var t=Pe(re=e.selectionStart||0);if(!t)return!1;if(5!=t.type&&1!=t.type&&2!=t.type&&6!=t.type)return!1;var n,r=we((n=t).originWord||n.word,!1);return r||!1}function Pe(e){for(var t=0;t<ie.length;++t){var n=ie[t];if(n.startPos<=e&&e-1<=n.endPos)return ie[t]}return null}function _e(e){return'"'==e[0]&&'"'==e[e.length-1]&&(e=e.substring(1,e.length-1)),e}function Oe(e){return"string"!=typeof e&&(e=String(e)),e=(e=e.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"'),'"'.concat(e,'"')}var ke=f.vendors.jQuery,je=f.__.business,Ie=f.UIConsts.COMPONENT_EVENTS;function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";Object.defineProperty(e,"rangeVal",{set:function(e){throw new Error("Rangeval is not allowed to be modified")},get:function(){return t}})}var Ee=function(e){u(r,e);var n=c(r);function r(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var i;return t(this,r),(i=n.call.apply(n,[this].concat(C(a)))).state={default:{type:"common",rangeVal:"1",disabled:"",pageCount:1},showPrefix:!0,type:"common",disabled:"",rangeVal:"1",pageCount:1,types:["common","continue-start-one"]},Ce(i.state),i}return o(r,[{key:"getRange",value:function(){return this.state.rangeVal}},{key:"createDOMElement",value:function(){return document.createElement("div")}},{key:"inputFocus",value:function(){ke(this.element).find(".range-input__input").focus()}},{key:"render",value:function(){d(s(r.prototype),"render",this).call(this);var e=this.viewConfig.attrs,t=this.state,n=t.default,a=t.types,o=n.type,i=e.type,u=a.includes(i)?i:o,l=void 0===e.range?n.rangeVal:e.range,c=e["page-count"]?+e["page-count"]:n.pageCount;if(void 0!==e["show-prefix"]&&("false"===e["show-prefix"]?this.state.showPrefix=!1:this.state.showPrefix=!0),!Number.isInteger(c))throw new Error("Please pass in an integer");this.state.default={type:void 0===e.type?o:u,disabled:void 0===e.disabled?"":"disabled",pageCount:c,rangeVal:l},this.state.type=this.state.default.type,this.state.disabled=this.state.default.disabled,this.state.pageCount=this.state.default.pageCount,Ce(this.state,l)}},{key:"mounted",value:function(){var e=this;this.$element=ke(this.element),this.$element.html(L()(k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({},this.state),{showSample:!this.attrs["hide-sample"]}))),this.$pageInput=this.$element.find("[name=page]");var t=this._checkPropsRange(this.state.rangeVal);this.state.default.rangeVal=t,Ce(this.state,t),this._bindEvent(),this._findParentLayerComponent(),this._bindParentLayerComponentEvent(),this.addDestroyHook((function(){e.hasPageLabel&&q()})),d(s(r.prototype),"mounted",this).call(this)}},{key:"_findParentLayerComponent",value:function(){var e=this.attrs["layer-name"];if(e){for(var t=this.parent;t&&e!==t.name;)t=t.parent;if(!t)throw"parent component not found.";this.layerComp=t}}},{key:"_bindParentLayerComponentEvent",value:function(){var e=this;if(this.layerComp){var t=function(){e.hasPageLabel&&q()};this.layerComp.on(Ie.HIDDEN,t),this.addDestroyHook((function(){return e.layerComp.off(Ie.HIDDEN,t)}))}}},{key:"_checkPropsRange",value:function(e){if("common"===this.state.type)return this._input_common(e),this._change_common(e)}},{key:"_bindEvent",value:function(){var e=this,t=this.attrs["scroll-box-class-name"],n=function(r,a){var o=ke(r.target).val();if(e.valueInvalid=!1,e.hasPageLabel){if(!o.trim())return e.valueInvalid=!0,void q();var i=de(o,e.state.pageCount,e.labelsMap),u=xe(e.$pageInput[0]),s=[];u?(s=F(e.labels,u)).length||'"'!==u[0]||(s=F(e.labels,u.substring(1))):i&&(s=F(e.labels,i)),s.length||X(),i?(!function(e,t,n){if(q(),e){var r=U('<span class="'.concat(V,'"><span>')),a=U('<i class="range-input__notfound-tip__text"><i>');a.text(e),r.empty().append(a);var o=t.getBoundingClientRect();r.css({left:o.left-13+"px"}).appendTo("body"),r.css({top:o.top-r[0].getBoundingClientRect().height-7+"px"}),N=ne(t,n)}}(e.pdfUI.i18n.t("range:pageNotFoundTip",{target:i,interpolation:{escapeValue:!1}}),e.$pageInput[0],t),e.valueInvalid=!0):q(),!a&&s.length&&(u||i)&&z(s,e.$pageInput[0],t).then((function(t){if(t){var a=ke(t).data("label"),i=ke(t).data("index"),u=function(e,t,n){var r=Pe(re);if(!r)return!1;var a,o=e.substring(0,r.startPos),i=e.substring(r.endPos+1);return void 0!==(a=le[t])&&('"'===o[o.length-1]&&'"'===i[0]&&(o=o.substring(0,o.length-1),i=i.substring(1)),Array.isArray(a)?o+(n+1)+i:"".concat(o).concat(Oe(t)).concat(i))}(o,a,i);e.$pageInput.val(u),e.$pageInput.focus(),n(r,!0)}}));var l=fe();if(l){var c=e["_input_".concat(e.state.type)](l);Ce(e.state,c)}}else{var f=e["_input_".concat(e.state.type)](o);e.$pageInput.val(f),Ce(e.state,f)}},r=A()(n,300);this.$pageInput.on("input",(function(t){e.hasPageLabel?r(t):(e.attrs.continuous||n(t),e.trigger("nativeInput",t))})),this.$pageInput.on("focus",(function(t){e.hasPageLabel&&n(t,!0)})),this.$pageInput.on("change",(function(t){!e.hasPageLabel&&e.attrs.continuous&&e.trigger("nativeChange",t)})),this.$pageInput.on("blur",(function(t){if(e.hasPageLabel){n(t,!0);var r=e.state.rangeVal,a=ke(t.target).val();return e.valueInvalid||e.trigger("rangeChange",r,a),void e.trigger("rangeChangeAlways",r,a,e.valueInvalid)}if(e.attrs.continuous)e.trigger("nativeBlur",t);else{var o=ke(t.target).val().trim();e._input_common(o);var i=e["_change_".concat(e.state.type)](o);Ce(e.state,i),e.trigger("rangeChange",i),e.trigger("rangeChangeAlways",i)}})),this.$pageInput.on("keydown",(function(e){"ArrowDown"===e.key||"ArrowUp"===e.key?(!function(e){if(("ArrowUp"===e||"ArrowDown"===e)&&U("."+M).length){var t,n=U(".".concat(H,".active"));"ArrowUp"===e?t=n.prev():"ArrowDown"===e&&(t=n.next()),t.length&&(n.removeClass("active"),t.addClass("active"))}}(e.key),e.stopPropagation(),e.preventDefault()):"Enter"===e.key&&(!function(){if(Y){var e=U(".".concat(H,".active"));e.length&&(Y(e[0]),X())}}(),e.preventDefault())}));var a=w(this.$element.find(".range-input-hint").get(0),this.pdfUI);this.addDestroyHook((function(){return e.$pageInput.off()}),(function(){return a()}))}},{key:"_input_common",value:function(e){var t=je.form_.verify.pageRange.restrict({value:e,max:this.state.pageCount,initValue:this.state.rangeVal});return this.strictValue=t,t.nullable}},{key:"_change_common",value:function(e){return this.strictValue.nonNullable!==e&&this.$pageInput.val(this.strictValue.nonNullable),this.$pageInput.val()}},{key:"alertNoPageSelected",value:function(){var e=this.pdfUI.i18n.t("range:noPageSelected");return this.pdfUI.alert({message:e,level:"warning"})}},{key:"checkValueInvalidAndAlert",value:function(){var e=this;return!!this.hasPageLabel&&(q(),X(),this.valueInvalid&&this.alertNoPageSelected().then((function(){e.$pageInput.focus()})),this.valueInvalid)}},{key:"checkHasLabel",value:function(){var e=this;return _((function(){return E(this,(function(t){switch(t.label){case 0:if(!e.doc)throw"You should set doc before check the page label.";return[4,e.doc.checkDocIsUseLogicPage()];case 1:return e.hasPageLabel=t.sent(),[2]}}))}))()}},{key:"getLabels",value:function(){var e=this;return _((function(){var t,n,r;return E(this,(function(a){switch(a.label){case 0:return e.hasPageLabel?[4,B(e.doc)]:[2];case 1:return t=a.sent(),n=t.labels,r=t.labelsMap,e.labels=n,e.labelsMap=r,[2]}}))}))()}},{key:"setDoc",value:function(e){this.doc=e}},{key:"reset",value:function(e){var t=e.doc,n=e.pageCount,r=e.currentIndexOrPages,a=e.trigger,o=void 0===a||a,i=e.cropHandle,u=this;return _((function(){var e,a,s;return E(this,(function(l){switch(l.label){case 0:return void 0===n&&(n=t.getPageCount()),u.setDoc(t),u.updatePageCount(n),[4,u.checkHasLabel()];case 1:return l.sent(),[4,u.getLabels()];case 2:return l.sent(),u.attrs["empty-initial"]?(u.restDefault(r,o),[2]):u.attrs["another-doc"]?(u.restDefault(r),[2]):(e=u.controller.getComponentByName("fv-thumbnail-panel"))?(a=e.getAllActivePageIndex(),s=r,a[1].length>0&&(s=a[1].join()),u.restDefault(s,o),i&&i(s),[2]):(r&&(u.restDefault(r),i&&i(r)),[2])}}))}))()}},{key:"restDefault",value:function(e,t){var n=this;if(this.attrs["empty-initial"])return this.$pageInput.val(""),void(this.valueInvalid=!0);void 0!==e&&""!==e||(e=this.state.default.rangeVal);Ce(this.state,e);var r=e;this.hasPageLabel&&!this.attrs["another-doc"]&&(r=e.split(",").map((function(e){return e.split("-").map((function(e){var t=n.labels[e-1];return Array.isArray(n.labelsMap[t])?e:Oe("".concat(n.labels[e-1]))})).join("-")})).join(",")),this.$pageInput.val(r),t&&this.trigger("rangeChange",e)}},{key:"updatePageCount",value:function(e){if(!Number.isInteger(e))throw new Error("Please pass in an integer");this.state.pageCount=e,this.state.default.pageCount=e,ke(this.element).find("[name=pageCount]").text(e)}},{key:"inputDisabled",value:function(){this.$pageInput.attr("disabled",!0)}},{key:"inputEnabled",value:function(){this.$pageInput.removeAttr("disabled")}},{key:"removePopup",value:function(){this.hasPageLabel&&(q(),X())}}],[{key:"getName",value:function(){return"input"}}]),r}(f.components.Component),Se=function(e){u(r,e);var n=c(r);function r(){return t(this,r),n.apply(this,arguments)}return o(r,[{key:"fragments",value:function(){return[]}},{key:"init",value:function(e){this.pdfUI=e}}],[{key:"getName",value:function(){return"Range"}},{key:"getLoader",value:function(){return v()}},{key:"initOnLoad",value:function(){var e=f.modular.module("range",[]);e.registerComponent(x),e.registerComponent(Ee)}}]),r}(f.UIXAddon)})(),a=a.default})()));