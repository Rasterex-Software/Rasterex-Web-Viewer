!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],o):"object"==typeof exports?exports.RecognitionFormUIXAddon=o(require("UIExtension")):e.RecognitionFormUIXAddon=o(e.UIExtension)}(self,(e=>(()=>{var o={876:e=>{e.exports=null},616:o=>{"use strict";o.exports=e}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,n),i.exports}n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o);var r={};return(()=>{"use strict";function e(o,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](o):e(o,t)}function o(o,t){if(!e(o,t))throw new TypeError("Cannot call a class as a function")}function t(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}function c(e,o){return c=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},c(e,o)}function a(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&c(e,o)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,o){return!o||"object"!=((t=o)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):o;var t}function f(e){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=u(e);if(o){var r=u(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l(this,t)}}n.d(r,{default:()=>b});var s=n(616),p=n(876),d=n.n(p),m=s.shared.replaceRibbonButton2XButton,g=s.PDFViewCtrl.Consts.PDFDocPermission,b=(s.PDFViewCtrl.Events,function(e){a(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return i(n,[{key:"init",value:function(e){this.pdfUI=e}},{key:"destroy",value:function(){}}],[{key:"getName",value:function(){return"recognitionForm"}},{key:"getLoader",value:function(){return d()}},{key:"initOnLoad",value:function(){var e=!1,t=s.modular.module("recognition-form",[]),n={template:'<ribbon-button text="recognition-form:tips.recognition" @tooltip name="recognition-form-button" icon-class="fv__icon-toolbar-recognition-form">recognition-form:tips.recognition</ribbon-button>',config:{target:"recognition-form-button",tooltip:{title:"recognition-form:tips.recognition"},callback:function(t){a(r,t);var n=f(r);function r(){return o(this,r),n.apply(this,arguments)}return i(r,[{key:"changePermission",value:function(e){!e.checkPermission(this.constructor.permission)||e.isStaticXFA()||e.isDynamicXFA()?this.component.lock&&this.component.lock():this.component.unlock&&this.component.unlock()}},{key:"handle",value:function(o){var t,n=this,r=this.getComponentByName("recognition-dialog"),i=this.pdfUI.customsDetectFormFieldsParams||{},c=Promise.resolve(r);r||(c=(t=this.pdfUI,t.getRootComponent().then((function(e){e.append('\n            <layer name="recognition-dialog" class="fv__popup-dialog center fv__ui-recognition-dialog" @resizable backdrop style="max-height: calc(100vh - 40px); overflow: auto;">\n                <layer-header title="recognition-form:dialog.title"></layer-header>\n                <div class="fv__popup-recognition-body" name="fv__popup-recognition-body">\n                    recognition-form:dialog.content\n                    <div class="fv__popup-recognition-body-employee">Employee Name:\n                        <div class="fv__popup-recognition-body-employee-lever-1">1</div>\n                        <span><label>Employee Name</label></span>\n                        <div class="fv__popup-recognition-body-employee-lever-2">2</div>\n                    </div>\n                    recognition-form:dialog.description\n                </div>\n                <layer-toolbar class="fv__ui-recognition-bottom-bar footer">\n                    <label class="checkbox" @controller="recognition-form:NotAgain" name="recognition-form-not-again">\n                        <input type="checkbox" />\n                        <div data-i18n="recognition-form:dialog.notAgain"></div>\n                    </label>\n                    <xbutton data-action="OK" class="fv__ui-dialog-ok-button" @controller="recognition-form:HideDialog">dialog.ok</xbutton>\n                </layer-toolbar>\n            </layer>\n        ')}))).then((function(e){r=n.getComponentByName("recognition-dialog")}))),c.then((function(e){return n.pdfUI.getStateHandlerManager().then((function(e){return e.switchTo("hand")}))})).then((function(o){n.pdfUI.getCurrentPDFDoc().then((function(e){return e.autoRecognitionForm()})).then((function(o){for(var t=n.component.element.parentElement;t;){if("form-toolbar-group-list"===t.getAttribute("name")){var c=t.querySelector(".fx-ribbon-item-active");c||(c=t.querySelector(".fx-ribbon-item.selected")),c.focus();break}t=t.parentElement}0===o?n.pdfUI.alert("recognition-form:error.noFields","recognition-form:error.title",void 0,"warning").then((function(){i.successAfter&&i.successAfter()})):(n.pdfUI.redraw(!0),!e&&r.show()),setTimeout((function(){n.component.lock&&n.component.lock()}),200)}))}))}}],[{key:"permission",get:function(){return g.ModifyDocument}}]),r}(s.Controller)}};t.registerPreConfiguredComponent("recognition-form-ribbon-button",n),t.registerPreConfiguredComponent("recognition-form-button",Object.assign({},n,{template:m(n.template)})),t.controller("HideDialog",{handle:function(){var e=this.pdfUI.customsDetectFormFieldsParams||{},o=this.getComponentByName("recognition-dialog");e.successAfter&&e.successAfter(),o&&o.hide()}}),t.controller("NotAgain",{handle:function(o){if("INPUT"===o.target.nodeName){var t=o.target;e=t.checked}}})}}]),n}(s.UIXAddon))})(),r=r.default})()));